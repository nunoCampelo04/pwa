(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();/**
* @vue/shared v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function uo(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const he={},vs=[],dt=()=>{},zc=()=>!1,on=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),fo=t=>t.startsWith("onUpdate:"),Ie=Object.assign,ho=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Bc=Object.prototype.hasOwnProperty,le=(t,e)=>Bc.call(t,e),W=Array.isArray,bs=t=>hi(t)==="[object Map]",Ns=t=>hi(t)==="[object Set]",Wo=t=>hi(t)==="[object Date]",Z=t=>typeof t=="function",_e=t=>typeof t=="string",pt=t=>typeof t=="symbol",pe=t=>t!==null&&typeof t=="object",Sr=t=>(pe(t)||Z(t))&&Z(t.then)&&Z(t.catch),Cr=Object.prototype.toString,hi=t=>Cr.call(t),Vc=t=>hi(t).slice(8,-1),Tr=t=>hi(t)==="[object Object]",po=t=>_e(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,js=uo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),an=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},Hc=/-(\w)/g,Ke=an(t=>t.replace(Hc,(e,s)=>s?s.toUpperCase():"")),jc=/\B([A-Z])/g,rs=an(t=>t.replace(jc,"-$1").toLowerCase()),rn=an(t=>t.charAt(0).toUpperCase()+t.slice(1)),wn=an(t=>t?`on${rn(t)}`:""),Gt=(t,e)=>!Object.is(t,e),Ri=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Ar=(t,e,s,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:s})},Bi=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Wc=t=>{const e=_e(t)?Number(t):NaN;return isNaN(e)?t:e};let Go;const ln=()=>Go||(Go=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function pi(t){if(W(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],i=_e(n)?Jc(n):pi(n);if(i)for(const o in i)e[o]=i[o]}return e}else if(_e(t)||pe(t))return t}const Gc=/;(?![^(]*\))/g,qc=/:([^]+)/,Kc=/\/\*[^]*?\*\//g;function Jc(t){const e={};return t.replace(Kc,"").split(Gc).forEach(s=>{if(s){const n=s.split(qc);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function E(t){let e="";if(_e(t))e=t;else if(W(t))for(let s=0;s<t.length;s++){const n=E(t[s]);n&&(e+=n+" ")}else if(pe(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const Zc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Yc=uo(Zc);function kr(t){return!!t||t===""}function Xc(t,e){if(t.length!==e.length)return!1;let s=!0;for(let n=0;s&&n<t.length;n++)s=mi(t[n],e[n]);return s}function mi(t,e){if(t===e)return!0;let s=Wo(t),n=Wo(e);if(s||n)return s&&n?t.getTime()===e.getTime():!1;if(s=pt(t),n=pt(e),s||n)return t===e;if(s=W(t),n=W(e),s||n)return s&&n?Xc(t,e):!1;if(s=pe(t),n=pe(e),s||n){if(!s||!n)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const l in t){const r=t.hasOwnProperty(l),c=e.hasOwnProperty(l);if(r&&!c||!r&&c||!mi(t[l],e[l]))return!1}}return String(t)===String(e)}function mo(t,e){return t.findIndex(s=>mi(s,e))}const Er=t=>!!(t&&t.__v_isRef===!0),b=t=>_e(t)?t:t==null?"":W(t)||pe(t)&&(t.toString===Cr||!Z(t.toString))?Er(t)?b(t.value):JSON.stringify(t,Pr,2):String(t),Pr=(t,e)=>Er(e)?Pr(t,e.value):bs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[n,i],o)=>(s[In(n,o)+" =>"]=i,s),{})}:Ns(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>In(s))}:pt(e)?In(e):pe(e)&&!W(e)&&!Tr(e)?String(e):e,In=(t,e="")=>{var s;return pt(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Le;class Qc{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Le,!e&&Le&&(this.index=(Le.scopes||(Le.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=Le;try{return Le=this,e()}finally{Le=s}}}on(){++this._on===1&&(this.prevScope=Le,Le=this)}off(){this._on>0&&--this._on===0&&(Le=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function eu(){return Le}let ve;const Sn=new WeakSet;class Mr{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Le&&Le.active&&Le.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Sn.has(this)&&(Sn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Dr(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,qo(this),xr(this);const e=ve,s=Xe;ve=this,Xe=!0;try{return this.fn()}finally{Or(this),ve=e,Xe=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)bo(e);this.deps=this.depsTail=void 0,qo(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Sn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Bn(this)&&this.run()}get dirty(){return Bn(this)}}let Rr=0,Ws,Gs;function Dr(t,e=!1){if(t.flags|=8,e){t.next=Gs,Gs=t;return}t.next=Ws,Ws=t}function go(){Rr++}function vo(){if(--Rr>0)return;if(Gs){let e=Gs;for(Gs=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Ws;){let e=Ws;for(Ws=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=s}}if(t)throw t}function xr(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Or(t){let e,s=t.depsTail,n=s;for(;n;){const i=n.prevDep;n.version===-1?(n===s&&(s=i),bo(n),tu(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}t.deps=e,t.depsTail=s}function Bn(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Nr(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Nr(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ei)||(t.globalVersion=ei,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Bn(t))))return;t.flags|=2;const e=t.dep,s=ve,n=Xe;ve=t,Xe=!0;try{xr(t);const i=t.fn(t._value);(e.version===0||Gt(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{ve=s,Xe=n,Or(t),t.flags&=-3}}function bo(t,e=!1){const{dep:s,prevSub:n,nextSub:i}=t;if(n&&(n.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=n,t.nextSub=void 0),s.subs===t&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let o=s.computed.deps;o;o=o.nextDep)bo(o,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function tu(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let Xe=!0;const Lr=[];function At(){Lr.push(Xe),Xe=!1}function kt(){const t=Lr.pop();Xe=t===void 0?!0:t}function qo(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=ve;ve=void 0;try{e()}finally{ve=s}}}let ei=0;class su{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class yo{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!ve||!Xe||ve===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==ve)s=this.activeLink=new su(ve,this),ve.deps?(s.prevDep=ve.depsTail,ve.depsTail.nextDep=s,ve.depsTail=s):ve.deps=ve.depsTail=s,$r(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=ve.depsTail,s.nextDep=void 0,ve.depsTail.nextDep=s,ve.depsTail=s,ve.deps===s&&(ve.deps=n)}return s}trigger(e){this.version++,ei++,this.notify(e)}notify(e){go();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{vo()}}}function $r(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)$r(n)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Vn=new WeakMap,is=Symbol(""),Hn=Symbol(""),ti=Symbol("");function Ee(t,e,s){if(Xe&&ve){let n=Vn.get(t);n||Vn.set(t,n=new Map);let i=n.get(s);i||(n.set(s,i=new yo),i.map=n,i.key=s),i.track()}}function _t(t,e,s,n,i,o){const l=Vn.get(t);if(!l){ei++;return}const r=c=>{c&&c.trigger()};if(go(),e==="clear")l.forEach(r);else{const c=W(t),u=c&&po(s);if(c&&s==="length"){const d=Number(n);l.forEach((h,f)=>{(f==="length"||f===ti||!pt(f)&&f>=d)&&r(h)})}else switch((s!==void 0||l.has(void 0))&&r(l.get(s)),u&&r(l.get(ti)),e){case"add":c?u&&r(l.get("length")):(r(l.get(is)),bs(t)&&r(l.get(Hn)));break;case"delete":c||(r(l.get(is)),bs(t)&&r(l.get(Hn)));break;case"set":bs(t)&&r(l.get(is));break}}vo()}function us(t){const e=se(t);return e===t?e:(Ee(e,"iterate",ti),qe(t)?e:e.map(Ae))}function cn(t){return Ee(t=se(t),"iterate",ti),t}const iu={__proto__:null,[Symbol.iterator](){return Cn(this,Symbol.iterator,Ae)},concat(...t){return us(this).concat(...t.map(e=>W(e)?us(e):e))},entries(){return Cn(this,"entries",t=>(t[1]=Ae(t[1]),t))},every(t,e){return vt(this,"every",t,e,void 0,arguments)},filter(t,e){return vt(this,"filter",t,e,s=>s.map(Ae),arguments)},find(t,e){return vt(this,"find",t,e,Ae,arguments)},findIndex(t,e){return vt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return vt(this,"findLast",t,e,Ae,arguments)},findLastIndex(t,e){return vt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return vt(this,"forEach",t,e,void 0,arguments)},includes(...t){return Tn(this,"includes",t)},indexOf(...t){return Tn(this,"indexOf",t)},join(t){return us(this).join(t)},lastIndexOf(...t){return Tn(this,"lastIndexOf",t)},map(t,e){return vt(this,"map",t,e,void 0,arguments)},pop(){return Us(this,"pop")},push(...t){return Us(this,"push",t)},reduce(t,...e){return Ko(this,"reduce",t,e)},reduceRight(t,...e){return Ko(this,"reduceRight",t,e)},shift(){return Us(this,"shift")},some(t,e){return vt(this,"some",t,e,void 0,arguments)},splice(...t){return Us(this,"splice",t)},toReversed(){return us(this).toReversed()},toSorted(t){return us(this).toSorted(t)},toSpliced(...t){return us(this).toSpliced(...t)},unshift(...t){return Us(this,"unshift",t)},values(){return Cn(this,"values",Ae)}};function Cn(t,e,s){const n=cn(t),i=n[e]();return n!==t&&!qe(t)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.value&&(o.value=s(o.value)),o}),i}const nu=Array.prototype;function vt(t,e,s,n,i,o){const l=cn(t),r=l!==t&&!qe(t),c=l[e];if(c!==nu[e]){const h=c.apply(t,o);return r?Ae(h):h}let u=s;l!==t&&(r?u=function(h,f){return s.call(this,Ae(h),f,t)}:s.length>2&&(u=function(h,f){return s.call(this,h,f,t)}));const d=c.call(l,u,n);return r&&i?i(d):d}function Ko(t,e,s,n){const i=cn(t);let o=s;return i!==t&&(qe(t)?s.length>3&&(o=function(l,r,c){return s.call(this,l,r,c,t)}):o=function(l,r,c){return s.call(this,l,Ae(r),c,t)}),i[e](o,...n)}function Tn(t,e,s){const n=se(t);Ee(n,"iterate",ti);const i=n[e](...s);return(i===-1||i===!1)&&Io(s[0])?(s[0]=se(s[0]),n[e](...s)):i}function Us(t,e,s=[]){At(),go();const n=se(t)[e].apply(t,s);return vo(),kt(),n}const ou=uo("__proto__,__v_isRef,__isVue"),Fr=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(pt));function au(t){pt(t)||(t=String(t));const e=se(this);return Ee(e,"has",t),e.hasOwnProperty(t)}class Ur{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,n){if(s==="__v_skip")return e.__v_skip;const i=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return o;if(s==="__v_raw")return n===(i?o?gu:Hr:o?Vr:Br).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const l=W(e);if(!i){let c;if(l&&(c=iu[s]))return c;if(s==="hasOwnProperty")return au}const r=Reflect.get(e,s,Pe(e)?e:n);return(pt(s)?Fr.has(s):ou(s))||(i||Ee(e,"get",s),o)?r:Pe(r)?l&&po(s)?r:r.value:pe(r)?i?Wr(r):un(r):r}}class zr extends Ur{constructor(e=!1){super(!1,e)}set(e,s,n,i){let o=e[s];if(!this._isShallow){const c=Jt(o);if(!qe(n)&&!Jt(n)&&(o=se(o),n=se(n)),!W(e)&&Pe(o)&&!Pe(n))return c?!1:(o.value=n,!0)}const l=W(e)&&po(s)?Number(s)<e.length:le(e,s),r=Reflect.set(e,s,n,Pe(e)?e:i);return e===se(i)&&(l?Gt(n,o)&&_t(e,"set",s,n):_t(e,"add",s,n)),r}deleteProperty(e,s){const n=le(e,s);e[s];const i=Reflect.deleteProperty(e,s);return i&&n&&_t(e,"delete",s,void 0),i}has(e,s){const n=Reflect.has(e,s);return(!pt(s)||!Fr.has(s))&&Ee(e,"has",s),n}ownKeys(e){return Ee(e,"iterate",W(e)?"length":is),Reflect.ownKeys(e)}}class ru extends Ur{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const lu=new zr,cu=new ru,uu=new zr(!0);const jn=t=>t,Ti=t=>Reflect.getPrototypeOf(t);function du(t,e,s){return function(...n){const i=this.__v_raw,o=se(i),l=bs(o),r=t==="entries"||t===Symbol.iterator&&l,c=t==="keys"&&l,u=i[t](...n),d=s?jn:e?Vi:Ae;return!e&&Ee(o,"iterate",c?Hn:is),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:r?[d(h[0]),d(h[1])]:d(h),done:f}},[Symbol.iterator](){return this}}}}function Ai(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function fu(t,e){const s={get(i){const o=this.__v_raw,l=se(o),r=se(i);t||(Gt(i,r)&&Ee(l,"get",i),Ee(l,"get",r));const{has:c}=Ti(l),u=e?jn:t?Vi:Ae;if(c.call(l,i))return u(o.get(i));if(c.call(l,r))return u(o.get(r));o!==l&&o.get(i)},get size(){const i=this.__v_raw;return!t&&Ee(se(i),"iterate",is),Reflect.get(i,"size",i)},has(i){const o=this.__v_raw,l=se(o),r=se(i);return t||(Gt(i,r)&&Ee(l,"has",i),Ee(l,"has",r)),i===r?o.has(i):o.has(i)||o.has(r)},forEach(i,o){const l=this,r=l.__v_raw,c=se(r),u=e?jn:t?Vi:Ae;return!t&&Ee(c,"iterate",is),r.forEach((d,h)=>i.call(o,u(d),u(h),l))}};return Ie(s,t?{add:Ai("add"),set:Ai("set"),delete:Ai("delete"),clear:Ai("clear")}:{add(i){!e&&!qe(i)&&!Jt(i)&&(i=se(i));const o=se(this);return Ti(o).has.call(o,i)||(o.add(i),_t(o,"add",i,i)),this},set(i,o){!e&&!qe(o)&&!Jt(o)&&(o=se(o));const l=se(this),{has:r,get:c}=Ti(l);let u=r.call(l,i);u||(i=se(i),u=r.call(l,i));const d=c.call(l,i);return l.set(i,o),u?Gt(o,d)&&_t(l,"set",i,o):_t(l,"add",i,o),this},delete(i){const o=se(this),{has:l,get:r}=Ti(o);let c=l.call(o,i);c||(i=se(i),c=l.call(o,i)),r&&r.call(o,i);const u=o.delete(i);return c&&_t(o,"delete",i,void 0),u},clear(){const i=se(this),o=i.size!==0,l=i.clear();return o&&_t(i,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(i=>{s[i]=du(i,t,e)}),s}function _o(t,e){const s=fu(t,e);return(n,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(le(s,i)&&i in n?s:n,i,o)}const hu={get:_o(!1,!1)},pu={get:_o(!1,!0)},mu={get:_o(!0,!1)};const Br=new WeakMap,Vr=new WeakMap,Hr=new WeakMap,gu=new WeakMap;function vu(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function bu(t){return t.__v_skip||!Object.isExtensible(t)?0:vu(Vc(t))}function un(t){return Jt(t)?t:wo(t,!1,lu,hu,Br)}function jr(t){return wo(t,!1,uu,pu,Vr)}function Wr(t){return wo(t,!0,cu,mu,Hr)}function wo(t,e,s,n,i){if(!pe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=bu(t);if(o===0)return t;const l=i.get(t);if(l)return l;const r=new Proxy(t,o===2?n:s);return i.set(t,r),r}function ys(t){return Jt(t)?ys(t.__v_raw):!!(t&&t.__v_isReactive)}function Jt(t){return!!(t&&t.__v_isReadonly)}function qe(t){return!!(t&&t.__v_isShallow)}function Io(t){return t?!!t.__v_raw:!1}function se(t){const e=t&&t.__v_raw;return e?se(e):t}function yu(t){return!le(t,"__v_skip")&&Object.isExtensible(t)&&Ar(t,"__v_skip",!0),t}const Ae=t=>pe(t)?un(t):t,Vi=t=>pe(t)?Wr(t):t;function Pe(t){return t?t.__v_isRef===!0:!1}function fs(t){return Gr(t,!1)}function _u(t){return Gr(t,!0)}function Gr(t,e){return Pe(t)?t:new wu(t,e)}class wu{constructor(e,s){this.dep=new yo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:se(e),this._value=s?e:Ae(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,n=this.__v_isShallow||qe(e)||Jt(e);e=n?e:se(e),Gt(e,s)&&(this._rawValue=e,this._value=n?e:Ae(e),this.dep.trigger())}}function _s(t){return Pe(t)?t.value:t}const Iu={get:(t,e,s)=>e==="__v_raw"?t:_s(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const i=t[e];return Pe(i)&&!Pe(s)?(i.value=s,!0):Reflect.set(t,e,s,n)}};function qr(t){return ys(t)?t:new Proxy(t,Iu)}class Su{constructor(e,s,n){this.fn=e,this.setter=s,this._value=void 0,this.dep=new yo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ei-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&ve!==this)return Dr(this,!0),!0}get value(){const e=this.dep.track();return Nr(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Cu(t,e,s=!1){let n,i;return Z(t)?n=t:(n=t.get,i=t.set),new Su(n,i,s)}const ki={},Hi=new WeakMap;let es;function Tu(t,e=!1,s=es){if(s){let n=Hi.get(s);n||Hi.set(s,n=[]),n.push(t)}}function Au(t,e,s=he){const{immediate:n,deep:i,once:o,scheduler:l,augmentJob:r,call:c}=s,u=N=>i?N:qe(N)||i===!1||i===0?wt(N,1):wt(N);let d,h,f,g,T=!1,P=!1;if(Pe(t)?(h=()=>t.value,T=qe(t)):ys(t)?(h=()=>u(t),T=!0):W(t)?(P=!0,T=t.some(N=>ys(N)||qe(N)),h=()=>t.map(N=>{if(Pe(N))return N.value;if(ys(N))return u(N);if(Z(N))return c?c(N,2):N()})):Z(t)?e?h=c?()=>c(t,2):t:h=()=>{if(f){At();try{f()}finally{kt()}}const N=es;es=d;try{return c?c(t,3,[g]):t(g)}finally{es=N}}:h=dt,e&&i){const N=h,Y=i===!0?1/0:i;h=()=>wt(N(),Y)}const z=eu(),L=()=>{d.stop(),z&&z.active&&ho(z.effects,d)};if(o&&e){const N=e;e=(...Y)=>{N(...Y),L()}}let D=P?new Array(t.length).fill(ki):ki;const $=N=>{if(!(!(d.flags&1)||!d.dirty&&!N))if(e){const Y=d.run();if(i||T||(P?Y.some((Q,ee)=>Gt(Q,D[ee])):Gt(Y,D))){f&&f();const Q=es;es=d;try{const ee=[Y,D===ki?void 0:P&&D[0]===ki?[]:D,g];c?c(e,3,ee):e(...ee),D=Y}finally{es=Q}}}else d.run()};return r&&r($),d=new Mr(h),d.scheduler=l?()=>l($,!1):$,g=N=>Tu(N,!1,d),f=d.onStop=()=>{const N=Hi.get(d);if(N){if(c)c(N,4);else for(const Y of N)Y();Hi.delete(d)}},e?n?$(!0):D=d.run():l?l($.bind(null,!0),!0):d.run(),L.pause=d.pause.bind(d),L.resume=d.resume.bind(d),L.stop=L,L}function wt(t,e=1/0,s){if(e<=0||!pe(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,Pe(t))wt(t.value,e,s);else if(W(t))for(let n=0;n<t.length;n++)wt(t[n],e,s);else if(Ns(t)||bs(t))t.forEach(n=>{wt(n,e,s)});else if(Tr(t)){for(const n in t)wt(t[n],e,s);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&wt(t[n],e,s)}return t}/**
* @vue/runtime-core v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function gi(t,e,s,n){try{return n?t(...n):t()}catch(i){dn(i,e,s)}}function et(t,e,s,n){if(Z(t)){const i=gi(t,e,s,n);return i&&Sr(i)&&i.catch(o=>{dn(o,e,s)}),i}if(W(t)){const i=[];for(let o=0;o<t.length;o++)i.push(et(t[o],e,s,n));return i}}function dn(t,e,s,n=!0){const i=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:l}=e&&e.appContext.config||he;if(e){let r=e.parent;const c=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;r;){const d=r.ec;if(d){for(let h=0;h<d.length;h++)if(d[h](t,c,u)===!1)return}r=r.parent}if(o){At(),gi(o,null,10,[t,c,u]),kt();return}}ku(t,s,i,n,l)}function ku(t,e,s,n=!0,i=!1){if(i)throw t;console.error(t)}const Re=[];let lt=-1;const ws=[];let $t=null,hs=0;const Kr=Promise.resolve();let ji=null;function So(t){const e=ji||Kr;return t?e.then(this?t.bind(this):t):e}function Eu(t){let e=lt+1,s=Re.length;for(;e<s;){const n=e+s>>>1,i=Re[n],o=si(i);o<t||o===t&&i.flags&2?e=n+1:s=n}return e}function Co(t){if(!(t.flags&1)){const e=si(t),s=Re[Re.length-1];!s||!(t.flags&2)&&e>=si(s)?Re.push(t):Re.splice(Eu(e),0,t),t.flags|=1,Jr()}}function Jr(){ji||(ji=Kr.then(Yr))}function Pu(t){W(t)?ws.push(...t):$t&&t.id===-1?$t.splice(hs+1,0,t):t.flags&1||(ws.push(t),t.flags|=1),Jr()}function Jo(t,e,s=lt+1){for(;s<Re.length;s++){const n=Re[s];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;Re.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Zr(t){if(ws.length){const e=[...new Set(ws)].sort((s,n)=>si(s)-si(n));if(ws.length=0,$t){$t.push(...e);return}for($t=e,hs=0;hs<$t.length;hs++){const s=$t[hs];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}$t=null,hs=0}}const si=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Yr(t){try{for(lt=0;lt<Re.length;lt++){const e=Re[lt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),gi(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;lt<Re.length;lt++){const e=Re[lt];e&&(e.flags&=-2)}lt=-1,Re.length=0,Zr(),ji=null,(Re.length||ws.length)&&Yr()}}let Fe=null,Xr=null;function Wi(t){const e=Fe;return Fe=t,Xr=t&&t.type.__scopeId||null,e}function Qr(t,e=Fe,s){if(!e||t._n)return t;const n=(...i)=>{n._d&&oa(-1);const o=Wi(e);let l;try{l=t(...i)}finally{Wi(o),n._d&&oa(1)}return l};return n._n=!0,n._c=!0,n._d=!0,n}function be(t,e){if(Fe===null)return t;const s=mn(Fe),n=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,l,r,c=he]=e[i];o&&(Z(o)&&(o={mounted:o,updated:o}),o.deep&&wt(l),n.push({dir:o,instance:s,value:l,oldValue:void 0,arg:r,modifiers:c}))}return t}function Yt(t,e,s,n){const i=t.dirs,o=e&&e.dirs;for(let l=0;l<i.length;l++){const r=i[l];o&&(r.oldValue=o[l].value);let c=r.dir[n];c&&(At(),et(c,s,8,[t.el,r,t,e]),kt())}}const Mu=Symbol("_vte"),Ru=t=>t.__isTeleport,ds=Symbol("_leaveCb"),Ei=Symbol("_enterCb");function Du(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ol(()=>{t.isMounted=!0}),rl(()=>{t.isUnmounting=!0}),t}const Ge=[Function,Array],xu={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ge,onEnter:Ge,onAfterEnter:Ge,onEnterCancelled:Ge,onBeforeLeave:Ge,onLeave:Ge,onAfterLeave:Ge,onLeaveCancelled:Ge,onBeforeAppear:Ge,onAppear:Ge,onAfterAppear:Ge,onAppearCancelled:Ge};function Ou(t,e){const{leavingVNodes:s}=t;let n=s.get(e.type);return n||(n=Object.create(null),s.set(e.type,n)),n}function Wn(t,e,s,n,i){const{appear:o,mode:l,persisted:r=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:d,onEnterCancelled:h,onBeforeLeave:f,onLeave:g,onAfterLeave:T,onLeaveCancelled:P,onBeforeAppear:z,onAppear:L,onAfterAppear:D,onAppearCancelled:$}=e,N=String(t.key),Y=Ou(s,t),Q=(K,te)=>{K&&et(K,n,9,te)},ee=(K,te)=>{const me=te[1];Q(K,te),W(K)?K.every(U=>U.length<=1)&&me():K.length<=1&&me()},Se={mode:l,persisted:r,beforeEnter(K){let te=c;if(!s.isMounted)if(o)te=z||c;else return;K[ds]&&K[ds](!0);const me=Y[N];me&&ps(t,me)&&me.el[ds]&&me.el[ds](),Q(te,[K])},enter(K){let te=u,me=d,U=h;if(!s.isMounted)if(o)te=L||u,me=D||d,U=$||h;else return;let oe=!1;const Ce=K[Ei]=Ue=>{oe||(oe=!0,Ue?Q(U,[K]):Q(me,[K]),Se.delayedLeave&&Se.delayedLeave(),K[Ei]=void 0)};te?ee(te,[K,Ce]):Ce()},leave(K,te){const me=String(t.key);if(K[Ei]&&K[Ei](!0),s.isUnmounting)return te();Q(f,[K]);let U=!1;const oe=K[ds]=Ce=>{U||(U=!0,te(),Ce?Q(P,[K]):Q(T,[K]),K[ds]=void 0,Y[me]===t&&delete Y[me])};Y[me]=t,g?ee(g,[K,oe]):oe()},clone(K){return Wn(K,e,s,n)}};return Se}function ii(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ii(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function el(t,e=!1,s){let n=[],i=0;for(let o=0;o<t.length;o++){let l=t[o];const r=s==null?l.key:String(s)+String(l.key!=null?l.key:o);l.type===ie?(l.patchFlag&128&&i++,n=n.concat(el(l.children,e,r))):(e||l.type!==Et)&&n.push(r!=null?os(l,{key:r}):l)}if(i>1)for(let o=0;o<n.length;o++)n[o].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function tl(t,e){return Z(t)?Ie({name:t.name},e,{setup:t}):t}function sl(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Gi(t,e,s,n,i=!1){if(W(t)){t.forEach((T,P)=>Gi(T,e&&(W(e)?e[P]:e),s,n,i));return}if(qs(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Gi(t,e,s,n.component.subTree);return}const o=n.shapeFlag&4?mn(n.component):n.el,l=i?null:o,{i:r,r:c}=t,u=e&&e.r,d=r.refs===he?r.refs={}:r.refs,h=r.setupState,f=se(h),g=h===he?()=>!1:T=>le(f,T);if(u!=null&&u!==c&&(_e(u)?(d[u]=null,g(u)&&(h[u]=null)):Pe(u)&&(u.value=null)),Z(c))gi(c,r,12,[l,d]);else{const T=_e(c),P=Pe(c);if(T||P){const z=()=>{if(t.f){const L=T?g(c)?h[c]:d[c]:c.value;i?W(L)&&ho(L,o):W(L)?L.includes(o)||L.push(o):T?(d[c]=[o],g(c)&&(h[c]=d[c])):(c.value=[o],t.k&&(d[t.k]=c.value))}else T?(d[c]=l,g(c)&&(h[c]=l)):P&&(c.value=l,t.k&&(d[t.k]=l))};l?(z.id=-1,Ve(z,s)):z()}}}ln().requestIdleCallback;ln().cancelIdleCallback;const qs=t=>!!t.type.__asyncLoader,il=t=>t.type.__isKeepAlive;function Nu(t,e){nl(t,"a",e)}function Lu(t,e){nl(t,"da",e)}function nl(t,e,s=ke){const n=t.__wdc||(t.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(fn(e,n,s),s){let i=s.parent;for(;i&&i.parent;)il(i.parent.vnode)&&$u(n,e,s,i),i=i.parent}}function $u(t,e,s,n){const i=fn(e,t,n,!0);ll(()=>{ho(n[e],i)},s)}function fn(t,e,s=ke,n=!1){if(s){const i=s[t]||(s[t]=[]),o=e.__weh||(e.__weh=(...l)=>{At();const r=vi(s),c=et(e,s,t,l);return r(),kt(),c});return n?i.unshift(o):i.push(o),o}}const Rt=t=>(e,s=ke)=>{(!oi||t==="sp")&&fn(t,(...n)=>e(...n),s)},Fu=Rt("bm"),ol=Rt("m"),Uu=Rt("bu"),al=Rt("u"),rl=Rt("bum"),ll=Rt("um"),zu=Rt("sp"),Bu=Rt("rtg"),Vu=Rt("rtc");function Hu(t,e=ke){fn("ec",t,e)}const ju="components";function xe(t,e){return Gu(ju,t,!0,e)||t}const Wu=Symbol.for("v-ndc");function Gu(t,e,s=!0,n=!1){const i=Fe||ke;if(i){const o=i.type;{const r=Od(o,!1);if(r&&(r===e||r===Ke(e)||r===rn(Ke(e))))return o}const l=Zo(i[t]||o[t],e)||Zo(i.appContext[t],e);return!l&&n?o:l}}function Zo(t,e){return t&&(t[e]||t[Ke(e)]||t[rn(Ke(e))])}function Te(t,e,s,n){let i;const o=s,l=W(t);if(l||_e(t)){const r=l&&ys(t);let c=!1,u=!1;r&&(c=!qe(t),u=Jt(t),t=cn(t)),i=new Array(t.length);for(let d=0,h=t.length;d<h;d++)i[d]=e(c?u?Vi(Ae(t[d])):Ae(t[d]):t[d],d,void 0,o)}else if(typeof t=="number"){i=new Array(t);for(let r=0;r<t;r++)i[r]=e(r+1,r,void 0,o)}else if(pe(t))if(t[Symbol.iterator])i=Array.from(t,(r,c)=>e(r,c,void 0,o));else{const r=Object.keys(t);i=new Array(r.length);for(let c=0,u=r.length;c<u;c++){const d=r[c];i[c]=e(t[d],d,c,o)}}else i=[];return i}const Gn=t=>t?El(t)?mn(t):Gn(t.parent):null,Ks=Ie(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Gn(t.parent),$root:t=>Gn(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>ul(t),$forceUpdate:t=>t.f||(t.f=()=>{Co(t.update)}),$nextTick:t=>t.n||(t.n=So.bind(t.proxy)),$watch:t=>hd.bind(t)}),An=(t,e)=>t!==he&&!t.__isScriptSetup&&le(t,e),qu={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:n,data:i,props:o,accessCache:l,type:r,appContext:c}=t;let u;if(e[0]!=="$"){const g=l[e];if(g!==void 0)switch(g){case 1:return n[e];case 2:return i[e];case 4:return s[e];case 3:return o[e]}else{if(An(n,e))return l[e]=1,n[e];if(i!==he&&le(i,e))return l[e]=2,i[e];if((u=t.propsOptions[0])&&le(u,e))return l[e]=3,o[e];if(s!==he&&le(s,e))return l[e]=4,s[e];qn&&(l[e]=0)}}const d=Ks[e];let h,f;if(d)return e==="$attrs"&&Ee(t.attrs,"get",""),d(t);if((h=r.__cssModules)&&(h=h[e]))return h;if(s!==he&&le(s,e))return l[e]=4,s[e];if(f=c.config.globalProperties,le(f,e))return f[e]},set({_:t},e,s){const{data:n,setupState:i,ctx:o}=t;return An(i,e)?(i[e]=s,!0):n!==he&&le(n,e)?(n[e]=s,!0):le(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:i,propsOptions:o}},l){let r;return!!s[l]||t!==he&&le(t,l)||An(e,l)||(r=o[0])&&le(r,l)||le(n,l)||le(Ks,l)||le(i.config.globalProperties,l)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:le(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Yo(t){return W(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let qn=!0;function Ku(t){const e=ul(t),s=t.proxy,n=t.ctx;qn=!1,e.beforeCreate&&Xo(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:l,watch:r,provide:c,inject:u,created:d,beforeMount:h,mounted:f,beforeUpdate:g,updated:T,activated:P,deactivated:z,beforeDestroy:L,beforeUnmount:D,destroyed:$,unmounted:N,render:Y,renderTracked:Q,renderTriggered:ee,errorCaptured:Se,serverPrefetch:K,expose:te,inheritAttrs:me,components:U,directives:oe,filters:Ce}=e;if(u&&Ju(u,n,null),l)for(const ue in l){const ae=l[ue];Z(ae)&&(n[ue]=ae.bind(s))}if(i){const ue=i.call(s,s);pe(ue)&&(t.data=un(ue))}if(qn=!0,o)for(const ue in o){const ae=o[ue],gt=Z(ae)?ae.bind(s,s):Z(ae.get)?ae.get.bind(s,s):dt,Dt=!Z(ae)&&Z(ae.set)?ae.set.bind(s):dt,st=Je({get:gt,set:Dt});Object.defineProperty(n,ue,{enumerable:!0,configurable:!0,get:()=>st.value,set:Oe=>st.value=Oe})}if(r)for(const ue in r)cl(r[ue],n,s,ue);if(c){const ue=Z(c)?c.call(s):c;Reflect.ownKeys(ue).forEach(ae=>{Di(ae,ue[ae])})}d&&Xo(d,t,"c");function ye(ue,ae){W(ae)?ae.forEach(gt=>ue(gt.bind(s))):ae&&ue(ae.bind(s))}if(ye(Fu,h),ye(ol,f),ye(Uu,g),ye(al,T),ye(Nu,P),ye(Lu,z),ye(Hu,Se),ye(Vu,Q),ye(Bu,ee),ye(rl,D),ye(ll,N),ye(zu,K),W(te))if(te.length){const ue=t.exposed||(t.exposed={});te.forEach(ae=>{Object.defineProperty(ue,ae,{get:()=>s[ae],set:gt=>s[ae]=gt})})}else t.exposed||(t.exposed={});Y&&t.render===dt&&(t.render=Y),me!=null&&(t.inheritAttrs=me),U&&(t.components=U),oe&&(t.directives=oe),K&&sl(t)}function Ju(t,e,s=dt){W(t)&&(t=Kn(t));for(const n in t){const i=t[n];let o;pe(i)?"default"in i?o=ft(i.from||n,i.default,!0):o=ft(i.from||n):o=ft(i),Pe(o)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):e[n]=o}}function Xo(t,e,s){et(W(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function cl(t,e,s,n){let i=n.includes(".")?Sl(s,n):()=>s[n];if(_e(t)){const o=e[t];Z(o)&&xi(i,o)}else if(Z(t))xi(i,t.bind(s));else if(pe(t))if(W(t))t.forEach(o=>cl(o,e,s,n));else{const o=Z(t.handler)?t.handler.bind(s):e[t.handler];Z(o)&&xi(i,o,t)}}function ul(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:l}}=t.appContext,r=o.get(e);let c;return r?c=r:!i.length&&!s&&!n?c=e:(c={},i.length&&i.forEach(u=>qi(c,u,l,!0)),qi(c,e,l)),pe(e)&&o.set(e,c),c}function qi(t,e,s,n=!1){const{mixins:i,extends:o}=e;o&&qi(t,o,s,!0),i&&i.forEach(l=>qi(t,l,s,!0));for(const l in e)if(!(n&&l==="expose")){const r=Zu[l]||s&&s[l];t[l]=r?r(t[l],e[l]):e[l]}return t}const Zu={data:Qo,props:ea,emits:ea,methods:Hs,computed:Hs,beforeCreate:Me,created:Me,beforeMount:Me,mounted:Me,beforeUpdate:Me,updated:Me,beforeDestroy:Me,beforeUnmount:Me,destroyed:Me,unmounted:Me,activated:Me,deactivated:Me,errorCaptured:Me,serverPrefetch:Me,components:Hs,directives:Hs,watch:Xu,provide:Qo,inject:Yu};function Qo(t,e){return e?t?function(){return Ie(Z(t)?t.call(this,this):t,Z(e)?e.call(this,this):e)}:e:t}function Yu(t,e){return Hs(Kn(t),Kn(e))}function Kn(t){if(W(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Me(t,e){return t?[...new Set([].concat(t,e))]:e}function Hs(t,e){return t?Ie(Object.create(null),t,e):e}function ea(t,e){return t?W(t)&&W(e)?[...new Set([...t,...e])]:Ie(Object.create(null),Yo(t),Yo(e??{})):e}function Xu(t,e){if(!t)return e;if(!e)return t;const s=Ie(Object.create(null),t);for(const n in e)s[n]=Me(t[n],e[n]);return s}function dl(){return{app:null,config:{isNativeTag:zc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Qu=0;function ed(t,e){return function(n,i=null){Z(n)||(n=Ie({},n)),i!=null&&!pe(i)&&(i=null);const o=dl(),l=new WeakSet,r=[];let c=!1;const u=o.app={_uid:Qu++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:Ld,get config(){return o.config},set config(d){},use(d,...h){return l.has(d)||(d&&Z(d.install)?(l.add(d),d.install(u,...h)):Z(d)&&(l.add(d),d(u,...h))),u},mixin(d){return o.mixins.includes(d)||o.mixins.push(d),u},component(d,h){return h?(o.components[d]=h,u):o.components[d]},directive(d,h){return h?(o.directives[d]=h,u):o.directives[d]},mount(d,h,f){if(!c){const g=u._ceVNode||ne(n,i);return g.appContext=o,f===!0?f="svg":f===!1&&(f=void 0),t(g,d,f),c=!0,u._container=d,d.__vue_app__=u,mn(g.component)}},onUnmount(d){r.push(d)},unmount(){c&&(et(r,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(d,h){return o.provides[d]=h,u},runWithContext(d){const h=Is;Is=u;try{return d()}finally{Is=h}}};return u}}let Is=null;function Di(t,e){if(ke){let s=ke.provides;const n=ke.parent&&ke.parent.provides;n===s&&(s=ke.provides=Object.create(n)),s[t]=e}}function ft(t,e,s=!1){const n=ke||Fe;if(n||Is){const i=Is?Is._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return s&&Z(e)?e.call(n&&n.proxy):e}}const fl={},hl=()=>Object.create(fl),pl=t=>Object.getPrototypeOf(t)===fl;function td(t,e,s,n=!1){const i={},o=hl();t.propsDefaults=Object.create(null),ml(t,e,i,o);for(const l in t.propsOptions[0])l in i||(i[l]=void 0);s?t.props=n?i:jr(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function sd(t,e,s,n){const{props:i,attrs:o,vnode:{patchFlag:l}}=t,r=se(i),[c]=t.propsOptions;let u=!1;if((n||l>0)&&!(l&16)){if(l&8){const d=t.vnode.dynamicProps;for(let h=0;h<d.length;h++){let f=d[h];if(hn(t.emitsOptions,f))continue;const g=e[f];if(c)if(le(o,f))g!==o[f]&&(o[f]=g,u=!0);else{const T=Ke(f);i[T]=Jn(c,r,T,g,t,!1)}else g!==o[f]&&(o[f]=g,u=!0)}}}else{ml(t,e,i,o)&&(u=!0);let d;for(const h in r)(!e||!le(e,h)&&((d=rs(h))===h||!le(e,d)))&&(c?s&&(s[h]!==void 0||s[d]!==void 0)&&(i[h]=Jn(c,r,h,void 0,t,!0)):delete i[h]);if(o!==r)for(const h in o)(!e||!le(e,h))&&(delete o[h],u=!0)}u&&_t(t.attrs,"set","")}function ml(t,e,s,n){const[i,o]=t.propsOptions;let l=!1,r;if(e)for(let c in e){if(js(c))continue;const u=e[c];let d;i&&le(i,d=Ke(c))?!o||!o.includes(d)?s[d]=u:(r||(r={}))[d]=u:hn(t.emitsOptions,c)||(!(c in n)||u!==n[c])&&(n[c]=u,l=!0)}if(o){const c=se(s),u=r||he;for(let d=0;d<o.length;d++){const h=o[d];s[h]=Jn(i,c,h,u[h],t,!le(u,h))}}return l}function Jn(t,e,s,n,i,o){const l=t[s];if(l!=null){const r=le(l,"default");if(r&&n===void 0){const c=l.default;if(l.type!==Function&&!l.skipFactory&&Z(c)){const{propsDefaults:u}=i;if(s in u)n=u[s];else{const d=vi(i);n=u[s]=c.call(null,e),d()}}else n=c;i.ce&&i.ce._setProp(s,n)}l[0]&&(o&&!r?n=!1:l[1]&&(n===""||n===rs(s))&&(n=!0))}return n}const id=new WeakMap;function gl(t,e,s=!1){const n=s?id:e.propsCache,i=n.get(t);if(i)return i;const o=t.props,l={},r=[];let c=!1;if(!Z(t)){const d=h=>{c=!0;const[f,g]=gl(h,e,!0);Ie(l,f),g&&r.push(...g)};!s&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!o&&!c)return pe(t)&&n.set(t,vs),vs;if(W(o))for(let d=0;d<o.length;d++){const h=Ke(o[d]);ta(h)&&(l[h]=he)}else if(o)for(const d in o){const h=Ke(d);if(ta(h)){const f=o[d],g=l[h]=W(f)||Z(f)?{type:f}:Ie({},f),T=g.type;let P=!1,z=!0;if(W(T))for(let L=0;L<T.length;++L){const D=T[L],$=Z(D)&&D.name;if($==="Boolean"){P=!0;break}else $==="String"&&(z=!1)}else P=Z(T)&&T.name==="Boolean";g[0]=P,g[1]=z,(P||le(g,"default"))&&r.push(h)}}const u=[l,r];return pe(t)&&n.set(t,u),u}function ta(t){return t[0]!=="$"&&!js(t)}const To=t=>t[0]==="_"||t==="$stable",Ao=t=>W(t)?t.map(ct):[ct(t)],nd=(t,e,s)=>{if(e._n)return e;const n=Qr((...i)=>Ao(e(...i)),s);return n._c=!1,n},vl=(t,e,s)=>{const n=t._ctx;for(const i in t){if(To(i))continue;const o=t[i];if(Z(o))e[i]=nd(i,o,n);else if(o!=null){const l=Ao(o);e[i]=()=>l}}},bl=(t,e)=>{const s=Ao(e);t.slots.default=()=>s},yl=(t,e,s)=>{for(const n in e)(s||!To(n))&&(t[n]=e[n])},od=(t,e,s)=>{const n=t.slots=hl();if(t.vnode.shapeFlag&32){const i=e._;i?(yl(n,e,s),s&&Ar(n,"_",i,!0)):vl(e,n)}else e&&bl(t,e)},ad=(t,e,s)=>{const{vnode:n,slots:i}=t;let o=!0,l=he;if(n.shapeFlag&32){const r=e._;r?s&&r===1?o=!1:yl(i,e,s):(o=!e.$stable,vl(e,i)),l=e}else e&&(bl(t,e),l={default:1});if(o)for(const r in i)!To(r)&&l[r]==null&&delete i[r]},Ve=_d;function rd(t){return ld(t)}function ld(t,e){const s=ln();s.__VUE__=!0;const{insert:n,remove:i,patchProp:o,createElement:l,createText:r,createComment:c,setText:u,setElementText:d,parentNode:h,nextSibling:f,setScopeId:g=dt,insertStaticContent:T}=t,P=(p,m,v,w=null,C=null,S=null,R=void 0,M=null,k=!!m.dynamicChildren)=>{if(p===m)return;p&&!ps(p,m)&&(w=I(p),Oe(p,C,S,!0),p=null),m.patchFlag===-2&&(k=!1,m.dynamicChildren=null);const{type:A,ref:G,shapeFlag:O}=m;switch(A){case pn:z(p,m,v,w);break;case Et:L(p,m,v,w);break;case Oi:p==null&&D(m,v,w,R);break;case ie:U(p,m,v,w,C,S,R,M,k);break;default:O&1?Y(p,m,v,w,C,S,R,M,k):O&6?oe(p,m,v,w,C,S,R,M,k):(O&64||O&128)&&A.process(p,m,v,w,C,S,R,M,k,B)}G!=null&&C&&Gi(G,p&&p.ref,S,m||p,!m)},z=(p,m,v,w)=>{if(p==null)n(m.el=r(m.children),v,w);else{const C=m.el=p.el;m.children!==p.children&&u(C,m.children)}},L=(p,m,v,w)=>{p==null?n(m.el=c(m.children||""),v,w):m.el=p.el},D=(p,m,v,w)=>{[p.el,p.anchor]=T(p.children,m,v,w,p.el,p.anchor)},$=({el:p,anchor:m},v,w)=>{let C;for(;p&&p!==m;)C=f(p),n(p,v,w),p=C;n(m,v,w)},N=({el:p,anchor:m})=>{let v;for(;p&&p!==m;)v=f(p),i(p),p=v;i(m)},Y=(p,m,v,w,C,S,R,M,k)=>{m.type==="svg"?R="svg":m.type==="math"&&(R="mathml"),p==null?Q(m,v,w,C,S,R,M,k):K(p,m,C,S,R,M,k)},Q=(p,m,v,w,C,S,R,M)=>{let k,A;const{props:G,shapeFlag:O,transition:j,dirs:J}=p;if(k=p.el=l(p.type,S,G&&G.is,G),O&8?d(k,p.children):O&16&&Se(p.children,k,null,w,C,kn(p,S),R,M),J&&Yt(p,null,w,"created"),ee(k,p,p.scopeId,R,w),G){for(const ge in G)ge!=="value"&&!js(ge)&&o(k,ge,null,G[ge],S,w);"value"in G&&o(k,"value",null,G.value,S),(A=G.onVnodeBeforeMount)&&at(A,w,p)}J&&Yt(p,null,w,"beforeMount");const X=cd(C,j);X&&j.beforeEnter(k),n(k,m,v),((A=G&&G.onVnodeMounted)||X||J)&&Ve(()=>{A&&at(A,w,p),X&&j.enter(k),J&&Yt(p,null,w,"mounted")},C)},ee=(p,m,v,w,C)=>{if(v&&g(p,v),w)for(let S=0;S<w.length;S++)g(p,w[S]);if(C){let S=C.subTree;if(m===S||Tl(S.type)&&(S.ssContent===m||S.ssFallback===m)){const R=C.vnode;ee(p,R,R.scopeId,R.slotScopeIds,C.parent)}}},Se=(p,m,v,w,C,S,R,M,k=0)=>{for(let A=k;A<p.length;A++){const G=p[A]=M?Ft(p[A]):ct(p[A]);P(null,G,m,v,w,C,S,R,M)}},K=(p,m,v,w,C,S,R)=>{const M=m.el=p.el;let{patchFlag:k,dynamicChildren:A,dirs:G}=m;k|=p.patchFlag&16;const O=p.props||he,j=m.props||he;let J;if(v&&Xt(v,!1),(J=j.onVnodeBeforeUpdate)&&at(J,v,m,p),G&&Yt(m,p,v,"beforeUpdate"),v&&Xt(v,!0),(O.innerHTML&&j.innerHTML==null||O.textContent&&j.textContent==null)&&d(M,""),A?te(p.dynamicChildren,A,M,v,w,kn(m,C),S):R||ae(p,m,M,null,v,w,kn(m,C),S,!1),k>0){if(k&16)me(M,O,j,v,C);else if(k&2&&O.class!==j.class&&o(M,"class",null,j.class,C),k&4&&o(M,"style",O.style,j.style,C),k&8){const X=m.dynamicProps;for(let ge=0;ge<X.length;ge++){const ce=X[ge],ze=O[ce],Ne=j[ce];(Ne!==ze||ce==="value")&&o(M,ce,ze,Ne,C,v)}}k&1&&p.children!==m.children&&d(M,m.children)}else!R&&A==null&&me(M,O,j,v,C);((J=j.onVnodeUpdated)||G)&&Ve(()=>{J&&at(J,v,m,p),G&&Yt(m,p,v,"updated")},w)},te=(p,m,v,w,C,S,R)=>{for(let M=0;M<m.length;M++){const k=p[M],A=m[M],G=k.el&&(k.type===ie||!ps(k,A)||k.shapeFlag&70)?h(k.el):v;P(k,A,G,null,w,C,S,R,!0)}},me=(p,m,v,w,C)=>{if(m!==v){if(m!==he)for(const S in m)!js(S)&&!(S in v)&&o(p,S,m[S],null,C,w);for(const S in v){if(js(S))continue;const R=v[S],M=m[S];R!==M&&S!=="value"&&o(p,S,M,R,C,w)}"value"in v&&o(p,"value",m.value,v.value,C)}},U=(p,m,v,w,C,S,R,M,k)=>{const A=m.el=p?p.el:r(""),G=m.anchor=p?p.anchor:r("");let{patchFlag:O,dynamicChildren:j,slotScopeIds:J}=m;J&&(M=M?M.concat(J):J),p==null?(n(A,v,w),n(G,v,w),Se(m.children||[],v,G,C,S,R,M,k)):O>0&&O&64&&j&&p.dynamicChildren?(te(p.dynamicChildren,j,v,C,S,R,M),(m.key!=null||C&&m===C.subTree)&&_l(p,m,!0)):ae(p,m,v,G,C,S,R,M,k)},oe=(p,m,v,w,C,S,R,M,k)=>{m.slotScopeIds=M,p==null?m.shapeFlag&512?C.ctx.activate(m,v,w,R,k):Ce(m,v,w,C,S,R,k):Ue(p,m,k)},Ce=(p,m,v,w,C,S,R)=>{const M=p.component=Ed(p,w,C);if(il(p)&&(M.ctx.renderer=B),Md(M,!1,R),M.asyncDep){if(C&&C.registerDep(M,ye,R),!p.el){const k=M.subTree=ne(Et);L(null,k,m,v)}}else ye(M,p,m,v,C,S,R)},Ue=(p,m,v)=>{const w=m.component=p.component;if(bd(p,m,v))if(w.asyncDep&&!w.asyncResolved){ue(w,m,v);return}else w.next=m,w.update();else m.el=p.el,w.vnode=m},ye=(p,m,v,w,C,S,R)=>{const M=()=>{if(p.isMounted){let{next:O,bu:j,u:J,parent:X,vnode:ge}=p;{const nt=wl(p);if(nt){O&&(O.el=ge.el,ue(p,O,R)),nt.asyncDep.then(()=>{p.isUnmounted||M()});return}}let ce=O,ze;Xt(p,!1),O?(O.el=ge.el,ue(p,O,R)):O=ge,j&&Ri(j),(ze=O.props&&O.props.onVnodeBeforeUpdate)&&at(ze,X,O,ge),Xt(p,!0);const Ne=ia(p),it=p.subTree;p.subTree=Ne,P(it,Ne,h(it.el),I(it),p,C,S),O.el=Ne.el,ce===null&&yd(p,Ne.el),J&&Ve(J,C),(ze=O.props&&O.props.onVnodeUpdated)&&Ve(()=>at(ze,X,O,ge),C)}else{let O;const{el:j,props:J}=m,{bm:X,m:ge,parent:ce,root:ze,type:Ne}=p,it=qs(m);Xt(p,!1),X&&Ri(X),!it&&(O=J&&J.onVnodeBeforeMount)&&at(O,ce,m),Xt(p,!0);{ze.ce&&ze.ce._injectChildStyle(Ne);const nt=p.subTree=ia(p);P(null,nt,v,w,p,C,S),m.el=nt.el}if(ge&&Ve(ge,C),!it&&(O=J&&J.onVnodeMounted)){const nt=m;Ve(()=>at(O,ce,nt),C)}(m.shapeFlag&256||ce&&qs(ce.vnode)&&ce.vnode.shapeFlag&256)&&p.a&&Ve(p.a,C),p.isMounted=!0,m=v=w=null}};p.scope.on();const k=p.effect=new Mr(M);p.scope.off();const A=p.update=k.run.bind(k),G=p.job=k.runIfDirty.bind(k);G.i=p,G.id=p.uid,k.scheduler=()=>Co(G),Xt(p,!0),A()},ue=(p,m,v)=>{m.component=p;const w=p.vnode.props;p.vnode=m,p.next=null,sd(p,m.props,w,v),ad(p,m.children,v),At(),Jo(p),kt()},ae=(p,m,v,w,C,S,R,M,k=!1)=>{const A=p&&p.children,G=p?p.shapeFlag:0,O=m.children,{patchFlag:j,shapeFlag:J}=m;if(j>0){if(j&128){Dt(A,O,v,w,C,S,R,M,k);return}else if(j&256){gt(A,O,v,w,C,S,R,M,k);return}}J&8?(G&16&&We(A,C,S),O!==A&&d(v,O)):G&16?J&16?Dt(A,O,v,w,C,S,R,M,k):We(A,C,S,!0):(G&8&&d(v,""),J&16&&Se(O,v,w,C,S,R,M,k))},gt=(p,m,v,w,C,S,R,M,k)=>{p=p||vs,m=m||vs;const A=p.length,G=m.length,O=Math.min(A,G);let j;for(j=0;j<O;j++){const J=m[j]=k?Ft(m[j]):ct(m[j]);P(p[j],J,v,null,C,S,R,M,k)}A>G?We(p,C,S,!0,!1,O):Se(m,v,w,C,S,R,M,k,O)},Dt=(p,m,v,w,C,S,R,M,k)=>{let A=0;const G=m.length;let O=p.length-1,j=G-1;for(;A<=O&&A<=j;){const J=p[A],X=m[A]=k?Ft(m[A]):ct(m[A]);if(ps(J,X))P(J,X,v,null,C,S,R,M,k);else break;A++}for(;A<=O&&A<=j;){const J=p[O],X=m[j]=k?Ft(m[j]):ct(m[j]);if(ps(J,X))P(J,X,v,null,C,S,R,M,k);else break;O--,j--}if(A>O){if(A<=j){const J=j+1,X=J<G?m[J].el:w;for(;A<=j;)P(null,m[A]=k?Ft(m[A]):ct(m[A]),v,X,C,S,R,M,k),A++}}else if(A>j)for(;A<=O;)Oe(p[A],C,S,!0),A++;else{const J=A,X=A,ge=new Map;for(A=X;A<=j;A++){const Be=m[A]=k?Ft(m[A]):ct(m[A]);Be.key!=null&&ge.set(Be.key,A)}let ce,ze=0;const Ne=j-X+1;let it=!1,nt=0;const Fs=new Array(Ne);for(A=0;A<Ne;A++)Fs[A]=0;for(A=J;A<=O;A++){const Be=p[A];if(ze>=Ne){Oe(Be,C,S,!0);continue}let ot;if(Be.key!=null)ot=ge.get(Be.key);else for(ce=X;ce<=j;ce++)if(Fs[ce-X]===0&&ps(Be,m[ce])){ot=ce;break}ot===void 0?Oe(Be,C,S,!0):(Fs[ot-X]=A+1,ot>=nt?nt=ot:it=!0,P(Be,m[ot],v,null,C,S,R,M,k),ze++)}const Ho=it?ud(Fs):vs;for(ce=Ho.length-1,A=Ne-1;A>=0;A--){const Be=X+A,ot=m[Be],jo=Be+1<G?m[Be+1].el:w;Fs[A]===0?P(null,ot,v,jo,C,S,R,M,k):it&&(ce<0||A!==Ho[ce]?st(ot,v,jo,2):ce--)}}},st=(p,m,v,w,C=null)=>{const{el:S,type:R,transition:M,children:k,shapeFlag:A}=p;if(A&6){st(p.component.subTree,m,v,w);return}if(A&128){p.suspense.move(m,v,w);return}if(A&64){R.move(p,m,v,B);return}if(R===ie){n(S,m,v);for(let O=0;O<k.length;O++)st(k[O],m,v,w);n(p.anchor,m,v);return}if(R===Oi){$(p,m,v);return}if(w!==2&&A&1&&M)if(w===0)M.beforeEnter(S),n(S,m,v),Ve(()=>M.enter(S),C);else{const{leave:O,delayLeave:j,afterLeave:J}=M,X=()=>{p.ctx.isUnmounted?i(S):n(S,m,v)},ge=()=>{O(S,()=>{X(),J&&J()})};j?j(S,X,ge):ge()}else n(S,m,v)},Oe=(p,m,v,w=!1,C=!1)=>{const{type:S,props:R,ref:M,children:k,dynamicChildren:A,shapeFlag:G,patchFlag:O,dirs:j,cacheIndex:J}=p;if(O===-2&&(C=!1),M!=null&&(At(),Gi(M,null,v,p,!0),kt()),J!=null&&(m.renderCache[J]=void 0),G&256){m.ctx.deactivate(p);return}const X=G&1&&j,ge=!qs(p);let ce;if(ge&&(ce=R&&R.onVnodeBeforeUnmount)&&at(ce,m,p),G&6)Ci(p.component,v,w);else{if(G&128){p.suspense.unmount(v,w);return}X&&Yt(p,null,m,"beforeUnmount"),G&64?p.type.remove(p,m,v,B,w):A&&!A.hasOnce&&(S!==ie||O>0&&O&64)?We(A,m,v,!1,!0):(S===ie&&O&384||!C&&G&16)&&We(k,m,v),w&&ls(p)}(ge&&(ce=R&&R.onVnodeUnmounted)||X)&&Ve(()=>{ce&&at(ce,m,p),X&&Yt(p,null,m,"unmounted")},v)},ls=p=>{const{type:m,el:v,anchor:w,transition:C}=p;if(m===ie){cs(v,w);return}if(m===Oi){N(p);return}const S=()=>{i(v),C&&!C.persisted&&C.afterLeave&&C.afterLeave()};if(p.shapeFlag&1&&C&&!C.persisted){const{leave:R,delayLeave:M}=C,k=()=>R(v,S);M?M(p.el,S,k):k()}else S()},cs=(p,m)=>{let v;for(;p!==m;)v=f(p),i(p),p=v;i(m)},Ci=(p,m,v)=>{const{bum:w,scope:C,job:S,subTree:R,um:M,m:k,a:A,parent:G,slots:{__:O}}=p;sa(k),sa(A),w&&Ri(w),G&&W(O)&&O.forEach(j=>{G.renderCache[j]=void 0}),C.stop(),S&&(S.flags|=8,Oe(R,p,m,v)),M&&Ve(M,m),Ve(()=>{p.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},We=(p,m,v,w=!1,C=!1,S=0)=>{for(let R=S;R<p.length;R++)Oe(p[R],m,v,w,C)},I=p=>{if(p.shapeFlag&6)return I(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const m=f(p.anchor||p.el),v=m&&m[Mu];return v?f(v):m};let F=!1;const x=(p,m,v)=>{p==null?m._vnode&&Oe(m._vnode,null,null,!0):P(m._vnode||null,p,m,null,null,null,v),m._vnode=p,F||(F=!0,Jo(),Zr(),F=!1)},B={p:P,um:Oe,m:st,r:ls,mt:Ce,mc:Se,pc:ae,pbc:te,n:I,o:t};return{render:x,hydrate:void 0,createApp:ed(x)}}function kn({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Xt({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function cd(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function _l(t,e,s=!1){const n=t.children,i=e.children;if(W(n)&&W(i))for(let o=0;o<n.length;o++){const l=n[o];let r=i[o];r.shapeFlag&1&&!r.dynamicChildren&&((r.patchFlag<=0||r.patchFlag===32)&&(r=i[o]=Ft(i[o]),r.el=l.el),!s&&r.patchFlag!==-2&&_l(l,r)),r.type===pn&&(r.el=l.el),r.type===Et&&!r.el&&(r.el=l.el)}}function ud(t){const e=t.slice(),s=[0];let n,i,o,l,r;const c=t.length;for(n=0;n<c;n++){const u=t[n];if(u!==0){if(i=s[s.length-1],t[i]<u){e[n]=i,s.push(n);continue}for(o=0,l=s.length-1;o<l;)r=o+l>>1,t[s[r]]<u?o=r+1:l=r;u<t[s[o]]&&(o>0&&(e[n]=s[o-1]),s[o]=n)}}for(o=s.length,l=s[o-1];o-- >0;)s[o]=l,l=e[l];return s}function wl(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:wl(e)}function sa(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const dd=Symbol.for("v-scx"),fd=()=>ft(dd);function xi(t,e,s){return Il(t,e,s)}function Il(t,e,s=he){const{immediate:n,deep:i,flush:o,once:l}=s,r=Ie({},s),c=e&&n||!e&&o!=="post";let u;if(oi){if(o==="sync"){const g=fd();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!c){const g=()=>{};return g.stop=dt,g.resume=dt,g.pause=dt,g}}const d=ke;r.call=(g,T,P)=>et(g,d,T,P);let h=!1;o==="post"?r.scheduler=g=>{Ve(g,d&&d.suspense)}:o!=="sync"&&(h=!0,r.scheduler=(g,T)=>{T?g():Co(g)}),r.augmentJob=g=>{e&&(g.flags|=4),h&&(g.flags|=2,d&&(g.id=d.uid,g.i=d))};const f=Au(t,e,r);return oi&&(u?u.push(f):c&&f()),f}function hd(t,e,s){const n=this.proxy,i=_e(t)?t.includes(".")?Sl(n,t):()=>n[t]:t.bind(n,n);let o;Z(e)?o=e:(o=e.handler,s=e);const l=vi(this),r=Il(i,o.bind(n),s);return l(),r}function Sl(t,e){const s=e.split(".");return()=>{let n=t;for(let i=0;i<s.length&&n;i++)n=n[s[i]];return n}}const pd=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ke(e)}Modifiers`]||t[`${rs(e)}Modifiers`];function md(t,e,...s){if(t.isUnmounted)return;const n=t.vnode.props||he;let i=s;const o=e.startsWith("update:"),l=o&&pd(n,e.slice(7));l&&(l.trim&&(i=s.map(d=>_e(d)?d.trim():d)),l.number&&(i=s.map(Bi)));let r,c=n[r=wn(e)]||n[r=wn(Ke(e))];!c&&o&&(c=n[r=wn(rs(e))]),c&&et(c,t,6,i);const u=n[r+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[r])return;t.emitted[r]=!0,et(u,t,6,i)}}function Cl(t,e,s=!1){const n=e.emitsCache,i=n.get(t);if(i!==void 0)return i;const o=t.emits;let l={},r=!1;if(!Z(t)){const c=u=>{const d=Cl(u,e,!0);d&&(r=!0,Ie(l,d))};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!o&&!r?(pe(t)&&n.set(t,null),null):(W(o)?o.forEach(c=>l[c]=null):Ie(l,o),pe(t)&&n.set(t,l),l)}function hn(t,e){return!t||!on(e)?!1:(e=e.slice(2).replace(/Once$/,""),le(t,e[0].toLowerCase()+e.slice(1))||le(t,rs(e))||le(t,e))}function ia(t){const{type:e,vnode:s,proxy:n,withProxy:i,propsOptions:[o],slots:l,attrs:r,emit:c,render:u,renderCache:d,props:h,data:f,setupState:g,ctx:T,inheritAttrs:P}=t,z=Wi(t);let L,D;try{if(s.shapeFlag&4){const N=i||n,Y=N;L=ct(u.call(Y,N,d,h,g,f,T)),D=r}else{const N=e;L=ct(N.length>1?N(h,{attrs:r,slots:l,emit:c}):N(h,null)),D=e.props?r:gd(r)}}catch(N){Js.length=0,dn(N,t,1),L=ne(Et)}let $=L;if(D&&P!==!1){const N=Object.keys(D),{shapeFlag:Y}=$;N.length&&Y&7&&(o&&N.some(fo)&&(D=vd(D,o)),$=os($,D,!1,!0))}return s.dirs&&($=os($,null,!1,!0),$.dirs=$.dirs?$.dirs.concat(s.dirs):s.dirs),s.transition&&ii($,s.transition),L=$,Wi(z),L}const gd=t=>{let e;for(const s in t)(s==="class"||s==="style"||on(s))&&((e||(e={}))[s]=t[s]);return e},vd=(t,e)=>{const s={};for(const n in t)(!fo(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function bd(t,e,s){const{props:n,children:i,component:o}=t,{props:l,children:r,patchFlag:c}=e,u=o.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&c>=0){if(c&1024)return!0;if(c&16)return n?na(n,l,u):!!l;if(c&8){const d=e.dynamicProps;for(let h=0;h<d.length;h++){const f=d[h];if(l[f]!==n[f]&&!hn(u,f))return!0}}}else return(i||r)&&(!r||!r.$stable)?!0:n===l?!1:n?l?na(n,l,u):!0:!!l;return!1}function na(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(e[o]!==t[o]&&!hn(s,o))return!0}return!1}function yd({vnode:t,parent:e},s){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=s,e=e.parent;else break}}const Tl=t=>t.__isSuspense;function _d(t,e){e&&e.pendingBranch?W(t)?e.effects.push(...t):e.effects.push(t):Pu(t)}const ie=Symbol.for("v-fgt"),pn=Symbol.for("v-txt"),Et=Symbol.for("v-cmt"),Oi=Symbol.for("v-stc"),Js=[];let He=null;function y(t=!1){Js.push(He=t?null:[])}function wd(){Js.pop(),He=Js[Js.length-1]||null}let ni=1;function oa(t,e=!1){ni+=t,t<0&&He&&e&&(He.hasOnce=!0)}function Al(t){return t.dynamicChildren=ni>0?He||vs:null,wd(),ni>0&&He&&He.push(t),t}function _(t,e,s,n,i,o){return Al(a(t,e,s,n,i,o,!0))}function Id(t,e,s,n,i){return Al(ne(t,e,s,n,i,!0))}function Ki(t){return t?t.__v_isVNode===!0:!1}function ps(t,e){return t.type===e.type&&t.key===e.key}const kl=({key:t})=>t??null,Ni=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?_e(t)||Pe(t)||Z(t)?{i:Fe,r:t,k:e,f:!!s}:t:null);function a(t,e=null,s=null,n=0,i=null,o=t===ie?0:1,l=!1,r=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&kl(e),ref:e&&Ni(e),scopeId:Xr,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Fe};return r?(ko(c,s),o&128&&t.normalize(c)):s&&(c.shapeFlag|=_e(s)?8:16),ni>0&&!l&&He&&(c.patchFlag>0||o&6)&&c.patchFlag!==32&&He.push(c),c}const ne=Sd;function Sd(t,e=null,s=null,n=0,i=null,o=!1){if((!t||t===Wu)&&(t=Et),Ki(t)){const r=os(t,e,!0);return s&&ko(r,s),ni>0&&!o&&He&&(r.shapeFlag&6?He[He.indexOf(t)]=r:He.push(r)),r.patchFlag=-2,r}if(Nd(t)&&(t=t.__vccOpts),e){e=Cd(e);let{class:r,style:c}=e;r&&!_e(r)&&(e.class=E(r)),pe(c)&&(Io(c)&&!W(c)&&(c=Ie({},c)),e.style=pi(c))}const l=_e(t)?1:Tl(t)?128:Ru(t)?64:pe(t)?4:Z(t)?2:0;return a(t,e,s,n,i,l,o,!0)}function Cd(t){return t?Io(t)||pl(t)?Ie({},t):t:null}function os(t,e,s=!1,n=!1){const{props:i,ref:o,patchFlag:l,children:r,transition:c}=t,u=e?Td(i||{},e):i,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&kl(u),ref:e&&e.ref?s&&o?W(o)?o.concat(Ni(e)):[o,Ni(e)]:Ni(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:r,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ie?l===-1?16:l|16:l,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&os(t.ssContent),ssFallback:t.ssFallback&&os(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&n&&ii(d,c.clone(d)),d}function H(t=" ",e=0){return ne(pn,null,t,e)}function zt(t,e){const s=ne(Oi,null,t);return s.staticCount=e,s}function V(t="",e=!1){return e?(y(),Id(Et,null,t)):ne(Et,null,t)}function ct(t){return t==null||typeof t=="boolean"?ne(Et):W(t)?ne(ie,null,t.slice()):Ki(t)?Ft(t):ne(pn,null,String(t))}function Ft(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:os(t)}function ko(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(W(e))s=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),ko(t,i()),i._c&&(i._d=!0));return}else{s=32;const i=e._;!i&&!pl(e)?e._ctx=Fe:i===3&&Fe&&(Fe.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Z(e)?(e={default:e,_ctx:Fe},s=32):(e=String(e),n&64?(s=16,e=[H(e)]):s=8);t.children=e,t.shapeFlag|=s}function Td(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=E([e.class,n.class]));else if(i==="style")e.style=pi([e.style,n.style]);else if(on(i)){const o=e[i],l=n[i];l&&o!==l&&!(W(o)&&o.includes(l))&&(e[i]=o?[].concat(o,l):l)}else i!==""&&(e[i]=n[i])}return e}function at(t,e,s,n=null){et(t,e,7,[s,n])}const Ad=dl();let kd=0;function Ed(t,e,s){const n=t.type,i=(e?e.appContext:t.appContext)||Ad,o={uid:kd++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Qc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:gl(n,i),emitsOptions:Cl(n,i),emit:null,emitted:null,propsDefaults:he,inheritAttrs:n.inheritAttrs,ctx:he,data:he,props:he,attrs:he,slots:he,refs:he,setupState:he,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=md.bind(null,o),t.ce&&t.ce(o),o}let ke=null;const Pd=()=>ke||Fe;let Ji,Zn;{const t=ln(),e=(s,n)=>{let i;return(i=t[s])||(i=t[s]=[]),i.push(n),o=>{i.length>1?i.forEach(l=>l(o)):i[0](o)}};Ji=e("__VUE_INSTANCE_SETTERS__",s=>ke=s),Zn=e("__VUE_SSR_SETTERS__",s=>oi=s)}const vi=t=>{const e=ke;return Ji(t),t.scope.on(),()=>{t.scope.off(),Ji(e)}},aa=()=>{ke&&ke.scope.off(),Ji(null)};function El(t){return t.vnode.shapeFlag&4}let oi=!1;function Md(t,e=!1,s=!1){e&&Zn(e);const{props:n,children:i}=t.vnode,o=El(t);td(t,n,o,e),od(t,i,s||e);const l=o?Rd(t,e):void 0;return e&&Zn(!1),l}function Rd(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,qu);const{setup:n}=s;if(n){At();const i=t.setupContext=n.length>1?xd(t):null,o=vi(t),l=gi(n,t,0,[t.props,i]),r=Sr(l);if(kt(),o(),(r||t.sp)&&!qs(t)&&sl(t),r){if(l.then(aa,aa),e)return l.then(c=>{ra(t,c)}).catch(c=>{dn(c,t,0)});t.asyncDep=l}else ra(t,l)}else Pl(t)}function ra(t,e,s){Z(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:pe(e)&&(t.setupState=qr(e)),Pl(t)}function Pl(t,e,s){const n=t.type;t.render||(t.render=n.render||dt);{const i=vi(t);At();try{Ku(t)}finally{kt(),i()}}}const Dd={get(t,e){return Ee(t,"get",""),t[e]}};function xd(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Dd),slots:t.slots,emit:t.emit,expose:e}}function mn(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(qr(yu(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Ks)return Ks[s](t)},has(e,s){return s in e||s in Ks}})):t.proxy}function Od(t,e=!0){return Z(t)?t.displayName||t.name:t.name||e&&t.__name}function Nd(t){return Z(t)&&"__vccOpts"in t}const Je=(t,e)=>Cu(t,e,oi);function Ml(t,e,s){const n=arguments.length;return n===2?pe(e)&&!W(e)?Ki(e)?ne(t,null,[e]):ne(t,e):ne(t,null,e):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&Ki(s)&&(s=[s]),ne(t,e,s))}const Ld="3.5.14";/**
* @vue/runtime-dom v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Yn;const la=typeof window<"u"&&window.trustedTypes;if(la)try{Yn=la.createPolicy("vue",{createHTML:t=>t})}catch{}const Rl=Yn?t=>Yn.createHTML(t):t=>t,$d="http://www.w3.org/2000/svg",Fd="http://www.w3.org/1998/Math/MathML",yt=typeof document<"u"?document:null,ca=yt&&yt.createElement("template"),Ud={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const i=e==="svg"?yt.createElementNS($d,t):e==="mathml"?yt.createElementNS(Fd,t):s?yt.createElement(t,{is:s}):yt.createElement(t);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>yt.createTextNode(t),createComment:t=>yt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>yt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,n,i,o){const l=s?s.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),s),!(i===o||!(i=i.nextSibling)););else{ca.innerHTML=Rl(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const r=ca.content;if(n==="svg"||n==="mathml"){const c=r.firstChild;for(;c.firstChild;)r.appendChild(c.firstChild);r.removeChild(c)}e.insertBefore(r,s)}return[l?l.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},xt="transition",zs="animation",ks=Symbol("_vtc"),Dl={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},zd=Ie({},xu,Dl),Qt=(t,e=[])=>{W(t)?t.forEach(s=>s(...e)):t&&t(...e)},ua=t=>t?W(t)?t.some(e=>e.length>1):t.length>1:!1;function Bd(t){const e={};for(const U in t)U in Dl||(e[U]=t[U]);if(t.css===!1)return e;const{name:s="v",type:n,duration:i,enterFromClass:o=`${s}-enter-from`,enterActiveClass:l=`${s}-enter-active`,enterToClass:r=`${s}-enter-to`,appearFromClass:c=o,appearActiveClass:u=l,appearToClass:d=r,leaveFromClass:h=`${s}-leave-from`,leaveActiveClass:f=`${s}-leave-active`,leaveToClass:g=`${s}-leave-to`}=t,T=Vd(i),P=T&&T[0],z=T&&T[1],{onBeforeEnter:L,onEnter:D,onEnterCancelled:$,onLeave:N,onLeaveCancelled:Y,onBeforeAppear:Q=L,onAppear:ee=D,onAppearCancelled:Se=$}=e,K=(U,oe,Ce,Ue)=>{U._enterCancelled=Ue,Lt(U,oe?d:r),Lt(U,oe?u:l),Ce&&Ce()},te=(U,oe)=>{U._isLeaving=!1,Lt(U,h),Lt(U,g),Lt(U,f),oe&&oe()},me=U=>(oe,Ce)=>{const Ue=U?ee:D,ye=()=>K(oe,U,Ce);Qt(Ue,[oe,ye]),da(()=>{Lt(oe,U?c:o),rt(oe,U?d:r),ua(Ue)||fa(oe,n,P,ye)})};return Ie(e,{onBeforeEnter(U){Qt(L,[U]),rt(U,o),rt(U,l)},onBeforeAppear(U){Qt(Q,[U]),rt(U,c),rt(U,u)},onEnter:me(!1),onAppear:me(!0),onLeave(U,oe){U._isLeaving=!0;const Ce=()=>te(U,oe);rt(U,h),U._enterCancelled?(rt(U,f),Xn()):(Xn(),rt(U,f)),da(()=>{U._isLeaving&&(Lt(U,h),rt(U,g),ua(N)||fa(U,n,z,Ce))}),Qt(N,[U,Ce])},onEnterCancelled(U){K(U,!1,void 0,!0),Qt($,[U])},onAppearCancelled(U){K(U,!0,void 0,!0),Qt(Se,[U])},onLeaveCancelled(U){te(U),Qt(Y,[U])}})}function Vd(t){if(t==null)return null;if(pe(t))return[En(t.enter),En(t.leave)];{const e=En(t);return[e,e]}}function En(t){return Wc(t)}function rt(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t[ks]||(t[ks]=new Set)).add(e)}function Lt(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const s=t[ks];s&&(s.delete(e),s.size||(t[ks]=void 0))}function da(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Hd=0;function fa(t,e,s,n){const i=t._endId=++Hd,o=()=>{i===t._endId&&n()};if(s!=null)return setTimeout(o,s);const{type:l,timeout:r,propCount:c}=xl(t,e);if(!l)return n();const u=l+"end";let d=0;const h=()=>{t.removeEventListener(u,f),o()},f=g=>{g.target===t&&++d>=c&&h()};setTimeout(()=>{d<c&&h()},r+1),t.addEventListener(u,f)}function xl(t,e){const s=window.getComputedStyle(t),n=T=>(s[T]||"").split(", "),i=n(`${xt}Delay`),o=n(`${xt}Duration`),l=ha(i,o),r=n(`${zs}Delay`),c=n(`${zs}Duration`),u=ha(r,c);let d=null,h=0,f=0;e===xt?l>0&&(d=xt,h=l,f=o.length):e===zs?u>0&&(d=zs,h=u,f=c.length):(h=Math.max(l,u),d=h>0?l>u?xt:zs:null,f=d?d===xt?o.length:c.length:0);const g=d===xt&&/\b(transform|all)(,|$)/.test(n(`${xt}Property`).toString());return{type:d,timeout:h,propCount:f,hasTransform:g}}function ha(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((s,n)=>pa(s)+pa(t[n])))}function pa(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Xn(){return document.body.offsetHeight}function jd(t,e,s){const n=t[ks];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Zi=Symbol("_vod"),Ol=Symbol("_vsh"),Pi={beforeMount(t,{value:e},{transition:s}){t[Zi]=t.style.display==="none"?"":t.style.display,s&&e?s.beforeEnter(t):Bs(t,e)},mounted(t,{value:e},{transition:s}){s&&e&&s.enter(t)},updated(t,{value:e,oldValue:s},{transition:n}){!e!=!s&&(n?e?(n.beforeEnter(t),Bs(t,!0),n.enter(t)):n.leave(t,()=>{Bs(t,!1)}):Bs(t,e))},beforeUnmount(t,{value:e}){Bs(t,e)}};function Bs(t,e){t.style.display=e?t[Zi]:"none",t[Ol]=!e}const Wd=Symbol(""),Gd=/(^|;)\s*display\s*:/;function qd(t,e,s){const n=t.style,i=_e(s);let o=!1;if(s&&!i){if(e)if(_e(e))for(const l of e.split(";")){const r=l.slice(0,l.indexOf(":")).trim();s[r]==null&&Li(n,r,"")}else for(const l in e)s[l]==null&&Li(n,l,"");for(const l in s)l==="display"&&(o=!0),Li(n,l,s[l])}else if(i){if(e!==s){const l=n[Wd];l&&(s+=";"+l),n.cssText=s,o=Gd.test(s)}}else e&&t.removeAttribute("style");Zi in t&&(t[Zi]=o?n.display:"",t[Ol]&&(n.display="none"))}const ma=/\s*!important$/;function Li(t,e,s){if(W(s))s.forEach(n=>Li(t,e,n));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const n=Kd(t,e);ma.test(s)?t.setProperty(rs(n),s.replace(ma,""),"important"):t[n]=s}}const ga=["Webkit","Moz","ms"],Pn={};function Kd(t,e){const s=Pn[e];if(s)return s;let n=Ke(e);if(n!=="filter"&&n in t)return Pn[e]=n;n=rn(n);for(let i=0;i<ga.length;i++){const o=ga[i]+n;if(o in t)return Pn[e]=o}return e}const va="http://www.w3.org/1999/xlink";function ba(t,e,s,n,i,o=Yc(e)){n&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(va,e.slice(6,e.length)):t.setAttributeNS(va,e,s):s==null||o&&!kr(s)?t.removeAttribute(e):t.setAttribute(e,o?"":pt(s)?String(s):s)}function ya(t,e,s,n,i){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?Rl(s):s);return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const r=o==="OPTION"?t.getAttribute("value")||"":t.value,c=s==null?t.type==="checkbox"?"on":"":String(s);(r!==c||!("_value"in t))&&(t.value=c),s==null&&t.removeAttribute(e),t._value=s;return}let l=!1;if(s===""||s==null){const r=typeof t[e];r==="boolean"?s=kr(s):s==null&&r==="string"?(s="",l=!0):r==="number"&&(s=0,l=!0)}try{t[e]=s}catch{}l&&t.removeAttribute(i||e)}function Bt(t,e,s,n){t.addEventListener(e,s,n)}function Jd(t,e,s,n){t.removeEventListener(e,s,n)}const _a=Symbol("_vei");function Zd(t,e,s,n,i=null){const o=t[_a]||(t[_a]={}),l=o[e];if(n&&l)l.value=n;else{const[r,c]=Yd(e);if(n){const u=o[e]=ef(n,i);Bt(t,r,u,c)}else l&&(Jd(t,r,l,c),o[e]=void 0)}}const wa=/(?:Once|Passive|Capture)$/;function Yd(t){let e;if(wa.test(t)){e={};let n;for(;n=t.match(wa);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):rs(t.slice(2)),e]}let Mn=0;const Xd=Promise.resolve(),Qd=()=>Mn||(Xd.then(()=>Mn=0),Mn=Date.now());function ef(t,e){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;et(tf(n,s.value),e,5,[n])};return s.value=t,s.attached=Qd(),s}function tf(t,e){if(W(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const Ia=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,sf=(t,e,s,n,i,o)=>{const l=i==="svg";e==="class"?jd(t,n,l):e==="style"?qd(t,s,n):on(e)?fo(e)||Zd(t,e,s,n,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):nf(t,e,n,l))?(ya(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&ba(t,e,n,l,o,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!_e(n))?ya(t,Ke(e),n,o,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),ba(t,e,n,l))};function nf(t,e,s,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&Ia(e)&&Z(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Ia(e)&&_e(s)?!1:e in t}const Nl=new WeakMap,Ll=new WeakMap,Yi=Symbol("_moveCb"),Sa=Symbol("_enterCb"),of=t=>(delete t.props.mode,t),af=of({name:"TransitionGroup",props:Ie({},zd,{tag:String,moveClass:String}),setup(t,{slots:e}){const s=Pd(),n=Du();let i,o;return al(()=>{if(!i.length)return;const l=t.moveClass||`${t.name||"v"}-move`;if(!df(i[0].el,s.vnode.el,l)){i=[];return}i.forEach(lf),i.forEach(cf);const r=i.filter(uf);Xn(),r.forEach(c=>{const u=c.el,d=u.style;rt(u,l),d.transform=d.webkitTransform=d.transitionDuration="";const h=u[Yi]=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",h),u[Yi]=null,Lt(u,l))};u.addEventListener("transitionend",h)}),i=[]}),()=>{const l=se(t),r=Bd(l);let c=l.tag||ie;if(i=[],o)for(let u=0;u<o.length;u++){const d=o[u];d.el&&d.el instanceof Element&&(i.push(d),ii(d,Wn(d,r,n,s)),Nl.set(d,d.el.getBoundingClientRect()))}o=e.default?el(e.default()):[];for(let u=0;u<o.length;u++){const d=o[u];d.key!=null&&ii(d,Wn(d,r,n,s))}return ne(c,null,o)}}}),rf=af;function lf(t){const e=t.el;e[Yi]&&e[Yi](),e[Sa]&&e[Sa]()}function cf(t){Ll.set(t,t.el.getBoundingClientRect())}function uf(t){const e=Nl.get(t),s=Ll.get(t),n=e.left-s.left,i=e.top-s.top;if(n||i){const o=t.el.style;return o.transform=o.webkitTransform=`translate(${n}px,${i}px)`,o.transitionDuration="0s",t}}function df(t,e,s){const n=t.cloneNode(),i=t[ks];i&&i.forEach(r=>{r.split(/\s+/).forEach(c=>c&&n.classList.remove(c))}),s.split(/\s+/).forEach(r=>r&&n.classList.add(r)),n.style.display="none";const o=e.nodeType===1?e:e.parentNode;o.appendChild(n);const{hasTransform:l}=xl(n);return o.removeChild(n),l}const Es=t=>{const e=t.props["onUpdate:modelValue"]||!1;return W(e)?s=>Ri(e,s):e};function ff(t){t.target.composing=!0}function Ca(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Tt=Symbol("_assign"),$e={created(t,{modifiers:{lazy:e,trim:s,number:n}},i){t[Tt]=Es(i);const o=n||i.props&&i.props.type==="number";Bt(t,e?"change":"input",l=>{if(l.target.composing)return;let r=t.value;s&&(r=r.trim()),o&&(r=Bi(r)),t[Tt](r)}),s&&Bt(t,"change",()=>{t.value=t.value.trim()}),e||(Bt(t,"compositionstart",ff),Bt(t,"compositionend",Ca),Bt(t,"change",Ca))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:n,trim:i,number:o}},l){if(t[Tt]=Es(l),t.composing)return;const r=(o||t.type==="number")&&!/^0\d/.test(t.value)?Bi(t.value):t.value,c=e??"";r!==c&&(document.activeElement===t&&t.type!=="range"&&(n&&e===s||i&&t.value.trim()===c)||(t.value=c))}},hf={deep:!0,created(t,e,s){t[Tt]=Es(s),Bt(t,"change",()=>{const n=t._modelValue,i=ai(t),o=t.checked,l=t[Tt];if(W(n)){const r=mo(n,i),c=r!==-1;if(o&&!c)l(n.concat(i));else if(!o&&c){const u=[...n];u.splice(r,1),l(u)}}else if(Ns(n)){const r=new Set(n);o?r.add(i):r.delete(i),l(r)}else l($l(t,o))})},mounted:Ta,beforeUpdate(t,e,s){t[Tt]=Es(s),Ta(t,e,s)}};function Ta(t,{value:e,oldValue:s},n){t._modelValue=e;let i;if(W(e))i=mo(e,n.props.value)>-1;else if(Ns(e))i=e.has(n.props.value);else{if(e===s)return;i=mi(e,$l(t,!0))}t.checked!==i&&(t.checked=i)}const Ps={deep:!0,created(t,{value:e,modifiers:{number:s}},n){const i=Ns(e);Bt(t,"change",()=>{const o=Array.prototype.filter.call(t.options,l=>l.selected).map(l=>s?Bi(ai(l)):ai(l));t[Tt](t.multiple?i?new Set(o):o:o[0]),t._assigning=!0,So(()=>{t._assigning=!1})}),t[Tt]=Es(n)},mounted(t,{value:e}){Aa(t,e)},beforeUpdate(t,e,s){t[Tt]=Es(s)},updated(t,{value:e}){t._assigning||Aa(t,e)}};function Aa(t,e){const s=t.multiple,n=W(e);if(!(s&&!n&&!Ns(e))){for(let i=0,o=t.options.length;i<o;i++){const l=t.options[i],r=ai(l);if(s)if(n){const c=typeof r;c==="string"||c==="number"?l.selected=e.some(u=>String(u)===String(r)):l.selected=mo(e,r)>-1}else l.selected=e.has(r);else if(mi(ai(l),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ai(t){return"_value"in t?t._value:t.value}function $l(t,e){const s=e?"_trueValue":"_falseValue";return s in t?t[s]:e}const pf=["ctrl","shift","alt","meta"],mf={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>pf.some(s=>t[`${s}Key`]&&!e.includes(s))},Wt=(t,e)=>{const s=t._withMods||(t._withMods={}),n=e.join(".");return s[n]||(s[n]=(i,...o)=>{for(let l=0;l<e.length;l++){const r=mf[e[l]];if(r&&r(i,e))return}return t(i,...o)})},gf=Ie({patchProp:sf},Ud);let ka;function vf(){return ka||(ka=rd(gf))}const bf=(...t)=>{const e=vf().createApp(...t),{mount:s}=e;return e.mount=n=>{const i=_f(n);if(!i)return;const o=e._component;!Z(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const l=s(i,!1,yf(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),l},e};function yf(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function _f(t){return _e(t)?document.querySelector(t):t}const we=(t,e)=>{const s=t.__vccOpts||t;for(const[n,i]of e)s[n]=i;return s},wf={name:"App",mounted(){this.importarDadosModelo()},methods:{importarDadosModelo(){const t=[{id:1,titulo:"Auditoria a Sinal de Trânsito",tipo:"Infraestrutura",data:new Date().toISOString(),local:"Rua das Oliveiras, Porto",descricao:"Verificação do sinal caído e obstrução do passeio.",documentos:"RelatórioSinal.pdf",prioridade:"Alta",especialistas:["João Silva"],materiais:"Sinal novo, ferramentas de fixação",origem:"Reclamação por app"},{id:2,titulo:"Auditoria de Passadeira",tipo:"Segurança Rodoviária",data:new Date(new Date().getTime()-1728e5).toISOString(),local:"Rua do Comércio, Braga",descricao:"Verificação da pintura da passadeira e visibilidade.",documentos:"",prioridade:"Média",especialistas:["Marta Lopes"],materiais:"Tinta, fita refletora",origem:"Pedido da Câmara"},{id:3,titulo:"Auditoria de Iluminação Pública",tipo:"Infraestrutura Urbana",data:new Date(new Date().getTime()-432e6).toISOString(),local:"Avenida dos Aliados, Porto",descricao:"Revisão do sistema de iluminação após reclamações.",documentos:"RelatórioIluminação.pdf",prioridade:"Alta",especialistas:["Ana Costa"],materiais:"Equipamento elétrico, medidor de tensão",origem:"Reclamação Cidadão"}],e=[{id:101,titulo:"Inspeção de Passadeira",tipo:"Segurança Rodoviária",data:"2025-05-10T23:06:41.769137",local:"Rua de São Lázaro, Braga",descricao:"Verificação da visibilidade da passadeira e necessidade de repintura.",documentos:"Relatório_2024_Passadeira.pdf",prioridade:"Média",especialistas:["João Silva","Marta Lopes"],materiais:"Tinta, Sinalização Temporária",origem:"Reclamação Cidadão"},{id:102,titulo:"Verificação de Iluminação Pública",tipo:"Infraestrutura Urbana",data:"2025-05-13T23:06:41.769153",local:"Avenida Central, Guimarães",descricao:"Auditoria para validar reparações após apagões constantes.",documentos:"CheckList_Luzes_Avenida.pdf",prioridade:"Alta",especialistas:["Ana Costa"],materiais:"Equipamentos de Medição de Tensão",origem:"Pedido da Câmara Municipal"},{id:103,titulo:"Inspeção de Calçada",tipo:"Infraestrutura Urbana",data:"2025-04-20T10:30:00.000Z",local:"Rua das Flores, Braga",descricao:"Verificação de calçada danificada e segurança do pedestre.",documentos:"",prioridade:"Baixa",especialistas:["João Silva"],materiais:"Ferramentas de reparo",origem:"Reclamação Cidadão"}],s=[{id:201,titulo:"Queda de Árvore",tipo:"Infraestrutura",data:new Date().toISOString(),local:"Parque da Cidade, Porto",descricao:"Árvore caída obstruindo passeio público.",documentos:"",prioridade:"Alta",especialistas:[],materiais:"",origem:"Reclamação por app"},{id:202,titulo:"Buraco na Rua",tipo:"Infraestrutura",data:new Date().toISOString(),local:"Rua da Liberdade, Braga",descricao:"Buraco grande no meio da via causando riscos.",documentos:"",prioridade:"Média",especialistas:[],materiais:"",origem:"Reclamação Cidadão"},{id:203,titulo:"Falta de Sinalização",tipo:"Segurança Rodoviária",data:new Date().toISOString(),local:"Rotunda Central, Guimarães",descricao:"Sinalização apagada ou inexistente na rotunda.",documentos:"",prioridade:"Alta",especialistas:[],materiais:"",origem:"Pedido da Câmara"}],n=[{id:1,nome:"João Silva",email:"joao.silva@especialista.com",password:"123456",telefone:"912345678",morada:"Rua das Flores, 123, Braga",dataNascimento:"1985-03-15",especialidade:"Infraestruturas",localidade:"Braga",avatar:"joao.jpg"},{id:2,nome:"Marta Lopes",email:"marta.lopes@especialista.com",password:"123456",telefone:"923456789",morada:"Avenida Central, 456, Guimarães",dataNascimento:"1990-07-22",especialidade:"Segurança Rodoviária",localidade:"Guimarães",imagem:"marta.jpg"},{id:3,nome:"Ana Costa",email:"ana.costa@especialista.com",password:"123456",telefone:"934567890",morada:"Praça da República, 789, Porto",dataNascimento:"1988-11-08",especialidade:"Iluminação Pública",localidade:"Porto",imagem:"ana.jpg"}],i=[{id:1,email:"nuno@mail.com",password:"1234",name:"Nuno Campelo",avatar:"nuno.jpg",numero:"912345678",local:"Rua do Sol, 45, Porto"},{id:2,email:"ana@mail.com",password:"abcd",name:"Ana Silva",avatar:"user-icon.png"}];localStorage.setItem("utilizadores",JSON.stringify(i)),localStorage.setItem("auditorias",JSON.stringify(t)),localStorage.setItem("auditoriasConcluidas",JSON.stringify(e)),localStorage.setItem("auditoriasNovas",JSON.stringify(s)),localStorage.setItem("especialistas",JSON.stringify(n))}}},If={class:"app-wrapper"};function Sf(t,e,s,n,i,o){const l=xe("router-view");return y(),_("div",If,[ne(l)])}const Cf=we(wf,[["render",Sf]]);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const ms=typeof document<"u";function Fl(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Tf(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Fl(t.default)}const re=Object.assign;function Rn(t,e){const s={};for(const n in e){const i=e[n];s[n]=tt(i)?i.map(t):t(i)}return s}const Zs=()=>{},tt=Array.isArray,Ul=/#/g,Af=/&/g,kf=/\//g,Ef=/=/g,Pf=/\?/g,zl=/\+/g,Mf=/%5B/g,Rf=/%5D/g,Bl=/%5E/g,Df=/%60/g,Vl=/%7B/g,xf=/%7C/g,Hl=/%7D/g,Of=/%20/g;function Eo(t){return encodeURI(""+t).replace(xf,"|").replace(Mf,"[").replace(Rf,"]")}function Nf(t){return Eo(t).replace(Vl,"{").replace(Hl,"}").replace(Bl,"^")}function Qn(t){return Eo(t).replace(zl,"%2B").replace(Of,"+").replace(Ul,"%23").replace(Af,"%26").replace(Df,"`").replace(Vl,"{").replace(Hl,"}").replace(Bl,"^")}function Lf(t){return Qn(t).replace(Ef,"%3D")}function $f(t){return Eo(t).replace(Ul,"%23").replace(Pf,"%3F")}function Ff(t){return t==null?"":$f(t).replace(kf,"%2F")}function ri(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Uf=/\/$/,zf=t=>t.replace(Uf,"");function Dn(t,e,s="/"){let n,i={},o="",l="";const r=e.indexOf("#");let c=e.indexOf("?");return r<c&&r>=0&&(c=-1),c>-1&&(n=e.slice(0,c),o=e.slice(c+1,r>-1?r:e.length),i=t(o)),r>-1&&(n=n||e.slice(0,r),l=e.slice(r,e.length)),n=jf(n??e,s),{fullPath:n+(o&&"?")+o+l,path:n,query:i,hash:ri(l)}}function Bf(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function Ea(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Vf(t,e,s){const n=e.matched.length-1,i=s.matched.length-1;return n>-1&&n===i&&Ms(e.matched[n],s.matched[i])&&jl(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function Ms(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function jl(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!Hf(t[s],e[s]))return!1;return!0}function Hf(t,e){return tt(t)?Pa(t,e):tt(e)?Pa(e,t):t===e}function Pa(t,e){return tt(e)?t.length===e.length&&t.every((s,n)=>s===e[n]):t.length===1&&t[0]===e}function jf(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),n=t.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let o=s.length-1,l,r;for(l=0;l<n.length;l++)if(r=n[l],r!==".")if(r==="..")o>1&&o--;else break;return s.slice(0,o).join("/")+"/"+n.slice(l).join("/")}const Ot={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var li;(function(t){t.pop="pop",t.push="push"})(li||(li={}));var Ys;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ys||(Ys={}));function Wf(t){if(!t)if(ms){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),zf(t)}const Gf=/^[^#]+#/;function qf(t,e){return t.replace(Gf,"#")+e}function Kf(t,e){const s=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-s.left-(e.left||0),top:n.top-s.top-(e.top||0)}}const gn=()=>({left:window.scrollX,top:window.scrollY});function Jf(t){let e;if("el"in t){const s=t.el,n=typeof s=="string"&&s.startsWith("#"),i=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!i)return;e=Kf(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Ma(t,e){return(history.state?history.state.position-e:-1)+t}const eo=new Map;function Zf(t,e){eo.set(t,e)}function Yf(t){const e=eo.get(t);return eo.delete(t),e}let Xf=()=>location.protocol+"//"+location.host;function Wl(t,e){const{pathname:s,search:n,hash:i}=e,o=t.indexOf("#");if(o>-1){let r=i.includes(t.slice(o))?t.slice(o).length:1,c=i.slice(r);return c[0]!=="/"&&(c="/"+c),Ea(c,"")}return Ea(s,t)+n+i}function Qf(t,e,s,n){let i=[],o=[],l=null;const r=({state:f})=>{const g=Wl(t,location),T=s.value,P=e.value;let z=0;if(f){if(s.value=g,e.value=f,l&&l===T){l=null;return}z=P?f.position-P.position:0}else n(g);i.forEach(L=>{L(s.value,T,{delta:z,type:li.pop,direction:z?z>0?Ys.forward:Ys.back:Ys.unknown})})};function c(){l=s.value}function u(f){i.push(f);const g=()=>{const T=i.indexOf(f);T>-1&&i.splice(T,1)};return o.push(g),g}function d(){const{history:f}=window;f.state&&f.replaceState(re({},f.state,{scroll:gn()}),"")}function h(){for(const f of o)f();o=[],window.removeEventListener("popstate",r),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",r),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:c,listen:u,destroy:h}}function Ra(t,e,s,n=!1,i=!1){return{back:t,current:e,forward:s,replaced:n,position:window.history.length,scroll:i?gn():null}}function eh(t){const{history:e,location:s}=window,n={value:Wl(t,s)},i={value:e.state};i.value||o(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(c,u,d){const h=t.indexOf("#"),f=h>-1?(s.host&&document.querySelector("base")?t:t.slice(h))+c:Xf()+t+c;try{e[d?"replaceState":"pushState"](u,"",f),i.value=u}catch(g){console.error(g),s[d?"replace":"assign"](f)}}function l(c,u){const d=re({},e.state,Ra(i.value.back,c,i.value.forward,!0),u,{position:i.value.position});o(c,d,!0),n.value=c}function r(c,u){const d=re({},i.value,e.state,{forward:c,scroll:gn()});o(d.current,d,!0);const h=re({},Ra(n.value,c,null),{position:d.position+1},u);o(c,h,!1),n.value=c}return{location:n,state:i,push:r,replace:l}}function th(t){t=Wf(t);const e=eh(t),s=Qf(t,e.state,e.location,e.replace);function n(o,l=!0){l||s.pauseListeners(),history.go(o)}const i=re({location:"",base:t,go:n,createHref:qf.bind(null,t)},e,s);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function sh(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),th(t)}function ih(t){return typeof t=="string"||t&&typeof t=="object"}function Gl(t){return typeof t=="string"||typeof t=="symbol"}const ql=Symbol("");var Da;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Da||(Da={}));function Rs(t,e){return re(new Error,{type:t,[ql]:!0},e)}function bt(t,e){return t instanceof Error&&ql in t&&(e==null||!!(t.type&e))}const xa="[^/]+?",nh={sensitive:!1,strict:!1,start:!0,end:!0},oh=/[.+*?^${}()[\]/\\]/g;function ah(t,e){const s=re({},nh,e),n=[];let i=s.start?"^":"";const o=[];for(const u of t){const d=u.length?[]:[90];s.strict&&!u.length&&(i+="/");for(let h=0;h<u.length;h++){const f=u[h];let g=40+(s.sensitive?.25:0);if(f.type===0)h||(i+="/"),i+=f.value.replace(oh,"\\$&"),g+=40;else if(f.type===1){const{value:T,repeatable:P,optional:z,regexp:L}=f;o.push({name:T,repeatable:P,optional:z});const D=L||xa;if(D!==xa){g+=10;try{new RegExp(`(${D})`)}catch(N){throw new Error(`Invalid custom RegExp for param "${T}" (${D}): `+N.message)}}let $=P?`((?:${D})(?:/(?:${D}))*)`:`(${D})`;h||($=z&&u.length<2?`(?:/${$})`:"/"+$),z&&($+="?"),i+=$,g+=20,z&&(g+=-8),P&&(g+=-20),D===".*"&&(g+=-50)}d.push(g)}n.push(d)}if(s.strict&&s.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}s.strict||(i+="/?"),s.end?i+="$":s.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const l=new RegExp(i,s.sensitive?"":"i");function r(u){const d=u.match(l),h={};if(!d)return null;for(let f=1;f<d.length;f++){const g=d[f]||"",T=o[f-1];h[T.name]=g&&T.repeatable?g.split("/"):g}return h}function c(u){let d="",h=!1;for(const f of t){(!h||!d.endsWith("/"))&&(d+="/"),h=!1;for(const g of f)if(g.type===0)d+=g.value;else if(g.type===1){const{value:T,repeatable:P,optional:z}=g,L=T in u?u[T]:"";if(tt(L)&&!P)throw new Error(`Provided param "${T}" is an array but it is not repeatable (* or + modifiers)`);const D=tt(L)?L.join("/"):L;if(!D)if(z)f.length<2&&(d.endsWith("/")?d=d.slice(0,-1):h=!0);else throw new Error(`Missing required param "${T}"`);d+=D}}return d||"/"}return{re:l,score:n,keys:o,parse:r,stringify:c}}function rh(t,e){let s=0;for(;s<t.length&&s<e.length;){const n=e[s]-t[s];if(n)return n;s++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Kl(t,e){let s=0;const n=t.score,i=e.score;for(;s<n.length&&s<i.length;){const o=rh(n[s],i[s]);if(o)return o;s++}if(Math.abs(i.length-n.length)===1){if(Oa(n))return 1;if(Oa(i))return-1}return i.length-n.length}function Oa(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const lh={type:0,value:""},ch=/[a-zA-Z0-9_]/;function uh(t){if(!t)return[[]];if(t==="/")return[[lh]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${s})/"${u}": ${g}`)}let s=0,n=s;const i=[];let o;function l(){o&&i.push(o),o=[]}let r=0,c,u="",d="";function h(){u&&(s===0?o.push({type:0,value:u}):s===1||s===2||s===3?(o.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:d,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=c}for(;r<t.length;){if(c=t[r++],c==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:c==="/"?(u&&h(),l()):c===":"?(h(),s=1):f();break;case 4:f(),s=n;break;case 1:c==="("?s=2:ch.test(c)?f():(h(),s=0,c!=="*"&&c!=="?"&&c!=="+"&&r--);break;case 2:c===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+c:s=3:d+=c;break;case 3:h(),s=0,c!=="*"&&c!=="?"&&c!=="+"&&r--,d="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),l(),i}function dh(t,e,s){const n=ah(uh(t.path),s),i=re(n,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function fh(t,e){const s=[],n=new Map;e=Fa({strict:!1,end:!0,sensitive:!1},e);function i(h){return n.get(h)}function o(h,f,g){const T=!g,P=La(h);P.aliasOf=g&&g.record;const z=Fa(e,h),L=[P];if("alias"in h){const N=typeof h.alias=="string"?[h.alias]:h.alias;for(const Y of N)L.push(La(re({},P,{components:g?g.record.components:P.components,path:Y,aliasOf:g?g.record:P})))}let D,$;for(const N of L){const{path:Y}=N;if(f&&Y[0]!=="/"){const Q=f.record.path,ee=Q[Q.length-1]==="/"?"":"/";N.path=f.record.path+(Y&&ee+Y)}if(D=dh(N,f,z),g?g.alias.push(D):($=$||D,$!==D&&$.alias.push(D),T&&h.name&&!$a(D)&&l(h.name)),Jl(D)&&c(D),P.children){const Q=P.children;for(let ee=0;ee<Q.length;ee++)o(Q[ee],D,g&&g.children[ee])}g=g||D}return $?()=>{l($)}:Zs}function l(h){if(Gl(h)){const f=n.get(h);f&&(n.delete(h),s.splice(s.indexOf(f),1),f.children.forEach(l),f.alias.forEach(l))}else{const f=s.indexOf(h);f>-1&&(s.splice(f,1),h.record.name&&n.delete(h.record.name),h.children.forEach(l),h.alias.forEach(l))}}function r(){return s}function c(h){const f=mh(h,s);s.splice(f,0,h),h.record.name&&!$a(h)&&n.set(h.record.name,h)}function u(h,f){let g,T={},P,z;if("name"in h&&h.name){if(g=n.get(h.name),!g)throw Rs(1,{location:h});z=g.record.name,T=re(Na(f.params,g.keys.filter($=>!$.optional).concat(g.parent?g.parent.keys.filter($=>$.optional):[]).map($=>$.name)),h.params&&Na(h.params,g.keys.map($=>$.name))),P=g.stringify(T)}else if(h.path!=null)P=h.path,g=s.find($=>$.re.test(P)),g&&(T=g.parse(P),z=g.record.name);else{if(g=f.name?n.get(f.name):s.find($=>$.re.test(f.path)),!g)throw Rs(1,{location:h,currentLocation:f});z=g.record.name,T=re({},f.params,h.params),P=g.stringify(T)}const L=[];let D=g;for(;D;)L.unshift(D.record),D=D.parent;return{name:z,path:P,params:T,matched:L,meta:ph(L)}}t.forEach(h=>o(h));function d(){s.length=0,n.clear()}return{addRoute:o,resolve:u,removeRoute:l,clearRoutes:d,getRoutes:r,getRecordMatcher:i}}function Na(t,e){const s={};for(const n of e)n in t&&(s[n]=t[n]);return s}function La(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:hh(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function hh(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const n in t.components)e[n]=typeof s=="object"?s[n]:s;return e}function $a(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function ph(t){return t.reduce((e,s)=>re(e,s.meta),{})}function Fa(t,e){const s={};for(const n in t)s[n]=n in e?e[n]:t[n];return s}function mh(t,e){let s=0,n=e.length;for(;s!==n;){const o=s+n>>1;Kl(t,e[o])<0?n=o:s=o+1}const i=gh(t);return i&&(n=e.lastIndexOf(i,n-1)),n}function gh(t){let e=t;for(;e=e.parent;)if(Jl(e)&&Kl(t,e)===0)return e}function Jl({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function vh(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<n.length;++i){const o=n[i].replace(zl," "),l=o.indexOf("="),r=ri(l<0?o:o.slice(0,l)),c=l<0?null:ri(o.slice(l+1));if(r in e){let u=e[r];tt(u)||(u=e[r]=[u]),u.push(c)}else e[r]=c}return e}function Ua(t){let e="";for(let s in t){const n=t[s];if(s=Lf(s),n==null){n!==void 0&&(e+=(e.length?"&":"")+s);continue}(tt(n)?n.map(o=>o&&Qn(o)):[n&&Qn(n)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+s,o!=null&&(e+="="+o))})}return e}function bh(t){const e={};for(const s in t){const n=t[s];n!==void 0&&(e[s]=tt(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return e}const yh=Symbol(""),za=Symbol(""),vn=Symbol(""),Zl=Symbol(""),to=Symbol("");function Vs(){let t=[];function e(n){return t.push(n),()=>{const i=t.indexOf(n);i>-1&&t.splice(i,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function Ut(t,e,s,n,i,o=l=>l()){const l=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((r,c)=>{const u=f=>{f===!1?c(Rs(4,{from:s,to:e})):f instanceof Error?c(f):ih(f)?c(Rs(2,{from:e,to:f})):(l&&n.enterCallbacks[i]===l&&typeof f=="function"&&l.push(f),r())},d=o(()=>t.call(n&&n.instances[i],e,s,u));let h=Promise.resolve(d);t.length<3&&(h=h.then(u)),h.catch(f=>c(f))})}function xn(t,e,s,n,i=o=>o()){const o=[];for(const l of t)for(const r in l.components){let c=l.components[r];if(!(e!=="beforeRouteEnter"&&!l.instances[r]))if(Fl(c)){const d=(c.__vccOpts||c)[e];d&&o.push(Ut(d,s,n,l,r,i))}else{let u=c();o.push(()=>u.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${r}" at "${l.path}"`);const h=Tf(d)?d.default:d;l.mods[r]=d,l.components[r]=h;const g=(h.__vccOpts||h)[e];return g&&Ut(g,s,n,l,r,i)()}))}}return o}function Ba(t){const e=ft(vn),s=ft(Zl),n=Je(()=>{const c=_s(t.to);return e.resolve(c)}),i=Je(()=>{const{matched:c}=n.value,{length:u}=c,d=c[u-1],h=s.matched;if(!d||!h.length)return-1;const f=h.findIndex(Ms.bind(null,d));if(f>-1)return f;const g=Va(c[u-2]);return u>1&&Va(d)===g&&h[h.length-1].path!==g?h.findIndex(Ms.bind(null,c[u-2])):f}),o=Je(()=>i.value>-1&&Ch(s.params,n.value.params)),l=Je(()=>i.value>-1&&i.value===s.matched.length-1&&jl(s.params,n.value.params));function r(c={}){if(Sh(c)){const u=e[_s(t.replace)?"replace":"push"](_s(t.to)).catch(Zs);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:n,href:Je(()=>n.value.href),isActive:o,isExactActive:l,navigate:r}}function _h(t){return t.length===1?t[0]:t}const wh=tl({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Ba,setup(t,{slots:e}){const s=un(Ba(t)),{options:n}=ft(vn),i=Je(()=>({[Ha(t.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[Ha(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const o=e.default&&_h(e.default(s));return t.custom?o:Ml("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:i.value},o)}}}),Ih=wh;function Sh(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Ch(t,e){for(const s in e){const n=e[s],i=t[s];if(typeof n=="string"){if(n!==i)return!1}else if(!tt(i)||i.length!==n.length||n.some((o,l)=>o!==i[l]))return!1}return!0}function Va(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Ha=(t,e,s)=>t??e??s,Th=tl({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const n=ft(to),i=Je(()=>t.route||n.value),o=ft(za,0),l=Je(()=>{let u=_s(o);const{matched:d}=i.value;let h;for(;(h=d[u])&&!h.components;)u++;return u}),r=Je(()=>i.value.matched[l.value]);Di(za,Je(()=>l.value+1)),Di(yh,r),Di(to,i);const c=fs();return xi(()=>[c.value,r.value,t.name],([u,d,h],[f,g,T])=>{d&&(d.instances[h]=u,g&&g!==d&&u&&u===f&&(d.leaveGuards.size||(d.leaveGuards=g.leaveGuards),d.updateGuards.size||(d.updateGuards=g.updateGuards))),u&&d&&(!g||!Ms(d,g)||!f)&&(d.enterCallbacks[h]||[]).forEach(P=>P(u))},{flush:"post"}),()=>{const u=i.value,d=t.name,h=r.value,f=h&&h.components[d];if(!f)return ja(s.default,{Component:f,route:u});const g=h.props[d],T=g?g===!0?u.params:typeof g=="function"?g(u):g:null,z=Ml(f,re({},T,e,{onVnodeUnmounted:L=>{L.component.isUnmounted&&(h.instances[d]=null)},ref:c}));return ja(s.default,{Component:z,route:u})||z}}});function ja(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const Ah=Th;function kh(t){const e=fh(t.routes,t),s=t.parseQuery||vh,n=t.stringifyQuery||Ua,i=t.history,o=Vs(),l=Vs(),r=Vs(),c=_u(Ot);let u=Ot;ms&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Rn.bind(null,I=>""+I),h=Rn.bind(null,Ff),f=Rn.bind(null,ri);function g(I,F){let x,B;return Gl(I)?(x=e.getRecordMatcher(I),B=F):B=I,e.addRoute(B,x)}function T(I){const F=e.getRecordMatcher(I);F&&e.removeRoute(F)}function P(){return e.getRoutes().map(I=>I.record)}function z(I){return!!e.getRecordMatcher(I)}function L(I,F){if(F=re({},F||c.value),typeof I=="string"){const v=Dn(s,I,F.path),w=e.resolve({path:v.path},F),C=i.createHref(v.fullPath);return re(v,w,{params:f(w.params),hash:ri(v.hash),redirectedFrom:void 0,href:C})}let x;if(I.path!=null)x=re({},I,{path:Dn(s,I.path,F.path).path});else{const v=re({},I.params);for(const w in v)v[w]==null&&delete v[w];x=re({},I,{params:h(v)}),F.params=h(F.params)}const B=e.resolve(x,F),de=I.hash||"";B.params=d(f(B.params));const p=Bf(n,re({},I,{hash:Nf(de),path:B.path})),m=i.createHref(p);return re({fullPath:p,hash:de,query:n===Ua?bh(I.query):I.query||{}},B,{redirectedFrom:void 0,href:m})}function D(I){return typeof I=="string"?Dn(s,I,c.value.path):re({},I)}function $(I,F){if(u!==I)return Rs(8,{from:F,to:I})}function N(I){return ee(I)}function Y(I){return N(re(D(I),{replace:!0}))}function Q(I){const F=I.matched[I.matched.length-1];if(F&&F.redirect){const{redirect:x}=F;let B=typeof x=="function"?x(I):x;return typeof B=="string"&&(B=B.includes("?")||B.includes("#")?B=D(B):{path:B},B.params={}),re({query:I.query,hash:I.hash,params:B.path!=null?{}:I.params},B)}}function ee(I,F){const x=u=L(I),B=c.value,de=I.state,p=I.force,m=I.replace===!0,v=Q(x);if(v)return ee(re(D(v),{state:typeof v=="object"?re({},de,v.state):de,force:p,replace:m}),F||x);const w=x;w.redirectedFrom=F;let C;return!p&&Vf(n,B,x)&&(C=Rs(16,{to:w,from:B}),st(B,B,!0,!1)),(C?Promise.resolve(C):te(w,B)).catch(S=>bt(S)?bt(S,2)?S:Dt(S):ae(S,w,B)).then(S=>{if(S){if(bt(S,2))return ee(re({replace:m},D(S.to),{state:typeof S.to=="object"?re({},de,S.to.state):de,force:p}),F||w)}else S=U(w,B,!0,m,de);return me(w,B,S),S})}function Se(I,F){const x=$(I,F);return x?Promise.reject(x):Promise.resolve()}function K(I){const F=cs.values().next().value;return F&&typeof F.runWithContext=="function"?F.runWithContext(I):I()}function te(I,F){let x;const[B,de,p]=Eh(I,F);x=xn(B.reverse(),"beforeRouteLeave",I,F);for(const v of B)v.leaveGuards.forEach(w=>{x.push(Ut(w,I,F))});const m=Se.bind(null,I,F);return x.push(m),We(x).then(()=>{x=[];for(const v of o.list())x.push(Ut(v,I,F));return x.push(m),We(x)}).then(()=>{x=xn(de,"beforeRouteUpdate",I,F);for(const v of de)v.updateGuards.forEach(w=>{x.push(Ut(w,I,F))});return x.push(m),We(x)}).then(()=>{x=[];for(const v of p)if(v.beforeEnter)if(tt(v.beforeEnter))for(const w of v.beforeEnter)x.push(Ut(w,I,F));else x.push(Ut(v.beforeEnter,I,F));return x.push(m),We(x)}).then(()=>(I.matched.forEach(v=>v.enterCallbacks={}),x=xn(p,"beforeRouteEnter",I,F,K),x.push(m),We(x))).then(()=>{x=[];for(const v of l.list())x.push(Ut(v,I,F));return x.push(m),We(x)}).catch(v=>bt(v,8)?v:Promise.reject(v))}function me(I,F,x){r.list().forEach(B=>K(()=>B(I,F,x)))}function U(I,F,x,B,de){const p=$(I,F);if(p)return p;const m=F===Ot,v=ms?history.state:{};x&&(B||m?i.replace(I.fullPath,re({scroll:m&&v&&v.scroll},de)):i.push(I.fullPath,de)),c.value=I,st(I,F,x,m),Dt()}let oe;function Ce(){oe||(oe=i.listen((I,F,x)=>{if(!Ci.listening)return;const B=L(I),de=Q(B);if(de){ee(re(de,{replace:!0,force:!0}),B).catch(Zs);return}u=B;const p=c.value;ms&&Zf(Ma(p.fullPath,x.delta),gn()),te(B,p).catch(m=>bt(m,12)?m:bt(m,2)?(ee(re(D(m.to),{force:!0}),B).then(v=>{bt(v,20)&&!x.delta&&x.type===li.pop&&i.go(-1,!1)}).catch(Zs),Promise.reject()):(x.delta&&i.go(-x.delta,!1),ae(m,B,p))).then(m=>{m=m||U(B,p,!1),m&&(x.delta&&!bt(m,8)?i.go(-x.delta,!1):x.type===li.pop&&bt(m,20)&&i.go(-1,!1)),me(B,p,m)}).catch(Zs)}))}let Ue=Vs(),ye=Vs(),ue;function ae(I,F,x){Dt(I);const B=ye.list();return B.length?B.forEach(de=>de(I,F,x)):console.error(I),Promise.reject(I)}function gt(){return ue&&c.value!==Ot?Promise.resolve():new Promise((I,F)=>{Ue.add([I,F])})}function Dt(I){return ue||(ue=!I,Ce(),Ue.list().forEach(([F,x])=>I?x(I):F()),Ue.reset()),I}function st(I,F,x,B){const{scrollBehavior:de}=t;if(!ms||!de)return Promise.resolve();const p=!x&&Yf(Ma(I.fullPath,0))||(B||!x)&&history.state&&history.state.scroll||null;return So().then(()=>de(I,F,p)).then(m=>m&&Jf(m)).catch(m=>ae(m,I,F))}const Oe=I=>i.go(I);let ls;const cs=new Set,Ci={currentRoute:c,listening:!0,addRoute:g,removeRoute:T,clearRoutes:e.clearRoutes,hasRoute:z,getRoutes:P,resolve:L,options:t,push:N,replace:Y,go:Oe,back:()=>Oe(-1),forward:()=>Oe(1),beforeEach:o.add,beforeResolve:l.add,afterEach:r.add,onError:ye.add,isReady:gt,install(I){const F=this;I.component("RouterLink",Ih),I.component("RouterView",Ah),I.config.globalProperties.$router=F,Object.defineProperty(I.config.globalProperties,"$route",{enumerable:!0,get:()=>_s(c)}),ms&&!ls&&c.value===Ot&&(ls=!0,N(i.location).catch(de=>{}));const x={};for(const de in Ot)Object.defineProperty(x,de,{get:()=>c.value[de],enumerable:!0});I.provide(vn,F),I.provide(Zl,jr(x)),I.provide(to,c);const B=I.unmount;cs.add(I),I.unmount=function(){cs.delete(I),cs.size<1&&(u=Ot,oe&&oe(),oe=null,c.value=Ot,ls=!1,ue=!1),B()}}};function We(I){return I.reduce((F,x)=>F.then(()=>K(x)),Promise.resolve())}return Ci}function Eh(t,e){const s=[],n=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let l=0;l<o;l++){const r=e.matched[l];r&&(t.matched.find(u=>Ms(u,r))?n.push(r):s.push(r));const c=t.matched[l];c&&(e.matched.find(u=>Ms(u,c))||i.push(c))}return[s,n,i]}function Ph(){return ft(vn)}const Mh="/pwa/assets/logo-B2PnTJ2X.png",Rh="/pwa/assets/user-icon-vTumSY3j.png",Dh=()=>{};var Wa={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=function(t){const e=[];let s=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[s++]=i:i<2048?(e[s++]=i>>6|192,e[s++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[s++]=i>>18|240,e[s++]=i>>12&63|128,e[s++]=i>>6&63|128,e[s++]=i&63|128):(e[s++]=i>>12|224,e[s++]=i>>6&63|128,e[s++]=i&63|128)}return e},xh=function(t){const e=[];let s=0,n=0;for(;s<t.length;){const i=t[s++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[s++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[s++],l=t[s++],r=t[s++],c=((i&7)<<18|(o&63)<<12|(l&63)<<6|r&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const o=t[s++],l=t[s++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},Xl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,r=l?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=o>>2,h=(o&3)<<4|r>>4;let f=(r&15)<<2|u>>6,g=u&63;c||(g=64,l||(f=64)),n.push(s[d],s[h],s[f],s[g])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Yl(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xh(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const o=s[t.charAt(i++)],r=i<t.length?s[t.charAt(i)]:0;++i;const u=i<t.length?s[t.charAt(i)]:64;++i;const h=i<t.length?s[t.charAt(i)]:64;if(++i,o==null||r==null||u==null||h==null)throw new Oh;const f=o<<2|r>>4;if(n.push(f),u!==64){const g=r<<4&240|u>>2;if(n.push(g),h!==64){const T=u<<6&192|h;n.push(T)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Oh extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nh=function(t){const e=Yl(t);return Xl.encodeByteArray(e,!0)},Ql=function(t){return Nh(t).replace(/\./g,"")},ec=function(t){try{return Xl.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=()=>Lh().__FIREBASE_DEFAULTS__,Fh=()=>{if(typeof process>"u"||typeof Wa>"u")return;const t=Wa.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Uh=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ec(t[1]);return e&&JSON.parse(e)},Po=()=>{try{return Dh()||$h()||Fh()||Uh()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zh=t=>{var e,s;return(s=(e=Po())===null||e===void 0?void 0:e.emulatorHosts)===null||s===void 0?void 0:s[t]},tc=()=>{var t;return(t=Po())===null||t===void 0?void 0:t.config},sc=t=>{var e;return(e=Po())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,n)=>{s?this.reject(s):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(t){return t.endsWith(".cloudworkstations.dev")}async function Vh(t){return(await fetch(t,{credentials:"include"})).ok}const Xs={};function Hh(){const t={prod:[],emulator:[]};for(const e of Object.keys(Xs))Xs[e]?t.emulator.push(e):t.prod.push(e);return t}function jh(t){let e=document.getElementById(t),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),s=!0),{created:s,element:e}}let Ga=!1;function Wh(t,e){if(typeof window>"u"||typeof document>"u"||!Mo(window.location.host)||Xs[t]===e||Xs[t]||Ga)return;Xs[t]=e;function s(f){return`__firebase__banner__${f}`}const n="__firebase__banner",o=Hh().prod.length>0;function l(){const f=document.getElementById(n);f&&f.remove()}function r(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,g){f.setAttribute("width","24"),f.setAttribute("id",g),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Ga=!0,l()},f}function d(f,g){f.setAttribute("id",g),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=jh(n),g=s("text"),T=document.getElementById(g)||document.createElement("span"),P=s("learnmore"),z=document.getElementById(P)||document.createElement("a"),L=s("preprendIcon"),D=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const $=f.element;r($),d(z,P);const N=u();c(D,L),$.append(D,T,z,N),document.body.appendChild($)}o?(T.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(De())}function qh(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Kh(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Jh(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Zh(){const t=De();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Yh(){try{return typeof indexedDB=="object"}catch{return!1}}function Xh(){return new Promise((t,e)=>{try{let s=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),s||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{s=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(s){e(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh="FirebaseError";class Zt extends Error{constructor(e,s,n){super(s),this.code=e,this.customData=n,this.name=Qh,Object.setPrototypeOf(this,Zt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bi.prototype.create)}}class bi{constructor(e,s,n){this.service=e,this.serviceName=s,this.errors=n}create(e,...s){const n=s[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?ep(o,n):"Error",r=`${this.serviceName}: ${l} (${i}).`;return new Zt(i,r,n)}}function ep(t,e){return t.replace(tp,(s,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const tp=/\{\$([^}]+)}/g;function sp(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ds(t,e){if(t===e)return!0;const s=Object.keys(t),n=Object.keys(e);for(const i of s){if(!n.includes(i))return!1;const o=t[i],l=e[i];if(qa(o)&&qa(l)){if(!Ds(o,l))return!1}else if(o!==l)return!1}for(const i of n)if(!s.includes(i))return!1;return!0}function qa(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(t){const e=[];for(const[s,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function ip(t,e){const s=new np(t,e);return s.subscribe.bind(s)}class np{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,n){let i;if(e===void 0&&s===void 0&&n===void 0)throw new Error("Missing Observer.");op(e,["next","error","complete"])?i=e:i={next:e,error:s,complete:n},i.next===void 0&&(i.next=On),i.error===void 0&&(i.error=On),i.complete===void 0&&(i.complete=On);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function op(t,e){if(typeof t!="object"||t===null)return!1;for(const s of e)if(s in t&&typeof t[s]=="function")return!0;return!1}function On(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(t){return t&&t._delegate?t._delegate:t}class xs{constructor(e,s,n){this.name=e,this.instanceFactory=s,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const n=new Bh;if(this.instancesDeferred.set(s,n),this.isInitialized(s)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:s});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){var s;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(s=e==null?void 0:e.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lp(e))try{this.getOrInitializeService({instanceIdentifier:ts})}catch{}for(const[s,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(s);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ts){return this.instances.has(e)}getOptions(e=ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:s});for(const[o,l]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(o);n===r&&l.resolve(i)}return i}onInit(e,s){var n;const i=this.normalizeInstanceIdentifier(s),o=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,s){const n=this.onInitCallbacks.get(s);if(n)for(const i of n)try{i(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:rp(e),options:s}),this.instances.set(e,n),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ts){return this.component?this.component.multipleInstances?e:ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rp(t){return t===ts?void 0:t}function lp(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new ap(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const up={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},dp=fe.INFO,fp={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},hp=(t,e,...s)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=fp[e];if(i)console[i](`[${n}]  ${t.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ic{constructor(e){this.name=e,this._logLevel=dp,this._logHandler=hp,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?up[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const pp=(t,e)=>e.some(s=>t instanceof s);let Ka,Ja;function mp(){return Ka||(Ka=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gp(){return Ja||(Ja=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nc=new WeakMap,so=new WeakMap,oc=new WeakMap,Nn=new WeakMap,Ro=new WeakMap;function vp(t){const e=new Promise((s,n)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{s(qt(t.result)),i()},l=()=>{n(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(s=>{s instanceof IDBCursor&&nc.set(s,t)}).catch(()=>{}),Ro.set(e,t),e}function bp(t){if(so.has(t))return;const e=new Promise((s,n)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{s(),i()},l=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});so.set(t,e)}let io={get(t,e,s){if(t instanceof IDBTransaction){if(e==="done")return so.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oc.get(t);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return qt(t[e])},set(t,e,s){return t[e]=s,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yp(t){io=t(io)}function _p(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const n=t.call(Ln(this),e,...s);return oc.set(n,e.sort?e.sort():[e]),qt(n)}:gp().includes(t)?function(...e){return t.apply(Ln(this),e),qt(nc.get(this))}:function(...e){return qt(t.apply(Ln(this),e))}}function wp(t){return typeof t=="function"?_p(t):(t instanceof IDBTransaction&&bp(t),pp(t,mp())?new Proxy(t,io):t)}function qt(t){if(t instanceof IDBRequest)return vp(t);if(Nn.has(t))return Nn.get(t);const e=wp(t);return e!==t&&(Nn.set(t,e),Ro.set(e,t)),e}const Ln=t=>Ro.get(t);function Ip(t,e,{blocked:s,upgrade:n,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),r=qt(l);return n&&l.addEventListener("upgradeneeded",c=>{n(qt(l.result),c.oldVersion,c.newVersion,qt(l.transaction),c)}),s&&l.addEventListener("blocked",c=>s(c.oldVersion,c.newVersion,c)),r.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),r}const Sp=["get","getKey","getAll","getAllKeys","count"],Cp=["put","add","delete","clear"],$n=new Map;function Za(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($n.get(e))return $n.get(e);const s=e.replace(/FromIndex$/,""),n=e!==s,i=Cp.includes(s);if(!(s in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Sp.includes(s)))return;const o=async function(l,...r){const c=this.transaction(l,i?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(r.shift())),(await Promise.all([u[s](...r),i&&c.done]))[0]};return $n.set(e,o),o}yp(t=>({...t,get:(e,s,n)=>Za(e,s)||t.get(e,s,n),has:(e,s)=>!!Za(e,s)||t.has(e,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(Ap(s)){const n=s.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(s=>s).join(" ")}}function Ap(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const no="@firebase/app",Ya="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pt=new ic("@firebase/app"),kp="@firebase/app-compat",Ep="@firebase/analytics-compat",Pp="@firebase/analytics",Mp="@firebase/app-check-compat",Rp="@firebase/app-check",Dp="@firebase/auth",xp="@firebase/auth-compat",Op="@firebase/database",Np="@firebase/data-connect",Lp="@firebase/database-compat",$p="@firebase/functions",Fp="@firebase/functions-compat",Up="@firebase/installations",zp="@firebase/installations-compat",Bp="@firebase/messaging",Vp="@firebase/messaging-compat",Hp="@firebase/performance",jp="@firebase/performance-compat",Wp="@firebase/remote-config",Gp="@firebase/remote-config-compat",qp="@firebase/storage",Kp="@firebase/storage-compat",Jp="@firebase/firestore",Zp="@firebase/ai",Yp="@firebase/firestore-compat",Xp="firebase",Qp="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo="[DEFAULT]",em={[no]:"fire-core",[kp]:"fire-core-compat",[Pp]:"fire-analytics",[Ep]:"fire-analytics-compat",[Rp]:"fire-app-check",[Mp]:"fire-app-check-compat",[Dp]:"fire-auth",[xp]:"fire-auth-compat",[Op]:"fire-rtdb",[Np]:"fire-data-connect",[Lp]:"fire-rtdb-compat",[$p]:"fire-fn",[Fp]:"fire-fn-compat",[Up]:"fire-iid",[zp]:"fire-iid-compat",[Bp]:"fire-fcm",[Vp]:"fire-fcm-compat",[Hp]:"fire-perf",[jp]:"fire-perf-compat",[Wp]:"fire-rc",[Gp]:"fire-rc-compat",[qp]:"fire-gcs",[Kp]:"fire-gcs-compat",[Jp]:"fire-fst",[Yp]:"fire-fst-compat",[Zp]:"fire-vertex","fire-js":"fire-js",[Xp]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new Map,tm=new Map,ao=new Map;function Xa(t,e){try{t.container.addComponent(e)}catch(s){Pt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,s)}}function ui(t){const e=t.name;if(ao.has(e))return Pt.debug(`There were multiple attempts to register component ${e}.`),!1;ao.set(e,t);for(const s of ci.values())Xa(s,t);for(const s of tm.values())Xa(s,t);return!0}function ac(t,e){const s=t.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),t.container.getProvider(e)}function ut(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kt=new bi("app","Firebase",sm);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,s,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kt.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=Qp;function rc(t,e={}){let s=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:oo,automaticDataCollectionEnabled:!0},e),i=n.name;if(typeof i!="string"||!i)throw Kt.create("bad-app-name",{appName:String(i)});if(s||(s=tc()),!s)throw Kt.create("no-options");const o=ci.get(i);if(o){if(Ds(s,o.options)&&Ds(n,o.config))return o;throw Kt.create("duplicate-app",{appName:i})}const l=new cp(i);for(const c of ao.values())l.addComponent(c);const r=new im(s,n,l);return ci.set(i,r),r}function nm(t=oo){const e=ci.get(t);if(!e&&t===oo&&tc())return rc();if(!e)throw Kt.create("no-app",{appName:t});return e}function Qa(){return Array.from(ci.values())}function Ss(t,e,s){var n;let i=(n=em[t])!==null&&n!==void 0?n:t;s&&(i+=`-${s}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const r=[`Unable to register library "${i}" with version "${e}":`];o&&r.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&r.push("and"),l&&r.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pt.warn(r.join(" "));return}ui(new xs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="firebase-heartbeat-database",am=1,di="firebase-heartbeat-store";let Fn=null;function lc(){return Fn||(Fn=Ip(om,am,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(di)}catch(s){console.warn(s)}}}}).catch(t=>{throw Kt.create("idb-open",{originalErrorMessage:t.message})})),Fn}async function rm(t){try{const s=(await lc()).transaction(di),n=await s.objectStore(di).get(cc(t));return await s.done,n}catch(e){if(e instanceof Zt)Pt.warn(e.message);else{const s=Kt.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pt.warn(s.message)}}}async function er(t,e){try{const n=(await lc()).transaction(di,"readwrite");await n.objectStore(di).put(e,cc(t)),await n.done}catch(s){if(s instanceof Zt)Pt.warn(s.message);else{const n=Kt.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});Pt.warn(n.message)}}}function cc(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=1024,cm=30;class um{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new fm(s),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,s;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=tr();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)===null||s===void 0?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>cm){const l=hm(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Pt.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=tr(),{heartbeatsToSend:n,unsentEntries:i}=dm(this._heartbeatsCache.heartbeats),o=Ql(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=s,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(s){return Pt.warn(s),""}}}function tr(){return new Date().toISOString().substring(0,10)}function dm(t,e=lm){const s=[];let n=t.slice();for(const i of t){const o=s.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),sr(s)>e){o.dates.pop();break}}else if(s.push({agent:i.agent,dates:[i.date]}),sr(s)>e){s.pop();break}n=n.slice(1)}return{heartbeatsToSend:s,unsentEntries:n}}class fm{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yh()?Xh().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await rm(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var s;if(await this._canUseIndexedDBPromise){const i=await this.read();return er(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var s;if(await this._canUseIndexedDBPromise){const i=await this.read();return er(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function sr(t){return Ql(JSON.stringify({version:2,heartbeats:t})).length}function hm(t){if(t.length===0)return-1;let e=0,s=t[0].date;for(let n=1;n<t.length;n++)t[n].date<s&&(s=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(t){ui(new xs("platform-logger",e=>new Tp(e),"PRIVATE")),ui(new xs("heartbeat",e=>new um(e),"PRIVATE")),Ss(no,Ya,t),Ss(no,Ya,"esm2017"),Ss("fire-js","")}pm("");var mm="firebase",gm="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ss(mm,gm,"app");function Do(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(s[n[i]]=t[n[i]]);return s}function uc(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vm=uc,dc=new bi("auth","Firebase",uc());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new ic("@firebase/auth");function bm(t,...e){Xi.logLevel<=fe.WARN&&Xi.warn(`Auth (${_i}): ${t}`,...e)}function $i(t,...e){Xi.logLevel<=fe.ERROR&&Xi.error(`Auth (${_i}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t,...e){throw Oo(t,...e)}function Qe(t,...e){return Oo(t,...e)}function xo(t,e,s){const n=Object.assign(Object.assign({},vm()),{[e]:s});return new bi("auth","Firebase",n).create(e,{appName:t.name})}function ns(t){return xo(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ym(t,e,s){const n=s;if(!(e instanceof n))throw n.name!==e.constructor.name&&mt(t,"argument-error"),xo(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Oo(t,...e){if(typeof t!="string"){const s=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(s,...n)}return dc.create(t,...e)}function q(t,e,...s){if(!t)throw Oo(e,...s)}function St(t){const e="INTERNAL ASSERTION FAILED: "+t;throw $i(e),new Error(e)}function Mt(t,e){t||St(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _m(){return ir()==="http:"||ir()==="https:"}function ir(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_m()||Kh()||"connection"in navigator)?navigator.onLine:!0}function Im(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,s){this.shortDelay=e,this.longDelay=s,Mt(s>e,"Short delay should be less than long delay!"),this.isMobile=Gh()||Jh()}get(){return wm()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(t,e){Mt(t.emulator,"Emulator should always be set here");const{url:s}=t.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{static initialize(e,s,n){this.fetchImpl=e,s&&(this.headersImpl=s),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;St("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;St("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;St("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Tm=new wi(3e4,6e4);function Lo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function $s(t,e,s,n,i={}){return hc(t,i,async()=>{let o={},l={};n&&(e==="GET"?l=n:o={body:JSON.stringify(n)});const r=yi(Object.assign({key:t.config.apiKey},l)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},o);return qh()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Mo(t.emulatorConfig.host)&&(u.credentials="include"),fc.fetch()(await pc(t,t.config.apiHost,s,r),u)})}async function hc(t,e,s){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},Sm),e);try{const i=new km(t),o=await Promise.race([s(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Mi(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const r=o.ok?l.errorMessage:l.error.message,[c,u]=r.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mi(t,"credential-already-in-use",l);if(c==="EMAIL_EXISTS")throw Mi(t,"email-already-in-use",l);if(c==="USER_DISABLED")throw Mi(t,"user-disabled",l);const d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw xo(t,d,u);mt(t,d)}}catch(i){if(i instanceof Zt)throw i;mt(t,"network-request-failed",{message:String(i)})}}async function Am(t,e,s,n,i={}){const o=await $s(t,e,s,n,i);return"mfaPendingCredential"in o&&mt(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function pc(t,e,s,n){const i=`${e}${s}?${n}`,o=t,l=o.config.emulator?No(t.config,i):`${t.config.apiScheme}://${i}`;return Cm.includes(s)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}class km{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,n)=>{this.timer=setTimeout(()=>n(Qe(this.auth,"network-request-failed")),Tm.get())})}}function Mi(t,e,s){const n={appName:t.name};s.email&&(n.email=s.email),s.phoneNumber&&(n.phoneNumber=s.phoneNumber);const i=Qe(t,e,n);return i.customData._tokenResponse=s,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Em(t,e){return $s(t,"POST","/v1/accounts:delete",e)}async function Qi(t,e){return $s(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Pm(t,e=!1){const s=Ls(t),n=await s.getIdToken(e),i=$o(n);q(i&&i.exp&&i.auth_time&&i.iat,s.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:n,authTime:Qs(Un(i.auth_time)),issuedAtTime:Qs(Un(i.iat)),expirationTime:Qs(Un(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Un(t){return Number(t)*1e3}function $o(t){const[e,s,n]=t.split(".");if(e===void 0||s===void 0||n===void 0)return $i("JWT malformed, contained fewer than 3 sections"),null;try{const i=ec(s);return i?JSON.parse(i):($i("Failed to decode base64 JWT payload"),null)}catch(i){return $i("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function nr(t){const e=$o(t);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fi(t,e,s=!1){if(s)return e;try{return await e}catch(n){throw n instanceof Zt&&Mm(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function Mm({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var s;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((s=this.user.stsTokenManager.expirationTime)!==null&&s!==void 0?s:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qs(this.lastLoginAt),this.creationTime=Qs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function en(t){var e;const s=t.auth,n=await t.getIdToken(),i=await fi(t,Qi(s,{idToken:n}));q(i==null?void 0:i.users.length,s,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?mc(o.providerUserInfo):[],r=xm(t.providerData,l),c=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(r!=null&&r.length),d=c?u:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:r,metadata:new lo(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function Dm(t){const e=Ls(t);await en(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xm(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function mc(t){return t.map(e=>{var{providerId:s}=e,n=Do(e,["providerId"]);return{providerId:s,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Om(t,e){const s=await hc(t,{},async()=>{const n=yi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,l=await pc(t,i,"/v1/token",`key=${o}`),r=await t._getAdditionalHeaders();return r["Content-Type"]="application/x-www-form-urlencoded",fc.fetch()(l,{method:"POST",headers:r,body:n})});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function Nm(t,e){return $s(t,"POST","/v2/accounts:revokeToken",Lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");const s="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nr(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}updateFromIdToken(e){q(e.length!==0,"internal-error");const s=nr(e);this.updateTokensAndExpiration(e,null,s)}async getToken(e,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:n,refreshToken:i,expiresIn:o}=await Om(e,s);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,s,n){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,s){const{refreshToken:n,accessToken:i,expirationTime:o}=s,l=new Cs;return n&&(q(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),i&&(q(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(q(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cs,this.toJSON())}_performRefresh(){return St("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t,e){q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ye{constructor(e){var{uid:s,auth:n,stsTokenManager:i}=e,o=Do(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=s,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new lo(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const s=await fi(this,this.stsTokenManager.getToken(this.auth,e));return q(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return Pm(this,e)}reload(){return Dm(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>Object.assign({},s)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const s=new Ye(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return s.metadata._copy(this.metadata),s}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),s&&await en(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ut(this.auth.app))return Promise.reject(ns(this.auth));const e=await this.getIdToken();return await fi(this,Em(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){var n,i,o,l,r,c,u,d;const h=(n=s.displayName)!==null&&n!==void 0?n:void 0,f=(i=s.email)!==null&&i!==void 0?i:void 0,g=(o=s.phoneNumber)!==null&&o!==void 0?o:void 0,T=(l=s.photoURL)!==null&&l!==void 0?l:void 0,P=(r=s.tenantId)!==null&&r!==void 0?r:void 0,z=(c=s._redirectEventId)!==null&&c!==void 0?c:void 0,L=(u=s.createdAt)!==null&&u!==void 0?u:void 0,D=(d=s.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:$,emailVerified:N,isAnonymous:Y,providerData:Q,stsTokenManager:ee}=s;q($&&ee,e,"internal-error");const Se=Cs.fromJSON(this.name,ee);q(typeof $=="string",e,"internal-error"),Nt(h,e.name),Nt(f,e.name),q(typeof N=="boolean",e,"internal-error"),q(typeof Y=="boolean",e,"internal-error"),Nt(g,e.name),Nt(T,e.name),Nt(P,e.name),Nt(z,e.name),Nt(L,e.name),Nt(D,e.name);const K=new Ye({uid:$,auth:e,email:f,emailVerified:N,displayName:h,isAnonymous:Y,photoURL:T,phoneNumber:g,tenantId:P,stsTokenManager:Se,createdAt:L,lastLoginAt:D});return Q&&Array.isArray(Q)&&(K.providerData=Q.map(te=>Object.assign({},te))),z&&(K._redirectEventId=z),K}static async _fromIdTokenResponse(e,s,n=!1){const i=new Cs;i.updateFromServerResponse(s);const o=new Ye({uid:s.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await en(o),o}static async _fromGetAccountInfoResponse(e,s,n){const i=s.users[0];q(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?mc(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),r=new Cs;r.updateFromIdToken(n);const c=new Ye({uid:i.localId,auth:e,stsTokenManager:r,isAnonymous:l}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new lo(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new Map;function Ct(t){Mt(t instanceof Function,"Expected a class definition");let e=or.get(t);return e?(Mt(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,or.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}gc.type="NONE";const ar=gc;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(t,e,s){return`firebase:${t}:${e}:${s}`}class Ts{constructor(e,s,n){this.persistence=e,this.auth=s,this.userKey=n;const{config:i,name:o}=this.auth;this.fullUserKey=Fi(this.userKey,i.apiKey,o),this.fullPersistenceKey=Fi("persistence",i.apiKey,o),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const s=await Qi(this.auth,{idToken:e}).catch(()=>{});return s?Ye._fromGetAccountInfoResponse(this.auth,s,e):null}return Ye._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,n="authUser"){if(!s.length)return new Ts(Ct(ar),e,n);const i=(await Promise.all(s.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Ct(ar);const l=Fi(n,e.config.apiKey,e.name);let r=null;for(const u of s)try{const d=await u._get(l);if(d){let h;if(typeof d=="string"){const f=await Qi(e,{idToken:d}).catch(()=>{});if(!f)break;h=await Ye._fromGetAccountInfoResponse(e,f,d)}else h=Ye._fromJSON(e,d);u!==o&&(r=h),o=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Ts(o,e,n):(o=c[0],r&&await o._set(l,r.toJSON()),await Promise.all(s.map(async u=>{if(u!==o)try{await u._remove(l)}catch{}})),new Ts(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_c(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vc(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ic(e))return"Blackberry";if(Sc(e))return"Webos";if(bc(e))return"Safari";if((e.includes("chrome/")||yc(e))&&!e.includes("edge/"))return"Chrome";if(wc(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(s);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function vc(t=De()){return/firefox\//i.test(t)}function bc(t=De()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yc(t=De()){return/crios\//i.test(t)}function _c(t=De()){return/iemobile/i.test(t)}function wc(t=De()){return/android/i.test(t)}function Ic(t=De()){return/blackberry/i.test(t)}function Sc(t=De()){return/webos/i.test(t)}function Fo(t=De()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Lm(t=De()){var e;return Fo(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $m(){return Zh()&&document.documentMode===10}function Cc(t=De()){return Fo(t)||wc(t)||Sc(t)||Ic(t)||/windows phone/i.test(t)||_c(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t,e=[]){let s;switch(t){case"Browser":s=rr(De());break;case"Worker":s=`${rr(De())}-${t}`;break;default:s=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${_i}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const n=o=>new Promise((l,r)=>{try{const c=e(o);l(c)}catch(c){r(c)}});n.onAbort=s,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const s=[];try{for(const n of this.queue)await n(e),n.onAbort&&s.push(n.onAbort)}catch(n){s.reverse();for(const i of s)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Um(t,e={}){return $s(t,"GET","/v2/passwordPolicy",Lo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm=6;class Bm{constructor(e){var s,n,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(s=l.minPasswordLength)!==null&&s!==void 0?s:zm,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var s,n,i,o,l,r;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(s=c.meetsMinPasswordLength)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNumericCharacter)!==null&&l!==void 0?l:!0),c.isValid&&(c.isValid=(r=c.containsNonAlphanumericCharacter)!==null&&r!==void 0?r:!0),c}validatePasswordLengthOptions(e,s){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(s.meetsMinPasswordLength=e.length>=n),i&&(s.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(s,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,s,n,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,s,n,i){this.app=e,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lr(this),this.idTokenSubscription=new lr(this),this.beforeStateQueue=new Fm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dc,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=Ct(s)),this._initializationPromise=this.queue(async()=>{var n,i,o;if(!this._deleted&&(this.persistenceManager=await Ts.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const s=await Qi(this,{idToken:e}),n=await Ye._fromGetAccountInfoResponse(this,s,e);await this.directlySetCurrentUser(n)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(ut(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(r=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(r,r))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId,r=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!l||l===r)&&(c!=null&&c.user)&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){try{await en(e)}catch(s){if((s==null?void 0:s.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Im()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ut(this.app))return Promise.reject(ns(this));const s=e?Ls(e):null;return s&&q(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ut(this.app)?Promise.reject(ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ut(this.app)?Promise.reject(ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ct(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Um(this),s=new Bm(e);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bi("auth","Firebase",e())}onAuthStateChanged(e,s,n){return this.registerStateListener(this.authStateSubscription,e,s,n)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,n){return this.registerStateListener(this.idTokenSubscription,e,s,n)}authStateReady(){return new Promise((e,s)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},s)}})}async revokeAccessToken(e){if(this.currentUser){const s=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:s};this.tenantId!=null&&(n.tenantId=this.tenantId),await Nm(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,s){const n=await this.getOrInitRedirectPersistenceManager(s);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&Ct(e)||this._popupRedirectResolver;q(s,this,"argument-error"),this.redirectPersistenceManager=await Ts.create(this,[Ct(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var s,n;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)===null||s===void 0?void 0:s._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(s=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&s!==void 0?s:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,n,i){if(this._deleted)return()=>{};const o=typeof s=="function"?s:s.next.bind(s);let l=!1;const r=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(r,this,"internal-error"),r.then(()=>{l||o(this.currentUser)}),typeof s=="function"){const c=e.addObserver(s,n,i);return()=>{l=!0,c()}}else{const c=e.addObserver(s);return()=>{l=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Tc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const s={"X-Client-Version":this.clientVersion};this.app.options.appId&&(s["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(s["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(s["X-Firebase-AppCheck"]=i),s}async _getAppCheckToken(){var e;if(ut(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const s=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return s!=null&&s.error&&bm(`Error while retrieving App Check token: ${s.error}`),s==null?void 0:s.token}}function bn(t){return Ls(t)}class lr{constructor(e){this.auth=e,this.observer=null,this.addObserver=ip(s=>this.observer=s)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hm(t){Uo=t}function jm(t){return Uo.loadJS(t)}function Wm(){return Uo.gapiScript}function Gm(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(t,e){const s=ac(t,"auth");if(s.isInitialized()){const i=s.getImmediate(),o=s.getOptions();if(Ds(o,e??{}))return i;mt(i,"already-initialized")}return s.initialize({options:e})}function Km(t,e){const s=(e==null?void 0:e.persistence)||[],n=(Array.isArray(s)?s:[s]).map(Ct);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Jm(t,e,s){const n=bn(t);q(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,o=Ac(e),{host:l,port:r}=Zm(e),c=r===null?"":`:${r}`,u={url:`${o}//${l}${c}/`},d=Object.freeze({host:l,port:r,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){q(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),q(Ds(u,n.config.emulator)&&Ds(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,Mo(l)?(Vh(`${o}//${l}${c}`),Wh("Auth",!0)):Ym()}function Ac(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Zm(t){const e=Ac(t),s=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!s)return{host:"",port:null};const n=s[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const o=i[1];return{host:o,port:cr(n.substr(o.length+1))}}else{const[o,l]=n.split(":");return{host:o,port:cr(l)}}}function cr(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Ym(){function t(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return St("not implemented")}_getIdTokenResponse(e){return St("not implemented")}_linkToIdToken(e,s){return St("not implemented")}_getReauthenticationResolver(e){return St("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function As(t,e){return Am(t,"POST","/v1/accounts:signInWithIdp",Lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="http://localhost";class as extends kc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new as(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):mt("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=s,o=Do(s,["providerId","signInMethod"]);if(!n||!i)return null;const l=new as(n,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const s=this.buildRequest();return As(e,s)}_linkToIdToken(e,s){const n=this.buildRequest();return n.idToken=s,As(e,n)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,As(e,s)}buildRequest(){const e={requestUri:Xm,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=yi(s)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends zo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt extends Ii{constructor(){super("facebook.com")}static credential(e){return as._fromParams({providerId:Vt.PROVIDER_ID,signInMethod:Vt.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vt.credentialFromTaggedObject(e)}static credentialFromError(e){return Vt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vt.credential(e.oauthAccessToken)}catch{return null}}}Vt.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vt.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It extends Ii{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return as._fromParams({providerId:It.PROVIDER_ID,signInMethod:It.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return It.credentialFromTaggedObject(e)}static credentialFromError(e){return It.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:n}=e;if(!s&&!n)return null;try{return It.credential(s,n)}catch{return null}}}It.GOOGLE_SIGN_IN_METHOD="google.com";It.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht extends Ii{constructor(){super("github.com")}static credential(e){return as._fromParams({providerId:Ht.PROVIDER_ID,signInMethod:Ht.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ht.credentialFromTaggedObject(e)}static credentialFromError(e){return Ht.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ht.credential(e.oauthAccessToken)}catch{return null}}}Ht.GITHUB_SIGN_IN_METHOD="github.com";Ht.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt extends Ii{constructor(){super("twitter.com")}static credential(e,s){return as._fromParams({providerId:jt.PROVIDER_ID,signInMethod:jt.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return jt.credentialFromTaggedObject(e)}static credentialFromError(e){return jt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:n}=e;if(!s||!n)return null;try{return jt.credential(s,n)}catch{return null}}}jt.TWITTER_SIGN_IN_METHOD="twitter.com";jt.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,n,i=!1){const o=await Ye._fromIdTokenResponse(e,n,i),l=ur(n);return new Os({user:o,providerId:l,_tokenResponse:n,operationType:s})}static async _forOperation(e,s,n){await e._updateTokensIfNecessary(n,!0);const i=ur(n);return new Os({user:e,providerId:i,_tokenResponse:n,operationType:s})}}function ur(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn extends Zt{constructor(e,s,n,i){var o;super(s.code,s.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,tn.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:s.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,s,n,i){return new tn(e,s,n,i)}}function Ec(t,e,s,n){return(e==="reauthenticate"?s._getReauthenticationResolver(t):s._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?tn._fromErrorAndOperation(t,o,e,n):o})}async function Qm(t,e,s=!1){const n=await fi(t,e._linkToIdToken(t.auth,await t.getIdToken()),s);return Os._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eg(t,e,s=!1){const{auth:n}=t;if(ut(n.app))return Promise.reject(ns(n));const i="reauthenticate";try{const o=await fi(t,Ec(n,i,e,t),s);q(o.idToken,n,"internal-error");const l=$o(o.idToken);q(l,n,"internal-error");const{sub:r}=l;return q(t.uid===r,n,"user-mismatch"),Os._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&mt(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tg(t,e,s=!1){if(ut(t.app))return Promise.reject(ns(t));const n="signIn",i=await Ec(t,n,e),o=await Os._fromIdTokenResponse(t,n,i);return s||await t._updateCurrentUser(o.user),o}function sg(t,e,s,n){return Ls(t).onIdTokenChanged(e,s,n)}function ig(t,e,s){return Ls(t).beforeAuthStateChanged(e,s)}const sn="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(sn,"1"),this.storage.removeItem(sn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng=1e3,og=10;class Mc extends Pc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Cc(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const n=this.storage.getItem(s),i=this.localCache[s];n!==i&&e(s,i,n)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((l,r,c)=>{this.notifyListeners(l,c)});return}const n=e.key;s?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(n);!s&&this.localCache[n]===l||this.notifyListeners(n,l)},o=this.storage.getItem(n);$m()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,og):i()}notifyListeners(e,s){this.localCache[e]=s;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:n}),!0)})},ng)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}Mc.type="LOCAL";const ag=Mc;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends Pc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}Rc.type="SESSION";const Dc=Rc;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(i=>i.isListeningto(e));if(s)return s;const n=new yn(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:n,eventType:i,data:o}=s.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;s.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const r=Array.from(l).map(async u=>u(s.origin,o)),c=await rg(r);s.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yn.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(t="",e=10){let s="";for(let n=0;n<e;n++)s+=Math.floor(Math.random()*10);return t+s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((r,c)=>{const u=Bo("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},n);l={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),r(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:u,data:s},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(){return window}function cg(t){ht().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(){return typeof ht().WorkerGlobalScope<"u"&&typeof ht().importScripts=="function"}async function ug(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dg(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function fg(){return xc()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc="firebaseLocalStorageDb",hg=1,nn="firebaseLocalStorage",Nc="fbase_key";class Si{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function _n(t,e){return t.transaction([nn],e?"readwrite":"readonly").objectStore(nn)}function pg(){const t=indexedDB.deleteDatabase(Oc);return new Si(t).toPromise()}function co(){const t=indexedDB.open(Oc,hg);return new Promise((e,s)=>{t.addEventListener("error",()=>{s(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(nn,{keyPath:Nc})}catch(i){s(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(nn)?e(n):(n.close(),await pg(),e(await co()))})})}async function dr(t,e,s){const n=_n(t,!0).put({[Nc]:e,value:s});return new Si(n).toPromise()}async function mg(t,e){const s=_n(t,!1).get(e),n=await new Si(s).toPromise();return n===void 0?null:n.value}function fr(t,e){const s=_n(t,!0).delete(e);return new Si(s).toPromise()}const gg=800,vg=3;class Lc{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await co(),this.db)}async _withRetries(e){let s=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(s++>vg)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xc()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yn._getInstance(fg()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){var e,s;if(this.activeServiceWorker=await ug(),!this.activeServiceWorker)return;this.sender=new lg(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((s=n[0])===null||s===void 0)&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dg()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await co();return await dr(e,sn,"1"),await fr(e,sn),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(n=>dr(n,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(n=>mg(n,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>fr(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=_n(i,!1).getAll();return new Si(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),s.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),s.push(i));return s}notifyListeners(e,s){this.localCache[e]=s;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gg)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Lc.type="LOCAL";const bg=Lc;new wi(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(t,e){return e?Ct(e):(q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo extends kc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return As(e,this._buildIdpRequest())}_linkToIdToken(e,s){return As(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return As(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function yg(t){return tg(t.auth,new Vo(t),t.bypassAuthState)}function _g(t){const{auth:e,user:s}=t;return q(s,e,"internal-error"),eg(s,new Vo(t),t.bypassAuthState)}async function wg(t){const{auth:e,user:s}=t;return q(s,e,"internal-error"),Qm(s,new Vo(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,s,n,i,o=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:n,postBody:i,tenantId:o,error:l,type:r}=e;if(l){this.reject(l);return}const c={auth:this.auth,requestUri:s,sessionId:n,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(r)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yg;case"linkViaPopup":case"linkViaRedirect":return wg;case"reauthViaPopup":case"reauthViaRedirect":return _g;default:mt(this.auth,"internal-error")}}resolve(e){Mt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig=new wi(2e3,1e4);async function Sg(t,e,s){if(ut(t.app))return Promise.reject(Qe(t,"operation-not-supported-in-this-environment"));const n=bn(t);ym(t,e,zo);const i=$c(n,s);return new ss(n,"signInViaPopup",e,i).executeNotNull()}class ss extends Fc{constructor(e,s,n,i,o){super(e,s,i,o),this.provider=n,this.authWindow=null,this.pollId=null,ss.currentPopupAction&&ss.currentPopupAction.cancel(),ss.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return q(e,this.auth,"internal-error"),e}async onExecution(){Mt(this.filter.length===1,"Popup operations only handle one event");const e=Bo();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(Qe(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ss.currentPopupAction=null}pollUserCancellation(){const e=()=>{var s,n;if(!((n=(s=this.authWindow)===null||s===void 0?void 0:s.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qe(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ig.get())};e()}}ss.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="pendingRedirect",Ui=new Map;class Tg extends Fc{constructor(e,s,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,n),this.eventId=null}async execute(){let e=Ui.get(this.auth._key());if(!e){try{const n=await Ag(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(s){e=()=>Promise.reject(s)}Ui.set(this.auth._key(),e)}return this.bypassAuthState||Ui.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ag(t,e){const s=Pg(e),n=Eg(t);if(!await n._isAvailable())return!1;const i=await n._get(s)==="true";return await n._remove(s),i}function kg(t,e){Ui.set(t._key(),e)}function Eg(t){return Ct(t._redirectPersistence)}function Pg(t){return Fi(Cg,t.config.apiKey,t.name)}async function Mg(t,e,s=!1){if(ut(t.app))return Promise.reject(ns(t));const n=bn(t),i=$c(n,e),l=await new Tg(n,i,s).execute();return l&&!s&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg=10*60*1e3;class Dg{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(s=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xg(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){var n;if(e.error&&!Uc(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";s.onError(Qe(this.auth,i))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const n=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Rg&&this.cachedEventUids.clear(),this.cachedEventUids.has(hr(e))}saveEventToCache(e){this.cachedEventUids.add(hr(e)),this.lastProcessedEventTime=Date.now()}}function hr(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Uc({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function xg(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Uc(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Og(t,e={}){return $s(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lg=/^https?/;async function $g(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Og(t);for(const s of e)try{if(Fg(s))return}catch{}mt(t,"unauthorized-domain")}function Fg(t){const e=ro(),{protocol:s,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&n===""?s==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&l.hostname===n}if(!Lg.test(s))return!1;if(Ng.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug=new wi(3e4,6e4);function pr(){const t=ht().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let s=0;s<t.CP.length;s++)t.CP[s]=null}}function zg(t){return new Promise((e,s)=>{var n,i,o;function l(){pr(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pr(),s(Qe(t,"network-request-failed"))},timeout:Ug.get()})}if(!((i=(n=ht().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ht().gapi)===null||o===void 0)&&o.load)l();else{const r=Gm("iframefcb");return ht()[r]=()=>{gapi.load?l():s(Qe(t,"network-request-failed"))},jm(`${Wm()}?onload=${r}`).catch(c=>s(c))}}).catch(e=>{throw zi=null,e})}let zi=null;function Bg(t){return zi=zi||zg(t),zi}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg=new wi(5e3,15e3),Hg="__/auth/iframe",jg="emulator/auth/iframe",Wg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qg(t){const e=t.config;q(e.authDomain,t,"auth-domain-config-required");const s=e.emulator?No(e,jg):`https://${t.config.authDomain}/${Hg}`,n={apiKey:e.apiKey,appName:t.name,v:_i},i=Gg.get(t.config.apiHost);i&&(n.eid=i);const o=t._getFrameworks();return o.length&&(n.fw=o.join(",")),`${s}?${yi(n).slice(1)}`}async function Kg(t){const e=await Bg(t),s=ht().gapi;return q(s,t,"internal-error"),e.open({where:document.body,url:qg(t),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wg,dontclear:!0},n=>new Promise(async(i,o)=>{await n.restyle({setHideOnLeave:!1});const l=Qe(t,"network-request-failed"),r=ht().setTimeout(()=>{o(l)},Vg.get());function c(){ht().clearTimeout(r),i(n)}n.ping(c).then(c,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zg=500,Yg=600,Xg="_blank",Qg="http://localhost";class mr{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ev(t,e,s,n=Zg,i=Yg){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let r="";const c=Object.assign(Object.assign({},Jg),{width:n.toString(),height:i.toString(),top:o,left:l}),u=De().toLowerCase();s&&(r=yc(u)?Xg:s),vc(u)&&(e=e||Qg,c.scrollbars="yes");const d=Object.entries(c).reduce((f,[g,T])=>`${f}${g}=${T},`,"");if(Lm(u)&&r!=="_self")return tv(e||"",r),new mr(null);const h=window.open(e||"",r,d);q(h,t,"popup-blocked");try{h.focus()}catch{}return new mr(h)}function tv(t,e){const s=document.createElement("a");s.href=t,s.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="__/auth/handler",iv="emulator/auth/handler",nv=encodeURIComponent("fac");async function gr(t,e,s,n,i,o){q(t.config.authDomain,t,"auth-domain-config-required"),q(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:s,redirectUrl:n,v:_i,eventId:i};if(e instanceof zo){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",sp(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))l[d]=h}if(e instanceof Ii){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(l.scopes=d.join(","))}t.tenantId&&(l.tid=t.tenantId);const r=l;for(const d of Object.keys(r))r[d]===void 0&&delete r[d];const c=await t._getAppCheckToken(),u=c?`#${nv}=${encodeURIComponent(c)}`:"";return`${ov(t)}?${yi(r).slice(1)}${u}`}function ov({config:t}){return t.emulator?No(t,iv):`https://${t.authDomain}/${sv}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn="webStorageSupport";class av{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dc,this._completeRedirectFn=Mg,this._overrideRedirectResult=kg}async _openPopup(e,s,n,i){var o;Mt((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await gr(e,s,n,ro(),i);return ev(e,l,Bo())}async _openRedirect(e,s,n,i){await this._originValidation(e);const o=await gr(e,s,n,ro(),i);return cg(o),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:i,promise:o}=this.eventManagers[s];return i?Promise.resolve(i):(Mt(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[s]={promise:n},n.catch(()=>{delete this.eventManagers[s]}),n}async initAndGetManager(e){const s=await Kg(e),n=new Dg(e);return s.register("authEvent",i=>(q(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=s,n}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(zn,{type:zn},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[zn];l!==void 0&&s(!!l),mt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=$g(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return Cc()||bc()||Fo()}}const rv=av;var vr="@firebase/auth",br="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);s&&(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uv(t){ui(new xs("auth",(e,{options:s})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:r}=n.options;q(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:l,authDomain:r,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tc(t)},u=new Vm(n,i,o,c);return Km(u,s),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,n)=>{e.getProvider("auth-internal").initialize()})),ui(new xs("auth-internal",e=>{const s=bn(e.getProvider("auth").getImmediate());return(n=>new lv(n))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ss(vr,br,cv(t)),Ss(vr,br,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=5*60,fv=sc("authIdTokenMaxAge")||dv;let yr=null;const hv=t=>async e=>{const s=e&&await e.getIdTokenResult(),n=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(n&&n>fv)return;const i=s==null?void 0:s.token;yr!==i&&(yr=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function pv(t=nm()){const e=ac(t,"auth");if(e.isInitialized())return e.getImmediate();const s=qm(t,{popupRedirectResolver:rv,persistence:[bg,ag,Dc]}),n=sc("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const l=hv(o.toString());ig(s,l,()=>l(s.currentUser)),sg(s,r=>l(r))}}const i=zh("auth");return i&&Jm(s,`http://${i}`),s}function mv(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Hm({loadJS(t){return new Promise((e,s)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const o=Qe("internal-error");o.customData=i,s(o)},n.type="text/javascript",n.charset="UTF-8",mv().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uv("Browser");const gv={apiKey:"AIzaSyASWSVgwP_YIKz0bwaDc_0tWcvZq8LlRJk",authDomain:"eyes-everywhere-a6633.firebaseapp.com",projectId:"eyes-everywhere-a6633",storageBucket:"eyes-everywhere-a6633.firebasestorage.app",messagingSenderId:"512490739650",appId:"1:512490739650:web:824dd9cdbdb9ac0fb9685b",measurementId:"G-2YGZZ2SSBR"},vv=Qa().length===0?rc(gv):Qa()[0],bv=pv(vv),yv=new It,_v={class:"login-box"},wv={class:"tabs"},Iv={class:"input-group"},Sv={class:"input-group"},Cv=["disabled"],Tv={key:0,class:"btn-content"},Av={key:1,class:"loading-spinner"},kv=["disabled"],Ev={class:"login-type-indicator"},Pv={class:"background-particles"},Mv={__name:"LoginView",setup(t){const e=fs(""),s=fs(""),n=fs("gestor"),i=fs(!1),o=fs(!0),l=Ph(),r=()=>{o.value=!o.value,localStorage.setItem("theme",o.value?"dark":"light")},c=h=>[{top:"10%",left:"10%",animationDelay:"0s"},{top:"20%",right:"15%",animationDelay:"2s"},{top:"60%",left:"5%",animationDelay:"4s"},{bottom:"20%",right:"10%",animationDelay:"1s"},{bottom:"10%",left:"20%",animationDelay:"3s"},{top:"40%",right:"5%",animationDelay:"5s"}][h-1]||{},u=async()=>{i.value=!0,await new Promise(h=>setTimeout(h,1e3));try{if(n.value==="gestor"){const f=JSON.parse(localStorage.getItem("utilizadores")||"[]").find(g=>g.email===e.value&&g.password===s.value);f?(localStorage.setItem("user",JSON.stringify({...f,tipo:"gestor"})),l.push("/home")):alert("Email ou password incorretos.")}else{const f=JSON.parse(localStorage.getItem("especialistas")||"[]").find(g=>g.email===e.value&&g.password===s.value);f?(localStorage.setItem("user",JSON.stringify({...f,tipo:"especialista"})),l.push("/home/especialista")):alert("Email ou password incorretos para especialista.")}}catch{alert("Erro ao fazer login. Tenta novamente.")}finally{i.value=!1}},d=async()=>{try{const f=(await Sg(bv,yv)).user;console.log("User autenticado:",f);const g=f.email,T=localStorage.getItem("auditores")||"[]",z=JSON.parse(T).find(D=>D.email===g);if(!z){alert("Este email não está registado como auditor no sistema.");return}const L={...z,email:g,avatar:f.photoURL||"",metodo:"google"};localStorage.setItem("user",JSON.stringify(L)),l.push("/home")}catch{alert("Erro ao autenticar com Google.")}};return(h,f)=>(y(),_("div",{class:E(["login-bg",{"light-mode":!o.value}])},[a("button",{class:"theme-toggle",onClick:r},[a("i",{class:E(o.value?"fas fa-sun":"fas fa-moon")},null,2)]),a("div",_v,[f[14]||(f[14]=zt('<div class="login-header" data-v-7f76927d><img src="'+Mh+'" alt="Logo EyesEverywhere" class="logo-inside" data-v-7f76927d><h2 class="welcome-text" data-v-7f76927d>Bem-vindo de volta</h2><p class="subtitle" data-v-7f76927d>Escolha o seu tipo de acesso</p></div><div class="avatar-container" data-v-7f76927d><div class="avatar-ring" data-v-7f76927d><img src="'+Rh+'" alt="User Icon" class="avatar" data-v-7f76927d></div></div>',2)),a("div",wv,[a("span",{class:E({"active-tab":n.value==="gestor","inactive-tab":n.value!=="gestor"}),onClick:f[0]||(f[0]=g=>n.value="gestor")},f[5]||(f[5]=[a("i",{class:"fas fa-user-tie"},null,-1),H(" Gestor ")]),2),a("span",{class:E({"active-tab":n.value==="especialista","inactive-tab":n.value!=="especialista"}),onClick:f[1]||(f[1]=g=>n.value="especialista")},f[6]||(f[6]=[a("i",{class:"fas fa-user-cog"},null,-1),H(" Especialista ")]),2)]),a("form",{onSubmit:Wt(u,["prevent"]),class:"form-container"},[a("div",Iv,[f[7]||(f[7]=a("i",{class:"fas fa-envelope input-icon"},null,-1)),be(a("input",{"onUpdate:modelValue":f[2]||(f[2]=g=>e.value=g),type:"email",placeholder:"EMAIL",required:""},null,512),[[$e,e.value]])]),a("div",Sv,[f[8]||(f[8]=a("i",{class:"fas fa-lock input-icon"},null,-1)),be(a("input",{"onUpdate:modelValue":f[3]||(f[3]=g=>s.value=g),type:"password",placeholder:"PASSWORD",required:""},null,512),[[$e,s.value]])]),a("p",{class:"info-text",onClick:f[4]||(f[4]=(...g)=>h.showForgotPassword&&h.showForgotPassword(...g))},f[9]||(f[9]=[a("i",{class:"fas fa-question-circle"},null,-1),H(" Esqueceste-te da password? ")])),a("button",{type:"submit",disabled:i.value,class:"login-btn"},[i.value?(y(),_("div",Av,f[11]||(f[11]=[a("i",{class:"fas fa-spinner fa-spin"},null,-1),H(" Entrando... ")]))):(y(),_("span",Tv,f[10]||(f[10]=[a("i",{class:"fas fa-sign-in-alt"},null,-1),H(" LOG IN ")])))],8,Cv),f[13]||(f[13]=a("div",{class:"divider"},[a("span",null,"ou")],-1)),a("button",{class:"google-btn",onClick:Wt(d,["prevent"]),type:"button",disabled:i.value},f[12]||(f[12]=[a("img",{src:"https://developers.google.com/identity/images/g-logo.png",class:"google-logo"},null,-1),a("span",null,"Entrar com Google",-1),a("i",{class:"fas fa-external-link-alt google-icon"},null,-1)]),8,kv)],32),a("div",Ev,[a("i",{class:E(n.value==="gestor"?"fas fa-building":"fas fa-tools")},null,2),a("span",null,"Acesso "+b(n.value==="gestor"?"Administrativo":"Técnico"),1)])]),a("div",Pv,[(y(),_(ie,null,Te(6,g=>a("div",{class:"particle",key:g,style:pi(c(g))},null,4)),64))])],2))}},Rv=we(Mv,[["__scopeId","data-v-7f76927d"]]),Dv={name:"BottomNav",computed:{currentRoute(){const t=this.$route.path;return t==="/home"||t==="/"?"home":t.includes("/search")?"search":t.includes("/reports")?"reports":t.includes("/profile")?"profile":""}},methods:{navigateTo(t){this.$route.path!==t&&this.$router.push(t)}}},xv={class:"bottom-navigation"};function Ov(t,e,s,n,i,o){return y(),_("nav",xv,[a("button",{class:E(["nav-item",{active:o.currentRoute==="home"}]),onClick:e[0]||(e[0]=l=>o.navigateTo("/home"))},e[3]||(e[3]=[a("i",{class:"fas fa-home"},null,-1),a("span",null,"Início",-1)]),2),a("button",{class:E(["nav-item",{active:o.currentRoute==="reports"}]),onClick:e[1]||(e[1]=l=>o.navigateTo("/mapa"))},e[4]||(e[4]=[a("i",{class:"fas fa-chart-bar"},null,-1),a("span",null,"Mapa",-1)]),2),a("button",{class:E(["nav-item",{active:o.currentRoute==="profile"}]),onClick:e[2]||(e[2]=l=>o.navigateTo("/perfil"))},e[5]||(e[5]=[a("i",{class:"fas fa-user"},null,-1),a("span",null,"Perfil",-1)]),2)])}const je=we(Dv,[["render",Ov],["__scopeId","data-v-08717793"]]),Nv={name:"CleanHomeView",components:{BottomNav:je},data(){return{user:{name:"",avatar:""},auditoriasNovas:[],auditorias:[],auditoriasConcluidas:[],especialistas:[],darkMode:!0}},computed:{currentDate(){return new Date().toLocaleDateString("pt-PT",{weekday:"long",day:"numeric",month:"long"})},auditoriasADecorrerCount(){return this.auditorias.length},auditoriasConcluidasCount(){return this.auditoriasConcluidas.length},especialistasCount(){return this.especialistas.length},totalAuditorias(){return this.auditoriasNovas.length+this.auditorias.length+this.auditoriasConcluidas.length}},mounted(){this.loadData(),this.loadTheme()},methods:{loadData(){const t=localStorage.getItem("user");t&&(this.user=JSON.parse(t));const e=localStorage.getItem("auditoriasNovas");e&&(this.auditoriasNovas=JSON.parse(e));const s=localStorage.getItem("auditorias");s&&(this.auditorias=JSON.parse(s));const n=localStorage.getItem("auditoriasConcluidas");n&&(this.auditoriasConcluidas=JSON.parse(n));const i=localStorage.getItem("especialistas");i&&(this.especialistas=JSON.parse(i))},loadTheme(){const t=localStorage.getItem("theme");t&&(this.darkMode=t==="dark")},toggleTheme(){this.darkMode=!this.darkMode,localStorage.setItem("theme",this.darkMode?"dark":"light")}}},Lv={class:"home-container"},$v={class:"home-header"},Fv={class:"user-welcome"},Uv={class:"avatar-container"},zv={class:"avatar-ring"},Bv=["src","alt"],Vv={class:"welcome-content"},Hv={class:"welcome-text"},jv={class:"subtitle"},Wv={class:"stats-container"},Gv={class:"stat-number"},qv={class:"stat-number"},Kv={class:"stat-number"},Jv={class:"menu-container"},Zv={class:"menu-content"},Yv={class:"menu-content"},Xv={class:"menu-content"},Qv={class:"menu-content"},e1={key:0,class:"notifications-container"},t1={class:"notification-list"},s1=["onClick"],i1={class:"notification-content"};function n1(t,e,s,n,i,o){const l=xe("BottomNav");return y(),_("div",{class:E(["login-bg",{"light-mode":!i.darkMode}])},[a("button",{class:"theme-toggle",onClick:e[0]||(e[0]=(...r)=>o.toggleTheme&&o.toggleTheme(...r))},[a("i",{class:E(i.darkMode?"fas fa-sun":"fas fa-moon")},null,2)]),a("div",Lv,[a("div",$v,[a("div",Fv,[a("div",Uv,[a("div",zv,[a("img",{src:`../assets/${i.user.avatar}`,alt:i.user.name,class:"avatar"},null,8,Bv)])]),a("div",Vv,[a("h2",Hv,"Olá, "+b(i.user.name),1),a("p",jv,b(o.currentDate),1)])])]),a("div",Wv,[a("div",{class:E(["stat-card",{"active-stat":o.totalAuditorias>0}])},[a("div",Gv,b(o.totalAuditorias),1),e[5]||(e[5]=a("div",{class:"stat-label"},"Total",-1))],2),a("div",{class:E(["stat-card",{"active-stat":o.auditoriasADecorrerCount>0}])},[a("div",qv,b(o.auditoriasADecorrerCount),1),e[6]||(e[6]=a("div",{class:"stat-label"},"Ativas",-1))],2),a("div",{class:E(["stat-card",{"active-stat":o.auditoriasConcluidasCount>0}])},[a("div",Kv,b(o.auditoriasConcluidasCount),1),e[7]||(e[7]=a("div",{class:"stat-label"},"Concluídas",-1))],2)]),a("div",Jv,[a("div",{class:"menu-item",onClick:e[1]||(e[1]=r=>t.$router.push("/auditorias/adecorrer"))},[e[9]||(e[9]=a("div",{class:"menu-icon blue-icon"},[a("i",{class:"fas fa-play"})],-1)),a("div",Zv,[e[8]||(e[8]=a("h3",null,"Auditorias Ativas",-1)),a("p",null,b(o.auditoriasADecorrerCount)+" em progresso",1)]),e[10]||(e[10]=a("i",{class:"fas fa-chevron-right menu-arrow"},null,-1))]),a("div",{class:"menu-item",onClick:e[2]||(e[2]=r=>t.$router.push("/auditorias/nova"))},[e[12]||(e[12]=a("div",{class:"menu-icon orange-icon"},[a("i",{class:"fas fa-star"})],-1)),a("div",Yv,[e[11]||(e[11]=a("h3",null,"Novas Auditorias",-1)),a("p",null,b(i.auditoriasNovas.length)+" para revisar",1)]),e[13]||(e[13]=a("i",{class:"fas fa-chevron-right menu-arrow"},null,-1))]),a("div",{class:"menu-item",onClick:e[3]||(e[3]=r=>t.$router.push("/auditorias/concluidas"))},[e[15]||(e[15]=a("div",{class:"menu-icon green-icon"},[a("i",{class:"fas fa-check"})],-1)),a("div",Xv,[e[14]||(e[14]=a("h3",null,"Concluídas",-1)),a("p",null,b(o.auditoriasConcluidasCount)+" finalizadas",1)]),e[16]||(e[16]=a("i",{class:"fas fa-chevron-right menu-arrow"},null,-1))]),a("div",{class:"menu-item",onClick:e[4]||(e[4]=r=>t.$router.push("/especialistas/ver"))},[e[18]||(e[18]=a("div",{class:"menu-icon purple-icon"},[a("i",{class:"fas fa-users"})],-1)),a("div",Qv,[e[17]||(e[17]=a("h3",null,"Especialistas",-1)),a("p",null,b(o.especialistasCount)+" na equipa",1)]),e[19]||(e[19]=a("i",{class:"fas fa-chevron-right menu-arrow"},null,-1))])]),i.auditoriasNovas.length>0?(y(),_("div",e1,[e[22]||(e[22]=a("h3",{class:"section-title"},"Recentes",-1)),a("div",t1,[(y(!0),_(ie,null,Te(i.auditoriasNovas.slice(0,2),r=>(y(),_("div",{key:r.id,class:"notification-item",onClick:c=>t.$router.push(`/auditoriasnovas/${r.id}`)},[e[21]||(e[21]=a("div",{class:"notification-dot"},null,-1)),a("div",i1,[a("h4",null,b(r.titulo),1),e[20]||(e[20]=a("p",null,"Nova auditoria criada",-1))])],8,s1))),128))])])):V("",!0)]),ne(l)],2)}const o1=we(Nv,[["render",n1],["__scopeId","data-v-aa8a8342"]]),a1={name:"AuditoriasAdecorrer",components:{BottomNav:je},data(){return{auditorias:[],pesquisa:"",darkMode:!0}},computed:{auditoriasFiltradas(){return this.auditorias.filter(t=>t.titulo.toLowerCase().includes(this.pesquisa.toLowerCase()))}},mounted(){this.loadTheme(),this.loadData()},methods:{loadTheme(){const t=localStorage.getItem("theme");t&&(this.darkMode=t==="dark")},toggleTheme(){this.darkMode=!this.darkMode,localStorage.setItem("theme",this.darkMode?"dark":"light")},loadData(){const t=localStorage.getItem("auditorias");let e=t?JSON.parse(t):[];e.length||(e=[{id:1,titulo:"Inspeção de Sinalização",tipo:"Segurança Rodoviária",data:new Date().toISOString(),local:"Rua de Santo António, Braga",descricao:"Verificar placas e marcações no cruzamento.",documentos:"",prioridade:"Alta",especialistas:[],materiais:"",origem:"Pedido da Câmara"}],localStorage.setItem("auditorias",JSON.stringify(e))),this.auditorias=e},formatarData(t){const e=new Date(t),s=e.getDate().toString().padStart(2,"0"),n=e.toLocaleString("pt-PT",{month:"short"}).toUpperCase();return{dia:s,mes:n}},formatarHora(t){const e=new Date(t);return`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`}}},r1={class:"page-container"},l1={class:"page-header"},c1={class:"search-container"},u1={class:"search-input-wrapper"},d1={class:"auditorias-container"},f1={key:0,class:"empty-state"},h1={key:1,class:"auditorias-list"},p1=["onClick"],m1={class:"auditoria-date"},g1={class:"date-day"},v1={class:"date-month"},b1={class:"auditoria-content"},y1={class:"auditoria-title"},_1={class:"auditoria-details"},w1={class:"auditoria-time"},I1={class:"auditoria-location"},S1={class:"auditoria-type"};function C1(t,e,s,n,i,o){const l=xe("BottomNav");return y(),_("div",{class:E(["login-bg",{"light-mode":!i.darkMode}])},[a("button",{class:"theme-toggle",onClick:e[0]||(e[0]=(...r)=>o.toggleTheme&&o.toggleTheme(...r))},[a("i",{class:E(i.darkMode?"fas fa-sun":"fas fa-moon")},null,2)]),a("div",r1,[a("div",l1,[a("button",{class:"back-btn",onClick:e[1]||(e[1]=r=>t.$router.back())},e[3]||(e[3]=[a("i",{class:"fas fa-arrow-left"},null,-1)])),e[4]||(e[4]=a("h2",{class:"page-title"},"Auditorias A Decorrer",-1))]),a("div",c1,[a("div",u1,[e[5]||(e[5]=a("i",{class:"fas fa-search search-icon"},null,-1)),be(a("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=r=>i.pesquisa=r),placeholder:"Procurar auditorias...",class:"search-input"},null,512),[[$e,i.pesquisa]])])]),a("div",d1,[o.auditoriasFiltradas.length===0?(y(),_("div",f1,e[6]||(e[6]=[a("i",{class:"fas fa-clipboard-list"},null,-1),a("h3",null,"Nenhuma auditoria encontrada",-1),a("p",null,"Não há auditorias a decorrer no momento",-1)]))):(y(),_("div",h1,[(y(!0),_(ie,null,Te(o.auditoriasFiltradas,r=>(y(),_("div",{class:"auditoria-card",key:r.id,onClick:c=>t.$router.push(`/auditoria/${r.id}`)},[a("div",m1,[a("span",g1,b(o.formatarData(r.data).dia),1),a("span",v1,b(o.formatarData(r.data).mes),1)]),a("div",b1,[a("h3",y1,b(r.titulo),1),a("div",_1,[a("p",w1,[e[7]||(e[7]=a("i",{class:"fas fa-clock"},null,-1)),H(" "+b(o.formatarHora(r.data)),1)]),a("p",I1,[e[8]||(e[8]=a("i",{class:"fas fa-map-marker-alt"},null,-1)),H(" "+b(r.local||"Localização não definida"),1)])]),a("span",S1,b(r.tipo),1)]),e[9]||(e[9]=a("i",{class:"fas fa-chevron-right auditoria-arrow"},null,-1))],8,p1))),128))]))])]),ne(l)],2)}const _r=we(a1,[["render",C1],["__scopeId","data-v-9312d3e3"]]),T1={name:"AuditoriasConcluidas",components:{BottomNav:je},data(){return{auditorias:[],pesquisa:"",darkMode:!0}},computed:{auditoriasFiltradas(){return this.auditorias.filter(t=>t.titulo.toLowerCase().includes(this.pesquisa.toLowerCase()))}},mounted(){this.loadTheme(),this.loadData()},methods:{loadTheme(){const t=localStorage.getItem("theme");t&&(this.darkMode=t==="dark")},toggleTheme(){this.darkMode=!this.darkMode,localStorage.setItem("theme",this.darkMode?"dark":"light")},loadData(){const t=localStorage.getItem("auditoriasConcluidas");this.auditorias=t?JSON.parse(t):[]},formatarData(t){const e=new Date(t),s=e.getDate().toString().padStart(2,"0"),n=e.toLocaleString("pt-PT",{month:"short"}).toUpperCase();return{dia:s,mes:n}},formatarHora(t){const e=new Date(t);return`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`}}},A1={class:"page-container"},k1={class:"page-header"},E1={class:"search-container"},P1={class:"search-input-wrapper"},M1={class:"auditorias-container"},R1={key:0,class:"empty-state"},D1={key:1,class:"auditorias-list"},x1=["onClick"],O1={class:"auditoria-date completed-date"},N1={class:"date-day"},L1={class:"date-month"},$1={class:"auditoria-content"},F1={class:"auditoria-title"},U1={class:"auditoria-details"},z1={class:"auditoria-time"},B1={class:"auditoria-location"},V1={class:"auditoria-type completed-type"};function H1(t,e,s,n,i,o){const l=xe("BottomNav");return y(),_("div",{class:E(["login-bg",{"light-mode":!i.darkMode}])},[a("button",{class:"theme-toggle",onClick:e[0]||(e[0]=(...r)=>o.toggleTheme&&o.toggleTheme(...r))},[a("i",{class:E(i.darkMode?"fas fa-sun":"fas fa-moon")},null,2)]),a("div",A1,[a("div",k1,[a("button",{class:"back-btn",onClick:e[1]||(e[1]=r=>t.$router.back())},e[3]||(e[3]=[a("i",{class:"fas fa-arrow-left"},null,-1)])),e[4]||(e[4]=a("h2",{class:"page-title"},"Auditorias Concluídas",-1))]),a("div",E1,[a("div",P1,[e[5]||(e[5]=a("i",{class:"fas fa-search search-icon"},null,-1)),be(a("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=r=>i.pesquisa=r),placeholder:"Procurar auditorias...",class:"search-input"},null,512),[[$e,i.pesquisa]])])]),a("div",M1,[o.auditoriasFiltradas.length===0?(y(),_("div",R1,e[6]||(e[6]=[a("i",{class:"fas fa-check-circle"},null,-1),a("h3",null,"Nenhuma auditoria encontrada",-1),a("p",null,"Não há auditorias concluídas no momento",-1)]))):(y(),_("div",D1,[(y(!0),_(ie,null,Te(o.auditoriasFiltradas,r=>(y(),_("div",{class:"auditoria-card completed",key:r.id,onClick:c=>t.$router.push(`/auditoriasconcluidas/${r.id}`)},[a("div",O1,[a("span",N1,b(o.formatarData(r.data).dia),1),a("span",L1,b(o.formatarData(r.data).mes),1)]),a("div",$1,[a("h3",F1,b(r.titulo),1),a("div",U1,[a("p",z1,[e[7]||(e[7]=a("i",{class:"fas fa-clock"},null,-1)),H(" "+b(o.formatarHora(r.data)),1)]),a("p",B1,[e[8]||(e[8]=a("i",{class:"fas fa-map-marker-alt"},null,-1)),H(" "+b(r.local||"Localização não definida"),1)])]),a("span",V1,b(r.tipo),1)]),e[9]||(e[9]=a("div",{class:"completion-badge"},[a("i",{class:"fas fa-check"})],-1))],8,x1))),128))]))])]),ne(l)],2)}const j1=we(T1,[["render",H1],["__scopeId","data-v-5daf943e"]]),W1={name:"NovaAuditoria",components:{BottomNav:je},data(){return{auditorias:[],pesquisa:"",darkMode:!0,userId:null}},computed:{auditoriasFiltradas(){return this.auditorias.filter(t=>t.titulo.toLowerCase().includes(this.pesquisa.toLowerCase()))}},mounted(){this.loadTheme(),this.loadUserId(),this.loadData()},methods:{loadTheme(){const t=localStorage.getItem("theme");t&&(this.darkMode=t==="dark")},toggleTheme(){this.darkMode=!this.darkMode,localStorage.setItem("theme",this.darkMode?"dark":"light")},loadUserId(){const t=JSON.parse(localStorage.getItem("user")||"{}");this.userId=t.id||t.ID||null},loadData(){let e=JSON.parse(localStorage.getItem("auditorias")||"[]").filter(s=>s.auditores&&Array.isArray(s.auditores)&&s.auditores.includes(this.userId));e=e.map(s=>({...s,titulo:s.titulo||s.nome||"Sem título"})),this.auditorias=e},formatarData(t){const e=new Date(t),s=e.getDate().toString().padStart(2,"0"),n=e.toLocaleString("pt-PT",{month:"short"}).toUpperCase();return{dia:s,mes:n}},formatarHora(t){const e=new Date(t);return`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`}}},G1={class:"page-container"},q1={class:"page-header"},K1={class:"search-container"},J1={class:"search-input-wrapper"},Z1={class:"auditorias-container"},Y1={key:0,class:"empty-state"},X1={key:1,class:"auditorias-list"},Q1=["onClick"],eb={class:"auditoria-date new-date"},tb={class:"date-day"},sb={class:"date-month"},ib={class:"auditoria-content"},nb={class:"auditoria-title"},ob={class:"auditoria-details"},ab={class:"auditoria-time"},rb={class:"auditoria-location"},lb={class:"auditoria-type new-type"};function cb(t,e,s,n,i,o){const l=xe("BottomNav");return y(),_("div",{class:E(["login-bg",{"light-mode":!i.darkMode}])},[a("button",{class:"theme-toggle",onClick:e[0]||(e[0]=(...r)=>o.toggleTheme&&o.toggleTheme(...r))},[a("i",{class:E(i.darkMode?"fas fa-sun":"fas fa-moon")},null,2)]),a("div",G1,[a("div",q1,[a("button",{class:"back-btn",onClick:e[1]||(e[1]=r=>t.$router.back())},e[3]||(e[3]=[a("i",{class:"fas fa-arrow-left"},null,-1)])),e[4]||(e[4]=a("h2",{class:"page-title"},"Novas Auditorias",-1))]),a("div",K1,[a("div",J1,[e[5]||(e[5]=a("i",{class:"fas fa-search search-icon"},null,-1)),be(a("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=r=>i.pesquisa=r),placeholder:"Procurar auditorias...",class:"search-input"},null,512),[[$e,i.pesquisa]])])]),a("div",Z1,[o.auditoriasFiltradas.length===0?(y(),_("div",Y1,e[6]||(e[6]=[a("i",{class:"fas fa-star"},null,-1),a("h3",null,"Nenhuma auditoria nova",-1),a("p",null,"Novas auditorias para revisar aparecerão aqui",-1)]))):(y(),_("div",X1,[(y(!0),_(ie,null,Te(o.auditoriasFiltradas,r=>(y(),_("div",{class:"auditoria-card new",key:r.id,onClick:c=>t.$router.push(`/auditoriasnovas/${r.id}`)},[a("div",eb,[a("span",tb,b(o.formatarData(r.data).dia),1),a("span",sb,b(o.formatarData(r.data).mes),1),e[7]||(e[7]=a("i",{class:"fas fa-star new-badge"},null,-1))]),a("div",ib,[a("h3",nb,b(r.titulo),1),a("div",ob,[a("p",ab,[e[8]||(e[8]=a("i",{class:"fas fa-clock"},null,-1)),H(" "+b(o.formatarHora(r.data)),1)]),a("p",rb,[e[9]||(e[9]=a("i",{class:"fas fa-map-marker-alt"},null,-1)),H(" "+b(r.local||"Localização não definida"),1)])]),a("span",lb,b(r.tipo),1)]),e[10]||(e[10]=a("i",{class:"fas fa-chevron-right auditoria-arrow"},null,-1))],8,Q1))),128))]))])]),ne(l)],2)}const wr=we(W1,[["render",cb],["__scopeId","data-v-d5f17b75"]]);function ub(t,e,s,n){function i(o){return o instanceof s?o:new s(function(l){l(o)})}return new(s||(s=Promise))(function(o,l){function r(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?o(d.value):i(d.value).then(r,c)}u((n=n.apply(t,[])).next())})}function db(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fb=function t(e,s){if(e===s)return!0;if(e&&s&&typeof e=="object"&&typeof s=="object"){if(e.constructor!==s.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=s.length)return!1;for(i=n;i--!==0;)if(!t(e[i],s[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===s.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(s).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(s,o[i]))return!1;for(i=n;i--!==0;){var l=o[i];if(!t(e[l],s[l]))return!1}return!0}return e!==e&&s!==s},hb=db(fb);const Ir="__googleMapsScriptId";var gs;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(gs||(gs={}));class Ze{constructor({apiKey:e,authReferrerPolicy:s,channel:n,client:i,id:o=Ir,language:l,libraries:r=[],mapIds:c,nonce:u,region:d,retries:h=3,url:f="https://maps.googleapis.com/maps/api/js",version:g}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=s,this.channel=n,this.client=i,this.id=o||Ir,this.language=l,this.libraries=r,this.mapIds=c,this.nonce=u,this.region=d,this.retries=h,this.url=f,this.version=g,Ze.instance){if(!hb(this.options,Ze.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(Ze.instance.options)}`);return Ze.instance}Ze.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?gs.FAILURE:this.done?gs.SUCCESS:this.loading?gs.LOADING:gs.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,s)=>{this.loadCallback(n=>{n?s(n.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,s;if(document.getElementById(this.id)){this.callback();return}const n={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(n).forEach(o=>!n[o]&&delete n[o]),!((s=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||s===void 0)&&s.importLibrary||(o=>{let l,r,c,u="The Google Maps JavaScript API",d="google",h="importLibrary",f="__ib__",g=document,T=window;T=T[d]||(T[d]={});const P=T.maps||(T.maps={}),z=new Set,L=new URLSearchParams,D=()=>l||(l=new Promise(($,N)=>ub(this,void 0,void 0,function*(){var Y;yield r=g.createElement("script"),r.id=this.id,L.set("libraries",[...z]+"");for(c in o)L.set(c.replace(/[A-Z]/g,Q=>"_"+Q[0].toLowerCase()),o[c]);L.set("callback",d+".maps."+f),r.src=this.url+"?"+L,P[f]=$,r.onerror=()=>l=N(Error(u+" could not load.")),r.nonce=this.nonce||((Y=g.querySelector("script[nonce]"))===null||Y===void 0?void 0:Y.nonce)||"",g.head.append(r)})));P[h]?console.warn(u+" only loads once. Ignoring:",o):P[h]=($,...N)=>z.add($)&&D().then(()=>P[h]($,...N))})(n);const i=this.libraries.map(o=>this.importLibrary(o));i.length||i.push(this.importLibrary("core")),Promise.all(i).then(()=>this.callback(),o=>{const l=new ErrorEvent("error",{error:o});this.loadErrorCallback(l)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const s=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${s} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},s)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}const pb={name:"MapaAuditorias",components:{BottomNav:je},data(){return{auditorias:[],auditoriasNovas:[],auditoriasConcluidas:[],showFilters:!1,filtroTipo:"",filtroStatus:"",darkMode:!0,mapa:null,mapLoaded:!1,marcadores:[],mapaExpandido:!1}},computed:{todasAuditorias(){return[...this.auditoriasNovas.map(t=>({...t,status:"nova"})),...this.auditorias.map(t=>({...t,status:"ativa"})),...this.auditoriasConcluidas.map(t=>({...t,status:"concluida"}))]},auditoriasFiltradas(){return this.todasAuditorias.filter(t=>{const e=!this.filtroTipo||t.tipo===this.filtroTipo,s=!this.filtroStatus||t.status===this.filtroStatus;return e&&s})}},mounted(){this.loadTheme(),this.loadData(),this.inicializarMapa()},methods:{loadTheme(){const t=localStorage.getItem("theme");this.darkMode=t==="dark"},toggleTheme(){this.darkMode=!this.darkMode,localStorage.setItem("theme",this.darkMode?"dark":"light")},loadData(){this.auditoriasNovas=JSON.parse(localStorage.getItem("auditoriasNovas")||"[]"),this.auditorias=JSON.parse(localStorage.getItem("auditorias")||"[]"),this.auditoriasConcluidas=JSON.parse(localStorage.getItem("auditoriasConcluidas")||"[]")},toggleFilters(){this.showFilters=!this.showFilters},async inicializarMapa(){try{await new Ze({apiKey:"AIzaSyBdbfZcG0t6f5c3MI3RVA2Aj07IIdmkL9o",version:"weekly"}).load(),this.iniciarMapa()}catch{this.mapLoaded=!0}},iniciarMapa(){this.mapa=new google.maps.Map(this.$refs.mapContainer,{center:{lat:41.5454,lng:-8.4265},zoom:12,styles:this.darkMode?this.getDarkMapStyle():[],mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,zoomControl:!0}),this.mapLoaded=!0,this.atualizarMarcadores()},async atualizarMarcadores(){this.marcadores.forEach(t=>t.setMap(null)),this.marcadores=[];for(const t of this.auditoriasFiltradas)if(t.local)try{const s=await(await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(t.local)}&format=json`)).json();if(!s[0])continue;const{lat:n,lon:i}=s[0],o={nova:"yellow-dot.png",ativa:"blue-dot.png",concluida:"green-dot.png"},l=new google.maps.Marker({position:{lat:+n,lng:+i},map:this.mapa,icon:{url:`http://maps.google.com/mapfiles/ms/icons/${o[t.status]}`}});l.addListener("click",()=>this.focusAuditoria(t)),this.marcadores.push(l)}catch{}},focusAuditoria(t){const e=this.marcadores.find(s=>s.getTitle()===t.titulo);e&&(this.mapa.setCenter(e.getPosition()),this.mapa.setZoom(16))},getMarkerIcon(t){return t.status==="nova"?"fas fa-star":t.status==="concluida"?"fas fa-check":"fas fa-play"},getStatusText(t){return t.status==="nova"?"Nova":t.status==="concluida"?"Concluída":"Ativa"},getDarkMapStyle(){return[]},toggleMapExpand(){this.mapaExpandido=!this.mapaExpandido}}},mb={class:"page-container"},gb={class:"page-header"},vb={key:0,class:"filters-section"},bb={class:"filter-group"},yb={class:"filter-group"},_b={key:0,class:"map-loading"},wb={class:"list-section"},Ib={class:"list-header"},Sb={class:"list-title"},Cb={class:"auditorias-list"},Tb=["onClick"],Ab={class:"auditoria-marker"},kb={class:"auditoria-info"},Eb={class:"auditoria-title"},Pb={class:"auditoria-location"},Mb={class:"auditoria-status"},Rb={key:0,class:"show-more"};function Db(t,e,s,n,i,o){const l=xe("BottomNav");return y(),_("div",{class:E(["login-bg",{"light-mode":!i.darkMode}])},[a("button",{class:"theme-toggle",onClick:e[0]||(e[0]=(...r)=>o.toggleTheme&&o.toggleTheme(...r))},[a("i",{class:E(i.darkMode?"fas fa-sun":"fas fa-moon")},null,2)]),a("div",mb,[a("div",gb,[a("button",{class:"back-btn",onClick:e[1]||(e[1]=r=>t.$router.back())},e[9]||(e[9]=[a("i",{class:"fas fa-arrow-left"},null,-1)])),e[11]||(e[11]=a("h2",{class:"page-title"},"Mapa de Auditorias",-1)),a("button",{class:"filter-btn",onClick:e[2]||(e[2]=(...r)=>o.toggleFilters&&o.toggleFilters(...r))},e[10]||(e[10]=[a("i",{class:"fas fa-filter"},null,-1)]))]),i.showFilters?(y(),_("div",vb,[a("div",bb,[e[13]||(e[13]=a("label",{class:"filter-label"},"Tipo de Auditoria",-1)),be(a("select",{"onUpdate:modelValue":e[3]||(e[3]=r=>i.filtroTipo=r),class:"filter-select",onChange:e[4]||(e[4]=(...r)=>o.atualizarMarcadores&&o.atualizarMarcadores(...r))},e[12]||(e[12]=[a("option",{value:""},"Todos os tipos",-1),a("option",null,"Segurança Rodoviária",-1),a("option",null,"Infraestruturas",-1),a("option",null,"Ambiente",-1),a("option",null,"Urbanismo",-1)]),544),[[Ps,i.filtroTipo]])]),a("div",yb,[e[15]||(e[15]=a("label",{class:"filter-label"},"Status",-1)),be(a("select",{"onUpdate:modelValue":e[5]||(e[5]=r=>i.filtroStatus=r),class:"filter-select",onChange:e[6]||(e[6]=(...r)=>o.atualizarMarcadores&&o.atualizarMarcadores(...r))},e[14]||(e[14]=[a("option",{value:""},"Todos os status",-1),a("option",{value:"nova"},"Novas",-1),a("option",{value:"ativa"},"Ativas",-1),a("option",{value:"concluida"},"Concluídas",-1)]),544),[[Ps,i.filtroStatus]])])])):V("",!0),a("div",{class:E(["map-section",{fullscreen:i.mapaExpandido}])},[a("div",{id:"map",class:"map-container",ref:"mapContainer",onClick:e[7]||(e[7]=(...r)=>o.toggleMapExpand&&o.toggleMapExpand(...r))},null,512),i.mapLoaded?V("",!0):(y(),_("div",_b,e[16]||(e[16]=[a("i",{class:"fas fa-spinner fa-spin"},null,-1),a("p",null,"Carregando mapa...",-1)])))],2),a("div",wb,[a("div",Ib,[a("h3",Sb,[e[17]||(e[17]=a("i",{class:"fas fa-list"},null,-1)),H(" Auditorias ("+b(o.auditoriasFiltradas.length)+") ",1)])]),a("div",Cb,[(y(!0),_(ie,null,Te(o.auditoriasFiltradas.slice(0,5),r=>(y(),_("div",{key:r.id,class:E(["auditoria-item",r.status]),onClick:c=>o.focusAuditoria(r)},[a("div",Ab,[a("i",{class:E(o.getMarkerIcon(r))},null,2)]),a("div",kb,[a("h4",Eb,b(r.titulo),1),a("p",Pb,b(r.local||"Localização não definida"),1)]),a("div",Mb,[a("span",{class:E(["status-badge",r.status])},b(o.getStatusText(r)),3)])],10,Tb))),128))]),o.auditoriasFiltradas.length>5?(y(),_("div",Rb,[a("button",{class:"show-more-btn",onClick:e[8]||(e[8]=r=>t.$router.push("/auditorias/adecorrer"))},[a("span",null,"Ver todas ("+b(o.auditoriasFiltradas.length-5)+" restantes)",1),e[18]||(e[18]=a("i",{class:"fas fa-arrow-right"},null,-1))])])):V("",!0)])]),ne(l)],2)}const xb=we(pb,[["render",Db],["__scopeId","data-v-886cf759"]]),Ob={name:"Pedidos"},Nb={class:"page"};function Lb(t,e,s,n,i,o){return y(),_("div",Nb,"Página de Pedidos")}const $b=we(Ob,[["render",Lb],["__scopeId","data-v-cd9a11f7"]]),Fb={name:"Perfil",components:{BottomNav:je},data(){return{user:{nomeCompleto:"",avatar:"",area:"",numero:"",email:"",localidade:"",telemovel:"",id:""},auditoriasAdecorrer:0,auditoriasConcluidas:0,objetivos:[5,10,20],mensagens:["Primeiro marco atingido! Continua assim!","Excelente! Já 10 auditorias concluídas!","Super Auditor! Estás no topo!"],darkMode:!0}},computed:{proximoObjetivo(){return this.objetivos.find(t=>t>this.auditoriasConcluidas)||this.objetivos[this.objetivos.length-1]},progresso(){const t=this.objetivos.findIndex(i=>i>this.auditoriasConcluidas),e=t===0?0:this.objetivos[t-1]||0,s=this.proximoObjetivo,n=(this.auditoriasConcluidas-e)/(s-e)*100;return Math.min(100,Math.max(0,n))},mensagemAtual(){let t="";for(let e=this.objetivos.length-1;e>=0;e--)if(this.auditoriasConcluidas>=this.objetivos[e]){t=this.mensagens[e];break}return t}},mounted(){this.loadTheme(),this.loadUserAndStats()},methods:{loadTheme(){const t=localStorage.getItem("theme");t&&(this.darkMode=t==="dark")},toggleTheme(){this.darkMode=!this.darkMode,localStorage.setItem("theme",this.darkMode?"dark":"light")},loadUserAndStats(){let e={...JSON.parse(localStorage.getItem("user")||"{}")};const n=JSON.parse(localStorage.getItem("auditores")||"[]").find(l=>l.email===e.email);n&&(e={...n,...e,nomeCompleto:n.nomeCompleto||e.name||e.nomeCompleto}),this.user=e;const i=JSON.parse(localStorage.getItem("auditorias")||"[]"),o=JSON.parse(localStorage.getItem("auditoriasConcluidas")||"[]");this.auditoriasAdecorrer=i.filter(l=>{var r;return(((r=l.auditor)==null?void 0:r.email)||l.auditorEmail||l.emailAuditor)===e.email}).length,this.auditoriasConcluidas=o.filter(l=>{var r;return(((r=l.auditor)==null?void 0:r.email)||l.auditorEmail||l.emailAuditor)===e.email}).length}}},Ub={class:"page-container"},zb={class:"page-header"},Bb={class:"profile-section"},Vb={class:"avatar-container"},Hb={class:"avatar-ring"},jb=["src","alt"],Wb={class:"user-name"},Gb={class:"user-role"},qb={class:"info-section"},Kb={class:"info-item"},Jb={class:"info-content"},Zb={class:"info-value"},Yb={class:"info-item"},Xb={class:"info-content"},Qb={class:"info-value"},ey={class:"info-item"},ty={class:"info-content"},sy={class:"info-value"},iy={class:"info-item"},ny={class:"info-content"},oy={class:"info-value"},ay={class:"stats-section"},ry={class:"stats-grid"},ly={class:"stat-card active"},cy={class:"stat-content"},uy={class:"stat-number"},dy={class:"stat-card completed"},fy={class:"stat-content"},hy={class:"stat-number"},py={class:"progress-section"},my={class:"progress-info"},gy={class:"progress-label"},vy={class:"progress-percent"},by={class:"progress-bar-container"},yy={key:0,class:"achievement-message"};function _y(t,e,s,n,i,o){const l=xe("BottomNav");return y(),_("div",{class:E(["login-bg",{"light-mode":!i.darkMode}])},[a("button",{class:"theme-toggle",onClick:e[0]||(e[0]=(...r)=>o.toggleTheme&&o.toggleTheme(...r))},[a("i",{class:E(i.darkMode?"fas fa-sun":"fas fa-moon")},null,2)]),a("div",Ub,[a("div",zb,[a("button",{class:"back-btn",onClick:e[1]||(e[1]=r=>t.$router.back())},e[3]||(e[3]=[a("i",{class:"fas fa-arrow-left"},null,-1)])),e[5]||(e[5]=a("h2",{class:"page-title"},"Perfil",-1)),a("button",{class:"settings-btn",onClick:e[2]||(e[2]=r=>t.$router.push("/definicoes"))},e[4]||(e[4]=[a("i",{class:"fas fa-cog"},null,-1)]))]),a("div",Bb,[a("div",Vb,[a("div",Hb,[a("img",{src:i.user.avatar||i.user.foto||"https://ui-avatars.com/api/?name="+encodeURIComponent(i.user.nomeCompleto||i.user.name||"A"),alt:i.user.nomeCompleto||i.user.name,class:"avatar"},null,8,jb)])]),a("h2",Wb,b(i.user.nomeCompleto||i.user.name||"Utilizador"),1),a("p",Gb,b(i.user.area||i.user.localidade||"Especialista"),1)]),a("div",qb,[a("div",Kb,[e[7]||(e[7]=a("div",{class:"info-icon"},[a("i",{class:"fas fa-id-badge"})],-1)),a("div",Jb,[e[6]||(e[6]=a("span",{class:"info-label"},"Número",-1)),a("span",Zb,b(i.user.numero||i.user.id||"Não definido"),1)])]),a("div",Yb,[e[9]||(e[9]=a("div",{class:"info-icon"},[a("i",{class:"fas fa-envelope"})],-1)),a("div",Xb,[e[8]||(e[8]=a("span",{class:"info-label"},"Email",-1)),a("span",Qb,b(i.user.email),1)])]),a("div",ey,[e[11]||(e[11]=a("div",{class:"info-icon"},[a("i",{class:"fas fa-map-marker-alt"})],-1)),a("div",ty,[e[10]||(e[10]=a("span",{class:"info-label"},"Localidade",-1)),a("span",sy,b(i.user.localidade||i.user.local||"Não definido"),1)])]),a("div",iy,[e[13]||(e[13]=a("div",{class:"info-icon"},[a("i",{class:"fas fa-mobile-alt"})],-1)),a("div",ny,[e[12]||(e[12]=a("span",{class:"info-label"},"Telemóvel",-1)),a("span",oy,b(i.user.telemovel||"Não definido"),1)])])]),a("div",ay,[e[18]||(e[18]=a("h3",{class:"section-title"},"Estatísticas",-1)),a("div",ry,[a("div",ly,[e[15]||(e[15]=a("div",{class:"stat-icon"},[a("i",{class:"fas fa-play"})],-1)),a("div",cy,[a("span",uy,b(i.auditoriasAdecorrer),1),e[14]||(e[14]=a("span",{class:"stat-label"},"A Decorrer",-1))])]),a("div",dy,[e[17]||(e[17]=a("div",{class:"stat-icon"},[a("i",{class:"fas fa-check"})],-1)),a("div",fy,[a("span",hy,b(i.auditoriasConcluidas),1),e[16]||(e[16]=a("span",{class:"stat-label"},"Concluídas",-1))])])])]),a("div",py,[e[20]||(e[20]=a("h3",{class:"section-title"},"Progresso",-1)),a("div",my,[a("span",gy,"Próximo objetivo: "+b(o.proximoObjetivo)+" auditorias",1),a("span",vy,b(o.progresso.toFixed(0))+"%",1)]),a("div",by,[a("div",{class:"progress-bar",style:pi({width:o.progresso+"%"})},null,4)]),o.mensagemAtual?(y(),_("div",yy,[e[19]||(e[19]=a("i",{class:"fas fa-trophy"},null,-1)),a("span",null,b(o.mensagemAtual),1)])):V("",!0)])]),ne(l)],2)}const wy=we(Fb,[["render",_y],["__scopeId","data-v-e6011f39"]]),Iy={name:"DetalheAuditoria",components:{BottomNav:je},data(){return{auditoria:{id:null,titulo:"",tipo:"",data:"",local:"",descricao:"",prioridade:"",especialistas:"",materiais:"",documentos:""},alteracoesPendentes:!1,darkMode:!0,especialistasDisponiveis:[],especialistasSelecionados:[],documentosAnexados:[],audioGravado:null,gravandoAudio:!1,mediaRecorder:null,mapa:null,mapLoaded:!1,marcador:null,documentoVisualizando:null,currentDocIndex:0,documentContent:"",imageZoom:1,tabs:[{label:"Geral",icon:"fas fa-info-circle"},{label:"Localização",icon:"fas fa-map-marker-alt"},{label:"Recursos",icon:"fas fa-users"},{label:"Anexos",icon:"fas fa-file-alt"}],activeTab:0}},computed:{dataFormatada:{get(){return this.auditoria.data?new Date(this.auditoria.data).toISOString().slice(0,16):""},set(t){this.auditoria.data=new Date(t).toISOString()}},isLargeContent(){return this.documentoVisualizando?this.isImageFile(this.documentoVisualizando)||this.isPDFFile(this.documentoVisualizando):!1}},mounted(){this.loadTheme(),this.carregarAuditoria(),this.loadData(),setTimeout(()=>{this.inicializarMapa()},100)},methods:{loadTheme(){const t=localStorage.getItem("theme");t&&(this.darkMode=t==="dark")},toggleTheme(){this.darkMode=!this.darkMode,localStorage.setItem("theme",this.darkMode?"dark":"light")},carregarAuditoria(){const t=this.$route.params.id,s=JSON.parse(localStorage.getItem("auditorias")||"[]").find(n=>n.id==t);s?this.auditoria={...s}:this.$router.back()},marcarAlteracoes(){this.alteracoesPendentes=!0,this.mapa&&setTimeout(()=>{this.atualizarMapa()},500)},guardarAlteracoes(){const t=JSON.parse(localStorage.getItem("auditorias")||"[]"),e=t.findIndex(s=>s.id==this.auditoria.id);if(e!==-1){t[e]={...this.auditoria},localStorage.setItem("auditorias",JSON.stringify(t)),this.alteracoesPendentes=!1;const s=document.querySelector(".save-btn");s.style.background="linear-gradient(135deg, #10b981, #059669)",setTimeout(()=>{s.style.background=""},1e3)}},concluirAuditoria(){if(confirm("Tem certeza que deseja marcar esta auditoria como concluída?")){let t=JSON.parse(localStorage.getItem("auditorias")||"[]");t=t.filter(s=>s.id!=this.auditoria.id),localStorage.setItem("auditorias",JSON.stringify(t));const e=JSON.parse(localStorage.getItem("auditoriasConcluidas")||"[]");e.push({...this.auditoria,dataConclusao:new Date().toISOString()}),localStorage.setItem("auditoriasConcluidas",JSON.stringify(e)),this.$router.push("/auditorias/concluidas")}},eliminarAuditoria(){if(confirm("Tem certeza que deseja eliminar esta auditoria? Esta ação não pode ser desfeita.")){let t=JSON.parse(localStorage.getItem("auditorias")||"[]");t=t.filter(e=>e.id!=this.auditoria.id),localStorage.setItem("auditorias",JSON.stringify(t)),this.$router.back()}},loadData(){this.especialistasDisponiveis=JSON.parse(localStorage.getItem("especialistas")||"[]")},adicionarEspecialista(t){this.especialistasSelecionados.find(e=>e.id===t.id)||(this.especialistasSelecionados.push(t),this.marcarAlteracoes())},removerEspecialista(t){this.especialistasSelecionados=this.especialistasSelecionados.filter(e=>e.id!==t.id),this.marcarAlteracoes()},setActiveTab(t){this.activeTab=t,this.$nextTick(()=>{this.scrollToActiveTab()})},scrollToActiveTab(){const t=this.$refs.tabsBar,e=this.$refs.tabBtns;if(!t||!e||!e[this.activeTab])return;const s=e[this.activeTab],n=t.getBoundingClientRect(),i=s.getBoundingClientRect();(i.left<n.left||i.right>n.right)&&t.scrollTo({left:s.offsetLeft-t.offsetWidth/2+s.offsetWidth/2,behavior:"smooth"})},anexarDocumento(t){Array.from(t.target.files).forEach(s=>{const n=new FileReader;n.onload=i=>{this.documentosAnexados.push({name:s.name,type:s.type,size:s.size,data:i.target.result}),this.marcarAlteracoes()},n.readAsDataURL(s)})},visualizarDocumento(t){this.documentoVisualizando=t,this.currentDocIndex=this.documentosAnexados.findIndex(e=>e===t),this.imageZoom=1,this.isTextFile(t)&&this.loadTextContent(t)},fecharModal(){this.documentoVisualizando=null,this.documentContent="",this.imageZoom=1},documentoAnterior(){this.currentDocIndex>0&&(this.currentDocIndex--,this.visualizarDocumento(this.documentosAnexados[this.currentDocIndex]))},proximoDocumento(){this.currentDocIndex<this.documentosAnexados.length-1&&(this.currentDocIndex++,this.visualizarDocumento(this.documentosAnexados[this.currentDocIndex]))},downloadDocumento(t){const e=document.createElement("a");e.href=t.data,e.download=t.name,e.click()},isImageFile(t){return t.type.startsWith("image/")},isPDFFile(t){return t.type==="application/pdf"},isTextFile(t){return t.type.startsWith("text/")||t.type==="application/json"||t.name.endsWith(".txt")||t.name.endsWith(".md")},getFileTypeDescription(t){const e={"application/pdf":"Documento PDF","application/msword":"Documento Word","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"Documento Word","application/vnd.ms-excel":"Planilha Excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"Planilha Excel","text/plain":"Arquivo de Texto","application/json":"Arquivo JSON"};return t.startsWith("image/")?"Imagem":t.startsWith("video/")?"Vídeo":t.startsWith("audio/")?"Áudio":e[t]||"Arquivo"},formatFileSize(t){if(t===0)return"0 Bytes";const e=1024,s=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,n)).toFixed(2))+" "+s[n]},loadTextContent(t){if(t.data.startsWith("data:text/")){const e=t.data.split(",")[1];try{this.documentContent=atob(e)}catch{this.documentContent="Erro ao carregar conteúdo do arquivo"}}},zoomIn(){this.imageZoom=Math.min(this.imageZoom*1.2,3),this.applyZoom()},zoomOut(){this.imageZoom=Math.max(this.imageZoom/1.2,.5),this.applyZoom()},resetZoom(){this.imageZoom=1,this.applyZoom()},applyZoom(){const t=document.querySelector(".document-image");t&&(t.style.transform=`scale(${this.imageZoom})`)},onImageLoad(){this.resetZoom()},getDocumentIcon(t){return t.includes("pdf")?"fas fa-file-pdf":t.includes("image")?"fas fa-file-image":t.includes("word")?"fas fa-file-word":"fas fa-file"},async toggleGravacao(){this.gravandoAudio?this.pararGravacao():await this.iniciarGravacao()},async inicializarMapa(){try{await new Ze({apiKey:"AIzaSyBdbfZcG0t6f5c3MI3RVA2Aj07IIdmkL9o",version:"weekly"}).load(),await this.iniciarMapa()}catch(t){console.error("Erro ao carregar Google Maps:",t),this.showMapError()}},async iniciarMapa(){if(!window.google||!window.google.maps){console.error("Google Maps não foi carregado corretamente"),this.showMapError();return}const t=new window.google.maps.Map(document.getElementById("detailMap"),{center:{lat:41.5454,lng:-8.4265},zoom:15,styles:this.darkMode?this.getDarkMapStyle():[],mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,zoomControl:!0,zoomControlOptions:{position:window.google.maps.ControlPosition.RIGHT_BOTTOM}});this.mapa=t,this.mapLoaded=!0,this.auditoria.local&&await this.adicionarMarcador()},async adicionarMarcador(){if(this.marcador&&this.marcador.setMap(null),!!this.auditoria.local)try{const t=encodeURIComponent(this.auditoria.local),s=await(await fetch(`https://nominatim.openstreetmap.org/search?q=${t}&format=json`)).json();if(s.length===0)return;const{lat:n,lon:i}=s[0],o={url:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png"};this.marcador=new window.google.maps.Marker({position:{lat:parseFloat(n),lng:parseFloat(i)},map:this.mapa,title:this.auditoria.titulo,icon:o});const l=`
          <div style="color: black; padding: 10px; font-family: 'Poppins', sans-serif;">
            <h3 style="margin: 0 0 8px 0; font-size: 16px;">${this.auditoria.titulo}</h3>
            <p style="margin: 0 0 4px 0; font-size: 14px;"><strong>Tipo:</strong> ${this.auditoria.tipo}</p>
            <p style="margin: 0; font-size: 14px;"><strong>Localização:</strong> ${this.auditoria.local}</p>
          </div>
        `,r=new window.google.maps.InfoWindow({content:l});this.marcador.addListener("click",()=>{r.open(this.mapa,this.marcador)}),this.mapa.setCenter({lat:parseFloat(n),lng:parseFloat(i)}),this.mapa.setZoom(16)}catch(t){console.error("Erro ao geocodificar endereço:",this.auditoria.local,t)}},getDarkMapStyle(){return[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}]},showMapError(){const t=document.getElementById("detailMap");t&&(t.innerHTML=`
          <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; color: #666;">
            <i class="fas fa-exclamation-triangle" style="font-size: 32px; margin-bottom: 16px;"></i>
            <p>Erro ao carregar o mapa</p>
            <small>Verifique a conexão com a internet</small>
          </div>
        `)},async atualizarMapa(){this.mapa&&this.auditoria.local&&await this.adicionarMarcador()},async iniciarGravacao(){try{const t=await navigator.mediaDevices.getUserMedia({audio:!0});this.mediaRecorder=new MediaRecorder(t);const e=[];this.mediaRecorder.ondataavailable=s=>{e.push(s.data)},this.mediaRecorder.onstop=()=>{const s=new Blob(e,{type:"audio/wav"}),n=URL.createObjectURL(s);this.audioGravado={url:n,blob:s,duration:Date.now()-this.inicioGravacao},this.marcarAlteracoes()},this.mediaRecorder.start(),this.gravandoAudio=!0,this.inicioGravacao=Date.now()}catch(t){console.error("Erro ao acessar microfone:",t),alert("Erro ao acessar o microfone. Verifique as permissões.")}},pararGravacao(){this.mediaRecorder&&this.gravandoAudio&&(this.mediaRecorder.stop(),this.gravandoAudio=!1,this.mediaRecorder.stream.getTracks().forEach(t=>t.stop()))},reproduzirAudio(){this.audioGravado&&new Audio(this.audioGravado.url).play()},removerAudio(){confirm("Remover gravação de áudio?")&&(this.audioGravado&&URL.revokeObjectURL(this.audioGravado.url),this.audioGravado=null,this.marcarAlteracoes())},formatarDuracao(t){const e=Math.floor(t/1e3),s=Math.floor(e/60),n=e%60;return`${s}:${n.toString().padStart(2,"0")}`}}},Sy={class:"detail-container"},Cy={class:"detail-header"},Ty={class:"header-actions"},Ay=["disabled"],ky={class:"tabs",ref:"tabsBar"},Ey=["onClick"],Py={class:"form-section"},My={class:"form-group"},Ry={class:"form-group"},Dy={class:"form-group"},xy={class:"form-group"},Oy={class:"form-group"},Ny={class:"form-group"},Ly={class:"form-group"},$y={class:"map-section"},Fy={key:0,class:"map-loading"},Uy={class:"form-group"},zy={class:"especialistas-selector"},By={class:"especialistas-disponiveis"},Vy={class:"especialista-list"},Hy=["onClick"],jy=["src","alt"],Wy={class:"especialistas-selecionados"},Gy={class:"especialista-list"},qy=["onClick"],Ky=["src","alt"],Jy={class:"form-group"},Zy={class:"form-group"},Yy={class:"documentos-section"},Xy={key:0,class:"documentos-anexados"},Qy={class:"documento-nome"},e_=["onClick"],t_=["onClick"],s_={class:"form-group"},i_={class:"audio-section"};function n_(t,e,s,n,i,o){const l=xe("BottomNav");return y(),_("div",{class:E(["login-bg",{"light-mode":!i.darkMode}])},[a("button",{class:"theme-toggle",onClick:e[0]||(e[0]=(...r)=>o.toggleTheme&&o.toggleTheme(...r))},[a("i",{class:E(i.darkMode?"fas fa-sun":"fas fa-moon")},null,2)]),a("div",Sy,[a("div",Cy,[a("button",{class:"back-btn",onClick:e[1]||(e[1]=r=>t.$router.back())},e[23]||(e[23]=[a("i",{class:"fas fa-arrow-left"},null,-1)])),e[26]||(e[26]=a("h2",{class:"detail-title"},"Detalhes da Auditoria",-1)),a("div",Ty,[a("button",{class:"header-btn save-btn",onClick:e[2]||(e[2]=(...r)=>o.guardarAlteracoes&&o.guardarAlteracoes(...r)),disabled:!i.alteracoesPendentes},e[24]||(e[24]=[a("i",{class:"fas fa-save"},null,-1)]),8,Ay),i.auditoria.estado!=="Concluída"?(y(),_("button",{key:0,class:"header-btn concluir-btn",onClick:e[3]||(e[3]=(...r)=>o.concluirAuditoria&&o.concluirAuditoria(...r)),title:"Concluir Auditoria"},e[25]||(e[25]=[a("i",{class:"fas fa-check"},null,-1)]))):V("",!0)])]),e[51]||(e[51]=a("div",{class:"status-section"},[a("div",{class:"status-badge"},[a("i",{class:"fas fa-play"}),a("span",null,"Em Progresso")])],-1)),a("div",ky,[(y(!0),_(ie,null,Te(i.tabs,(r,c)=>(y(),_("button",{key:c,class:E({active:i.activeTab===c}),onClick:u=>o.setActiveTab(c),ref_for:!0,ref:"tabBtns"},[a("i",{class:E(r.icon)},null,2),H(" "+b(r.label),1)],10,Ey))),128))],512),a("div",Py,[be(a("div",null,[a("div",My,[e[27]||(e[27]=a("label",{class:"form-label"},[a("i",{class:"fas fa-heading"}),H(" Título")],-1)),be(a("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=r=>i.auditoria.titulo=r),class:"form-input",onInput:e[5]||(e[5]=(...r)=>o.marcarAlteracoes&&o.marcarAlteracoes(...r))},null,544),[[$e,i.auditoria.titulo]])]),a("div",Ry,[e[29]||(e[29]=a("label",{class:"form-label"},[a("i",{class:"fas fa-tag"}),H(" Tipo")],-1)),be(a("select",{"onUpdate:modelValue":e[6]||(e[6]=r=>i.auditoria.tipo=r),class:"form-select",onChange:e[7]||(e[7]=(...r)=>o.marcarAlteracoes&&o.marcarAlteracoes(...r))},e[28]||(e[28]=[a("option",null,"Segurança Rodoviária",-1),a("option",null,"Infraestruturas",-1),a("option",null,"Ambiente",-1),a("option",null,"Urbanismo",-1)]),544),[[Ps,i.auditoria.tipo]])]),a("div",Dy,[e[30]||(e[30]=a("label",{class:"form-label"},[a("i",{class:"fas fa-calendar"}),H(" Data e Hora")],-1)),be(a("input",{type:"datetime-local","onUpdate:modelValue":e[8]||(e[8]=r=>o.dataFormatada=r),class:"form-input",onInput:e[9]||(e[9]=(...r)=>o.marcarAlteracoes&&o.marcarAlteracoes(...r))},null,544),[[$e,o.dataFormatada]])]),a("div",xy,[e[32]||(e[32]=a("label",{class:"form-label"},[a("i",{class:"fas fa-exclamation-triangle"}),H(" Prioridade")],-1)),be(a("select",{"onUpdate:modelValue":e[10]||(e[10]=r=>i.auditoria.prioridade=r),class:"form-select",onChange:e[11]||(e[11]=(...r)=>o.marcarAlteracoes&&o.marcarAlteracoes(...r))},e[31]||(e[31]=[a("option",null,"Baixa",-1),a("option",null,"Média",-1),a("option",null,"Alta",-1),a("option",null,"Crítica",-1)]),544),[[Ps,i.auditoria.prioridade]])]),a("div",Oy,[e[33]||(e[33]=a("label",{class:"form-label"},[a("i",{class:"fas fa-align-left"}),H(" Descrição")],-1)),be(a("textarea",{"onUpdate:modelValue":e[12]||(e[12]=r=>i.auditoria.descricao=r),class:"form-textarea",rows:"4",placeholder:"Descreva os detalhes da auditoria...",onInput:e[13]||(e[13]=(...r)=>o.marcarAlteracoes&&o.marcarAlteracoes(...r))},null,544),[[$e,i.auditoria.descricao]])])],512),[[Pi,i.activeTab===0]]),be(a("div",null,[a("div",Ny,[e[34]||(e[34]=a("label",{class:"form-label"},[a("i",{class:"fas fa-map-marker-alt"}),H(" Localização")],-1)),be(a("input",{type:"text","onUpdate:modelValue":e[14]||(e[14]=r=>i.auditoria.local=r),class:"form-input",placeholder:"Endereço ou coordenadas",onInput:e[15]||(e[15]=(...r)=>o.marcarAlteracoes&&o.marcarAlteracoes(...r))},null,544),[[$e,i.auditoria.local]])]),a("div",Ly,[e[37]||(e[37]=a("label",{class:"form-label"},[a("i",{class:"fas fa-map"}),H(" Mapa da Localização")],-1)),a("div",$y,[e[36]||(e[36]=a("div",{id:"detailMap",class:"map-container"},null,-1)),i.mapLoaded?V("",!0):(y(),_("div",Fy,e[35]||(e[35]=[a("i",{class:"fas fa-spinner fa-spin"},null,-1),a("p",null,"Carregando mapa...",-1)])))])])],512),[[Pi,i.activeTab===1]]),be(a("div",null,[a("div",Uy,[e[42]||(e[42]=a("label",{class:"form-label"},[a("i",{class:"fas fa-users"}),H(" Especialistas")],-1)),a("div",zy,[a("div",By,[e[39]||(e[39]=a("h5",null,"Disponíveis:",-1)),a("div",Vy,[(y(!0),_(ie,null,Te(i.especialistasDisponiveis,r=>(y(),_("div",{key:r.id,class:"especialista-item",onClick:c=>o.adicionarEspecialista(r)},[a("img",{src:r.avatar,alt:r.nome,class:"especialista-avatar"},null,8,jy),a("span",null,b(r.nome),1),e[38]||(e[38]=a("i",{class:"fas fa-plus"},null,-1))],8,Hy))),128))])]),a("div",Wy,[e[41]||(e[41]=a("h5",null,"Selecionados:",-1)),a("div",Gy,[(y(!0),_(ie,null,Te(i.especialistasSelecionados,r=>(y(),_("div",{key:r.id,class:"especialista-item selected",onClick:c=>o.removerEspecialista(r)},[a("img",{src:r.avatar,alt:r.nome,class:"especialista-avatar"},null,8,Ky),a("span",null,b(r.nome),1),e[40]||(e[40]=a("i",{class:"fas fa-times"},null,-1))],8,qy))),128))])])])]),a("div",Jy,[e[43]||(e[43]=a("label",{class:"form-label"},[a("i",{class:"fas fa-tools"}),H(" Materiais")],-1)),be(a("input",{type:"text","onUpdate:modelValue":e[16]||(e[16]=r=>i.auditoria.materiais=r),class:"form-input",placeholder:"Materiais necessários",onInput:e[17]||(e[17]=(...r)=>o.marcarAlteracoes&&o.marcarAlteracoes(...r))},null,544),[[$e,i.auditoria.materiais]])])],512),[[Pi,i.activeTab===2]]),be(a("div",null,[a("div",Zy,[e[47]||(e[47]=a("label",{class:"form-label"},[a("i",{class:"fas fa-file-alt"}),H(" Documentos")],-1)),a("div",Yy,[a("input",{type:"file",ref:"fileInput",onChange:e[18]||(e[18]=(...r)=>o.anexarDocumento&&o.anexarDocumento(...r)),multiple:"",accept:".pdf,.doc,.docx,.jpg,.png",style:{display:"none"}},null,544),a("button",{class:"anexar-btn",onClick:e[19]||(e[19]=r=>t.$refs.fileInput.click())},e[44]||(e[44]=[a("i",{class:"fas fa-paperclip"},null,-1),a("span",null,"Anexar Documento",-1)])),i.documentosAnexados.length?(y(),_("div",Xy,[(y(!0),_(ie,null,Te(i.documentosAnexados,(r,c)=>(y(),_("div",{key:c,class:"documento-item"},[a("i",{class:E(o.getDocumentIcon(r.type))},null,2),a("span",Qy,b(r.name),1),a("button",{class:"ver-documento",onClick:u=>o.visualizarDocumento(r)},e[45]||(e[45]=[a("i",{class:"fas fa-eye"},null,-1)]),8,e_),a("button",{class:"remover-documento",onClick:u=>t.removerDocumento(c)},e[46]||(e[46]=[a("i",{class:"fas fa-trash"},null,-1)]),8,t_)]))),128))])):V("",!0)])]),a("div",s_,[e[50]||(e[50]=a("label",{class:"form-label"},[a("i",{class:"fas fa-microphone"}),H(" Gravação de Áudio")],-1)),a("div",i_,[a("button",{class:E(["audio-btn record",{recording:i.gravandoAudio}]),onClick:e[20]||(e[20]=(...r)=>o.toggleGravacao&&o.toggleGravacao(...r))},[a("i",{class:E(i.gravandoAudio?"fas fa-stop":"fas fa-microphone")},null,2),a("span",null,b(i.gravandoAudio?"Parar":"Gravar"),1)],2),i.audioGravado?(y(),_("button",{key:0,class:"audio-btn play",onClick:e[21]||(e[21]=(...r)=>o.reproduzirAudio&&o.reproduzirAudio(...r))},e[48]||(e[48]=[a("i",{class:"fas fa-play"},null,-1),a("span",null,"Reproduzir",-1)]))):V("",!0),i.audioGravado?(y(),_("button",{key:1,class:"audio-btn delete",onClick:e[22]||(e[22]=(...r)=>o.removerAudio&&o.removerAudio(...r))},e[49]||(e[49]=[a("i",{class:"fas fa-trash"},null,-1),a("span",null,"Remover",-1)]))):V("",!0)])])],512),[[Pi,i.activeTab===3]])])]),ne(l)],2)}const o_=we(Iy,[["render",n_],["__scopeId","data-v-3b7dc3c4"]]),a_={name:"AuditoriaConcluidaDetalhe",components:{BottomNav:je},data(){return{auditoria:{id:null,titulo:"",tipo:"",data:"",local:"",descricao:"",prioridade:"",especialistas:"",materiais:"",documentos:"",origem:"",dataInicio:"",dataConclusao:""},darkMode:!0,especialistasEnvolvidos:[],documentosAnexados:[],audioGravacoes:[],documentoVisualizando:null,audioAtual:null,audioTocando:!1,currentDocIndex:0,documentContent:"",imageZoom:1,mapa:null,mapLoaded:!1,marcador:null}},mounted(){this.loadTheme(),this.carregarAuditoria(),setTimeout(()=>{this.inicializarMapa()},100)},computed:{isLargeContent(){return this.documentoVisualizando?this.isImageFile(this.documentoVisualizando)||this.isPDFFile(this.documentoVisualizando):!1}},methods:{loadTheme(){const t=localStorage.getItem("theme");t&&(this.darkMode=t==="dark")},toggleTheme(){this.darkMode=!this.darkMode,localStorage.setItem("theme",this.darkMode?"dark":"light")},carregarAuditoria(){const t=this.$route.params.id,s=JSON.parse(localStorage.getItem("auditoriasConcluidas")||"[]").find(n=>n.id==t);s?(this.auditoria={...s},s.especialistasSelecionados&&(this.especialistasEnvolvidos=s.especialistasSelecionados),s.documentosAnexados&&(this.documentosAnexados=s.documentosAnexados),s.audioGravacoes&&(this.audioGravacoes=s.audioGravacoes)):this.$router.back()},formatarDataCompleta(t){return t?new Date(t).toLocaleDateString("pt-PT",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):"Data não disponível"},formatarHora(t){if(!t)return"--:--";const e=new Date(t);return`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`},calcularDuracao(){if(!this.auditoria.dataInicio||!this.auditoria.dataConclusao)return"Não calculável";const t=new Date(this.auditoria.dataInicio),s=new Date(this.auditoria.dataConclusao)-t,n=Math.floor(s/(1e3*60*60*24));if(n===0){const i=Math.floor(s/36e5);return i>0?`${i} horas`:"Menos de 1 hora"}else return n===1?"1 dia":`${n} dias`},exportarRelatorio(){const t={titulo:this.auditoria.titulo,tipo:this.auditoria.tipo,data:this.formatarDataCompleta(this.auditoria.data),local:this.auditoria.local,descricao:this.auditoria.descricao,prioridade:this.auditoria.prioridade,duracao:this.calcularDuracao(),dataConclusao:this.formatarDataCompleta(this.auditoria.dataConclusao),especialistas:this.especialistasEnvolvidos.length,documentos:this.documentosAnexados.length,audios:this.audioGravacoes.length};console.log("Exportando relatório:",t),alert("Relatório exportado com sucesso! (Funcionalidade simulada)")},arquivarAuditoria(){confirm("Arquivar esta auditoria? Ela será movida para o arquivo.")&&alert("Auditoria arquivada com sucesso! (Funcionalidade simulada)")},getDocumentIcon(t){return t.includes("pdf")?"fas fa-file-pdf":t.includes("image")?"fas fa-file-image":t.includes("word")?"fas fa-file-word":"fas fa-file"},formatFileSize(t){if(t===0)return"0 Bytes";const e=1024,s=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,n)).toFixed(2))+" "+s[n]},visualizarDocumento(t){this.documentoVisualizando=t,this.currentDocIndex=this.documentosAnexados.findIndex(e=>e===t),this.imageZoom=1,this.isTextFile(t)&&this.loadTextContent(t)},fecharModal(){this.documentoVisualizando=null,this.documentContent="",this.imageZoom=1},documentoAnterior(){this.currentDocIndex>0&&(this.currentDocIndex--,this.visualizarDocumento(this.documentosAnexados[this.currentDocIndex]))},proximoDocumento(){this.currentDocIndex<this.documentosAnexados.length-1&&(this.currentDocIndex++,this.visualizarDocumento(this.documentosAnexados[this.currentDocIndex]))},isPDFFile(t){return t.type==="application/pdf"},isTextFile(t){return t.type.startsWith("text/")||t.type==="application/json"||t.name.endsWith(".txt")||t.name.endsWith(".md")},getFileTypeDescription(t){const e={"application/pdf":"Documento PDF","application/msword":"Documento Word","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"Documento Word","application/vnd.ms-excel":"Planilha Excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"Planilha Excel","text/plain":"Arquivo de Texto","application/json":"Arquivo JSON"};return t.startsWith("image/")?"Imagem":t.startsWith("video/")?"Vídeo":t.startsWith("audio/")?"Áudio":e[t]||"Arquivo"},loadTextContent(t){if(t.data.startsWith("data:text/")){const e=t.data.split(",")[1];try{this.documentContent=atob(e)}catch{this.documentContent="Erro ao carregar conteúdo do arquivo"}}},zoomIn(){this.imageZoom=Math.min(this.imageZoom*1.2,3),this.applyZoom()},zoomOut(){this.imageZoom=Math.max(this.imageZoom/1.2,.5),this.applyZoom()},resetZoom(){this.imageZoom=1,this.applyZoom()},applyZoom(){const t=document.querySelector(".document-image");t&&(t.style.transform=`scale(${this.imageZoom})`)},onImageLoad(){this.resetZoom()},downloadDocumento(t){const e=document.createElement("a");e.href=t.data,e.download=t.name,e.click()},formatarDuracao(t){if(!t)return"0:00";const e=Math.floor(t/1e3),s=Math.floor(e/60),n=e%60;return`${s}:${n.toString().padStart(2,"0")}`},reproduzirAudio(t){this.audioAtual===t&&this.audioTocando?(this.$refs.audioPlayer.pause(),this.audioTocando=!1):(this.$refs.audioPlayer.src=t.url,this.$refs.audioPlayer.play(),this.audioAtual=t,this.audioTocando=!0)},downloadAudio(t){const e=document.createElement("a");e.href=t.url,e.download=`gravacao_${Date.now()}.wav`,e.click()},async inicializarMapa(){try{await new Ze({apiKey:"AIzaSyBdbfZcG0t6f5c3MI3RVA2Aj07IIdmkL9o",version:"weekly"}).load(),await this.iniciarMapa()}catch(t){console.error("Erro ao carregar Google Maps:",t),this.showMapError()}},async iniciarMapa(){if(!window.google||!window.google.maps){console.error("Google Maps não foi carregado corretamente"),this.showMapError();return}const t=new window.google.maps.Map(document.getElementById("completedAuditMap"),{center:{lat:41.5454,lng:-8.4265},zoom:15,styles:this.darkMode?this.getDarkMapStyle():[],mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,zoomControl:!0,zoomControlOptions:{position:window.google.maps.ControlPosition.RIGHT_BOTTOM}});this.mapa=t,this.mapLoaded=!0,this.auditoria.local&&await this.adicionarMarcador()},async adicionarMarcador(){if(this.marcador&&this.marcador.setMap(null),!!this.auditoria.local)try{const t=encodeURIComponent(this.auditoria.local),s=await(await fetch(`https://nominatim.openstreetmap.org/search?q=${t}&format=json`)).json();if(s.length===0)return;const{lat:n,lon:i}=s[0],o={url:"http://maps.google.com/mapfiles/ms/icons/green-dot.png"};this.marcador=new window.google.maps.Marker({position:{lat:parseFloat(n),lng:parseFloat(i)},map:this.mapa,title:this.auditoria.titulo,icon:o});const l=`
          <div style="color: black; padding: 10px; font-family: 'Poppins', sans-serif;">
            <h3 style="margin: 0 0 8px 0; font-size: 16px;">${this.auditoria.titulo}</h3>
            <p style="margin: 0 0 4px 0; font-size: 14px;"><strong>Tipo:</strong> ${this.auditoria.tipo}</p>
            <p style="margin: 0 0 4px 0; font-size: 14px;"><strong>Localização:</strong> ${this.auditoria.local}</p>
            <p style="margin: 0; font-size: 14px;"><strong>Status:</strong> Concluída</p>
          </div>
        `,r=new window.google.maps.InfoWindow({content:l});this.marcador.addListener("click",()=>{r.open(this.mapa,this.marcador)}),this.mapa.setCenter({lat:parseFloat(n),lng:parseFloat(i)}),this.mapa.setZoom(16)}catch(t){console.error("Erro ao geocodificar endereço:",this.auditoria.local,t)}},getDarkMapStyle(){return[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}]},showMapError(){const t=document.getElementById("completedAuditMap");t&&(t.innerHTML=`
          <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; color: #666;">
            <i class="fas fa-exclamation-triangle" style="font-size: 32px; margin-bottom: 16px;"></i>
            <p>Erro ao carregar o mapa</p>
            <small>Verifique a conexão com a internet</small>
          </div>
        `)}}},r_={class:"page-container"},l_={class:"page-header"},c_={class:"status-section"},u_={class:"completion-date"},d_={class:"info-section"},f_={class:"info-card"},h_={class:"info-header"},p_={class:"info-title"},m_={class:"info-type completed"},g_={class:"info-details"},v_={class:"info-item"},b_={class:"info-item"},y_={key:0,class:"info-item"},__={key:1,class:"map-section"},w_={key:0,class:"map-loading"},I_={class:"info-item"},S_={key:2,class:"info-item"},C_={class:"description-card"},T_={class:"description-text"},A_={key:0,class:"detail-card"},k_={class:"especialistas-list"},E_=["src","alt"],P_={class:"especialista-info"},M_={class:"especialista-nome"},R_={class:"especialista-area"},D_={key:1,class:"detail-card"},x_={class:"detail-text"},O_={key:2,class:"detail-card"},N_={class:"documentos-list"},L_=["onClick"],$_={class:"documento-info"},F_={class:"documento-nome"},U_={class:"documento-size"},z_={key:3,class:"detail-card"},B_={class:"audio-list"},V_={class:"audio-info"},H_={class:"audio-duration"},j_={class:"audio-controls"},W_=["onClick"],G_=["onClick"],q_={key:4,class:"detail-card"},K_={class:"detail-text"},J_={class:"summary-card"},Z_={class:"summary-stats"},Y_={class:"summary-item"},X_={class:"summary-value"},Q_={key:0,class:"summary-item"},e0={class:"summary-value"},t0={key:1,class:"summary-item"},s0={class:"summary-value"},i0={class:"actions-section"},n0={class:"modal-header"},o0={class:"modal-title-section"},a0={class:"modal-title"},r0={class:"modal-subtitle"},l0={class:"modal-controls"},c0=["disabled"],u0={key:1,class:"modal-counter"},d0=["disabled"],f0={class:"modal-content"},h0={class:"document-viewer"},p0={key:0,class:"image-viewer"},m0=["src","alt"],g0={class:"image-controls"},v0={key:1,class:"pdf-viewer"},b0=["src"],y0={key:2,class:"text-viewer"},_0=["innerHTML"],w0={key:3,class:"file-preview"},I0={class:"file-icon-large"},S0={class:"file-info"},C0={class:"file-type"},T0={class:"file-size"};function A0(t,e,s,n,i,o){const l=xe("BottomNav");return y(),_("div",{class:E(["login-bg",{"light-mode":!i.darkMode}])},[a("button",{class:"theme-toggle",onClick:e[0]||(e[0]=(...r)=>o.toggleTheme&&o.toggleTheme(...r))},[a("i",{class:E(i.darkMode?"fas fa-sun":"fas fa-moon")},null,2)]),a("div",r_,[a("div",l_,[a("button",{class:"back-btn",onClick:e[1]||(e[1]=r=>t.$router.back())},e[15]||(e[15]=[a("i",{class:"fas fa-arrow-left"},null,-1)])),e[16]||(e[16]=a("h2",{class:"page-title"},"Auditoria Concluída",-1)),e[17]||(e[17]=a("div",{class:"header-badge"},[a("i",{class:"fas fa-check"})],-1))]),a("div",c_,[e[18]||(e[18]=a("div",{class:"status-badge completed"},[a("i",{class:"fas fa-check-circle"}),a("span",null,"Concluída")],-1)),a("div",u_,[a("span",null,"Finalizada em "+b(o.formatarDataCompleta(i.auditoria.dataConclusao)),1)])]),a("div",d_,[a("div",f_,[a("div",h_,[a("h3",p_,b(i.auditoria.titulo),1),a("span",m_,b(i.auditoria.tipo),1)]),a("div",g_,[a("div",v_,[e[19]||(e[19]=a("i",{class:"fas fa-calendar"},null,-1)),a("span",null,b(o.formatarDataCompleta(i.auditoria.data)),1)]),a("div",b_,[e[20]||(e[20]=a("i",{class:"fas fa-clock"},null,-1)),a("span",null,b(o.formatarHora(i.auditoria.data)),1)]),i.auditoria.local?(y(),_("div",y_,[e[21]||(e[21]=a("i",{class:"fas fa-map-marker-alt"},null,-1)),a("span",null,b(i.auditoria.local||"Localização não definida"),1)])):V("",!0),i.auditoria.local?(y(),_("div",__,[e[23]||(e[23]=a("h4",{class:"map-title"},[a("i",{class:"fas fa-map"}),H(" Localização no Mapa ")],-1)),e[24]||(e[24]=a("div",{id:"completedAuditMap",class:"map-container"},null,-1)),i.mapLoaded?V("",!0):(y(),_("div",w_,e[22]||(e[22]=[a("i",{class:"fas fa-spinner fa-spin"},null,-1),a("p",null,"Carregando mapa...",-1)])))])):V("",!0),a("div",I_,[e[25]||(e[25]=a("i",{class:"fas fa-exclamation-triangle"},null,-1)),a("span",null,"Prioridade: "+b(i.auditoria.prioridade),1)]),i.auditoria.dataInicio?(y(),_("div",S_,[e[26]||(e[26]=a("i",{class:"fas fa-play"},null,-1)),a("span",null,"Iniciada em "+b(o.formatarDataCompleta(i.auditoria.dataInicio)),1)])):V("",!0)])]),a("div",C_,[e[27]||(e[27]=a("h4",{class:"description-title"},[a("i",{class:"fas fa-align-left"}),H(" Descrição ")],-1)),a("p",T_,b(i.auditoria.descricao||"Sem descrição disponível"),1)]),i.especialistasEnvolvidos.length>0?(y(),_("div",A_,[e[28]||(e[28]=a("h4",{class:"detail-title"},[a("i",{class:"fas fa-users"}),H(" Especialistas Envolvidos ")],-1)),a("div",k_,[(y(!0),_(ie,null,Te(i.especialistasEnvolvidos,r=>(y(),_("div",{key:r.id,class:"especialista-item readonly"},[a("img",{src:r.avatar,alt:r.nome,class:"especialista-avatar"},null,8,E_),a("div",P_,[a("span",M_,b(r.nome),1),a("span",R_,b(r.area),1)])]))),128))])])):V("",!0),i.auditoria.materiais?(y(),_("div",D_,[e[29]||(e[29]=a("h4",{class:"detail-title"},[a("i",{class:"fas fa-tools"}),H(" Materiais ")],-1)),a("p",x_,b(i.auditoria.materiais),1)])):V("",!0),i.documentosAnexados.length>0?(y(),_("div",O_,[e[31]||(e[31]=a("h4",{class:"detail-title"},[a("i",{class:"fas fa-file-alt"}),H(" Documentos Anexados ")],-1)),a("div",N_,[(y(!0),_(ie,null,Te(i.documentosAnexados,(r,c)=>(y(),_("div",{key:c,class:"documento-item readonly",onClick:u=>o.visualizarDocumento(r)},[a("i",{class:E([o.getDocumentIcon(r.type),"documento-icon"])},null,2),a("div",$_,[a("span",F_,b(r.name),1),a("span",U_,b(o.formatFileSize(r.size)),1)]),e[30]||(e[30]=a("button",{class:"ver-documento"},[a("i",{class:"fas fa-eye"})],-1))],8,L_))),128))])])):V("",!0),i.audioGravacoes.length>0?(y(),_("div",z_,[e[34]||(e[34]=a("h4",{class:"detail-title"},[a("i",{class:"fas fa-microphone"}),H(" Gravações de Áudio ")],-1)),a("div",B_,[(y(!0),_(ie,null,Te(i.audioGravacoes,(r,c)=>(y(),_("div",{key:c,class:"audio-item readonly"},[a("div",V_,[e[32]||(e[32]=a("i",{class:"fas fa-volume-up"},null,-1)),a("span",null,"Gravação "+b(c+1),1),a("span",H_,b(o.formatarDuracao(r.duration)),1)]),a("div",j_,[a("button",{onClick:u=>o.reproduzirAudio(r),class:"audio-control-btn"},[a("i",{class:E(i.audioAtual===r&&i.audioTocando?"fas fa-pause":"fas fa-play")},null,2)],8,W_),a("button",{onClick:u=>o.downloadAudio(r),class:"audio-control-btn"},e[33]||(e[33]=[a("i",{class:"fas fa-download"},null,-1)]),8,G_)])]))),128))])])):V("",!0),i.auditoria.origem?(y(),_("div",q_,[e[35]||(e[35]=a("h4",{class:"detail-title"},[a("i",{class:"fas fa-info-circle"}),H(" Origem ")],-1)),a("p",K_,b(i.auditoria.origem),1)])):V("",!0),a("div",J_,[e[40]||(e[40]=a("h4",{class:"summary-title"},[a("i",{class:"fas fa-clipboard-check"}),H(" Resumo da Conclusão ")],-1)),a("div",Z_,[a("div",Y_,[e[36]||(e[36]=a("span",{class:"summary-label"},"Duração",-1)),a("span",X_,b(o.calcularDuracao()),1)]),e[39]||(e[39]=a("div",{class:"summary-item"},[a("span",{class:"summary-label"},"Status"),a("span",{class:"summary-value success"},"Finalizada com Sucesso")],-1)),i.documentosAnexados.length>0?(y(),_("div",Q_,[e[37]||(e[37]=a("span",{class:"summary-label"},"Documentos",-1)),a("span",e0,b(i.documentosAnexados.length)+" anexado(s)",1)])):V("",!0),i.audioGravacoes.length>0?(y(),_("div",t0,[e[38]||(e[38]=a("span",{class:"summary-label"},"Gravações",-1)),a("span",s0,b(i.audioGravacoes.length)+" áudio(s)",1)])):V("",!0)])])]),a("div",i0,[a("button",{class:"action-btn export",onClick:e[2]||(e[2]=(...r)=>o.exportarRelatorio&&o.exportarRelatorio(...r))},e[41]||(e[41]=[a("i",{class:"fas fa-download"},null,-1),a("span",null,"Exportar Relatório",-1)])),a("button",{class:"action-btn archive",onClick:e[3]||(e[3]=(...r)=>o.arquivarAuditoria&&o.arquivarAuditoria(...r))},e[42]||(e[42]=[a("i",{class:"fas fa-archive"},null,-1),a("span",null,"Arquivar",-1)]))])]),i.documentoVisualizando?(y(),_("div",{key:0,class:"modal-overlay",onClick:e[13]||(e[13]=Wt((...r)=>o.fecharModal&&o.fecharModal(...r),["self"]))},[a("div",{class:E(["modal-container",{"modal-large":o.isLargeContent}])},[a("div",n0,[a("div",o0,[a("h3",a0,b(i.documentoVisualizando.name),1),a("span",r0,b(o.formatFileSize(i.documentoVisualizando.size)),1)]),a("div",l0,[i.documentosAnexados.length>1?(y(),_("button",{key:0,class:"modal-nav-btn",onClick:e[4]||(e[4]=(...r)=>o.documentoAnterior&&o.documentoAnterior(...r)),disabled:i.currentDocIndex===0},e[43]||(e[43]=[a("i",{class:"fas fa-chevron-left"},null,-1)]),8,c0)):V("",!0),i.documentosAnexados.length>1?(y(),_("span",u0,b(i.currentDocIndex+1)+" / "+b(i.documentosAnexados.length),1)):V("",!0),i.documentosAnexados.length>1?(y(),_("button",{key:2,class:"modal-nav-btn",onClick:e[5]||(e[5]=(...r)=>o.proximoDocumento&&o.proximoDocumento(...r)),disabled:i.currentDocIndex===i.documentosAnexados.length-1},e[44]||(e[44]=[a("i",{class:"fas fa-chevron-right"},null,-1)]),8,d0)):V("",!0),a("button",{class:"modal-action-btn download",onClick:e[6]||(e[6]=r=>o.downloadDocumento(i.documentoVisualizando)),title:"Download"},e[45]||(e[45]=[a("i",{class:"fas fa-download"},null,-1)])),a("button",{class:"modal-action-btn close",onClick:e[7]||(e[7]=(...r)=>o.fecharModal&&o.fecharModal(...r)),title:"Fechar"},e[46]||(e[46]=[a("i",{class:"fas fa-times"},null,-1)]))])]),a("div",f0,[a("div",h0,[t.isImageFile(i.documentoVisualizando)?(y(),_("div",p0,[a("img",{src:i.documentoVisualizando.data,alt:i.documentoVisualizando.name,class:"document-image",onLoad:e[8]||(e[8]=(...r)=>o.onImageLoad&&o.onImageLoad(...r))},null,40,m0),a("div",g0,[a("button",{class:"image-control-btn",onClick:e[9]||(e[9]=(...r)=>o.zoomIn&&o.zoomIn(...r)),title:"Zoom In"},e[47]||(e[47]=[a("i",{class:"fas fa-search-plus"},null,-1)])),a("button",{class:"image-control-btn",onClick:e[10]||(e[10]=(...r)=>o.zoomOut&&o.zoomOut(...r)),title:"Zoom Out"},e[48]||(e[48]=[a("i",{class:"fas fa-search-minus"},null,-1)])),a("button",{class:"image-control-btn",onClick:e[11]||(e[11]=(...r)=>o.resetZoom&&o.resetZoom(...r)),title:"Tamanho Original"},e[49]||(e[49]=[a("i",{class:"fas fa-expand-arrows-alt"},null,-1)]))])])):o.isPDFFile(i.documentoVisualizando)?(y(),_("div",v0,[a("iframe",{src:i.documentoVisualizando.data,class:"pdf-frame",title:"Visualizador de PDF"},null,8,b0),e[50]||(e[50]=a("div",{class:"pdf-fallback"},[a("i",{class:"fas fa-file-pdf"}),a("p",null,"Visualizador de PDF"),a("small",null,"Se o PDF não carregar, use o botão de download")],-1))])):o.isTextFile(i.documentoVisualizando)?(y(),_("div",y0,[a("div",{class:"text-content",innerHTML:i.documentContent},null,8,_0)])):(y(),_("div",w0,[a("div",I0,[a("i",{class:E(o.getDocumentIcon(i.documentoVisualizando.type))},null,2)]),a("div",S0,[a("h4",null,b(i.documentoVisualizando.name),1),a("p",C0,b(o.getFileTypeDescription(i.documentoVisualizando.type)),1),a("p",T0,b(o.formatFileSize(i.documentoVisualizando.size)),1)]),a("button",{class:"preview-download-btn",onClick:e[12]||(e[12]=r=>o.downloadDocumento(i.documentoVisualizando))},e[51]||(e[51]=[a("i",{class:"fas fa-download"},null,-1),a("span",null,"Baixar Arquivo",-1)]))]))])])],2)])):V("",!0),a("audio",{ref:"audioPlayer",onEnded:e[14]||(e[14]=r=>i.audioTocando=!1)},null,544),ne(l)],2)}const k0=we(a_,[["render",A0],["__scopeId","data-v-715ff49b"]]),E0=[{id:1,titulo:"Queda de Árvore",tipo:"Infraestrutura",data:"2024-02-24T15:45:00",local:"Braga"},{id:2,titulo:"Desabamento de Muro",tipo:"Infraestrutura",data:"2024-03-10T17:00:00",local:"Guimarães"}],P0={name:"DetalheNovaAuditoria",components:{BottomNav:je},data(){return{auditoria:null,horaFormatada:"",mapa:null,darkMode:!0}},mounted(){var s,n;this.loadTheme();const t=this.$route.params.id,e=JSON.parse(localStorage.getItem("auditoriasNovas")||JSON.stringify(E0));if(this.auditoria=e.find(i=>i.id.toString()===t)||null,(s=this.auditoria)!=null&&s.data){const i=new Date(this.auditoria.data);this.horaFormatada=`${i.getHours().toString().padStart(2,"0")}:${i.getMinutes().toString().padStart(2,"0")}`}(n=this.auditoria)!=null&&n.especialistas&&typeof this.auditoria.especialistas=="string"&&(this.auditoria.especialistas=this.auditoria.especialistas.split(",").map(i=>i.trim())),this.carregarMapa()},methods:{toggleTheme(){this.darkMode=!this.darkMode,localStorage.setItem("theme",this.darkMode?"dark":"light")},loadTheme(){const t=localStorage.getItem("theme");t&&(this.darkMode=t==="dark")},async carregarMapa(){var t;if((t=this.auditoria)!=null&&t.local)try{await new Ze({apiKey:"AIzaSyBdbfZcG0t6f5c3MI3RVA2Aj07IIdmkL9o",version:"weekly"}).load(),new google.maps.Geocoder().geocode({address:this.auditoria.local},(n,i)=>{if(i==="OK"&&n[0]){const o=n[0].geometry.location;this.mapa=new google.maps.Map(document.getElementById("map"),{center:o,zoom:16}),new google.maps.Marker({position:o,map:this.mapa,title:this.auditoria.titulo})}})}catch(e){console.error(e)}},aceitarAuditoria(){},rejeitarAuditoria(){}}},M0={class:"page-container"},R0={class:"page-header"},D0={class:"page-title"},x0={key:0,class:"form-section"},O0={class:"form-group"},N0=["value"],L0={class:"form-group"},$0=["value"],F0={class:"form-group"},U0=["value"],z0={class:"form-group"},B0=["value"],V0={class:"form-group"},H0=["value"],j0={class:"form-group"},W0=["value"],G0={class:"form-group"},q0=["value"],K0={class:"form-group"},J0=["href"],Z0={key:1,class:"text-muted-foreground"},Y0={class:"actions-section"};function X0(t,e,s,n,i,o){var r,c;const l=xe("BottomNav");return y(),_("div",{class:E(["login-bg",{"light-mode":!i.darkMode}])},[a("button",{class:"theme-toggle",onClick:e[0]||(e[0]=(...u)=>o.toggleTheme&&o.toggleTheme(...u))},[a("i",{class:E(i.darkMode?"fas fa-sun":"fas fa-moon")},null,2)]),a("div",M0,[a("div",R0,[a("button",{class:"back-btn",onClick:e[1]||(e[1]=u=>t.$router.back())},e[4]||(e[4]=[a("i",{class:"fas fa-arrow-left"},null,-1)])),a("h2",D0,b(((r=i.auditoria)==null?void 0:r.titulo)||"Auditoria"),1),e[5]||(e[5]=a("div",{style:{width:"40px"}},null,-1))]),i.auditoria?(y(),_("div",x0,[a("div",O0,[e[6]||(e[6]=a("label",{class:"form-label"},[a("i",{class:"fas fa-tag"}),H(" Tipo ")],-1)),a("input",{type:"text",value:i.auditoria.tipo,class:"form-input",readonly:""},null,8,N0)]),a("div",L0,[e[7]||(e[7]=a("label",{class:"form-label"},[a("i",{class:"fas fa-clock"}),H(" Hora ")],-1)),a("input",{type:"text",value:i.horaFormatada,class:"form-input",readonly:""},null,8,$0)]),a("div",F0,[e[8]||(e[8]=a("label",{class:"form-label"},[a("i",{class:"fas fa-map-marker-alt"}),H(" Localização ")],-1)),a("input",{type:"text",value:i.auditoria.local||"---",class:"form-input",readonly:""},null,8,U0)]),e[15]||(e[15]=zt('<div class="form-group"><label class="form-label"><i class="fas fa-map"></i> Mapa da Localização </label><div class="map-section"><div id="map" class="map-container"></div></div></div>',1)),a("div",z0,[e[9]||(e[9]=a("label",{class:"form-label"},[a("i",{class:"fas fa-align-left"}),H(" Descrição ")],-1)),a("textarea",{class:"form-textarea",value:i.auditoria.descricao||"Sem descrição.",rows:"4",readonly:""},null,8,B0)]),a("div",V0,[e[10]||(e[10]=a("label",{class:"form-label"},[a("i",{class:"fas fa-exclamation-triangle"}),H(" Prioridade ")],-1)),a("input",{type:"text",value:i.auditoria.prioridade||"---",class:"form-input",readonly:""},null,8,H0)]),a("div",j0,[e[11]||(e[11]=a("label",{class:"form-label"},[a("i",{class:"fas fa-users"}),H(" Especialistas ")],-1)),a("input",{type:"text",value:((c=i.auditoria.especialistas)==null?void 0:c.join(", "))||"---",class:"form-input",readonly:""},null,8,W0)]),a("div",G0,[e[12]||(e[12]=a("label",{class:"form-label"},[a("i",{class:"fas fa-tools"}),H(" Materiais ")],-1)),a("input",{type:"text",value:i.auditoria.materiais||"---",class:"form-input",readonly:""},null,8,q0)]),a("div",K0,[e[14]||(e[14]=a("label",{class:"form-label"},[a("i",{class:"fas fa-file-alt"}),H(" Documento ")],-1)),a("div",null,[i.auditoria.documentoBase64?(y(),_("a",{key:0,href:i.auditoria.documentoBase64,target:"_blank",class:"anexar-btn"},e[13]||(e[13]=[a("i",{class:"fas fa-eye"},null,-1),a("span",null,"Ver ficheiro",-1)]),8,J0)):(y(),_("span",Z0,"Sem documento"))])])])):V("",!0),a("div",Y0,[a("button",{class:"action-btn complete",onClick:e[2]||(e[2]=(...u)=>o.aceitarAuditoria&&o.aceitarAuditoria(...u))},e[16]||(e[16]=[a("i",{class:"fas fa-check"},null,-1),a("span",null,"Aceitar",-1)])),a("button",{class:"action-btn danger",onClick:e[3]||(e[3]=(...u)=>o.rejeitarAuditoria&&o.rejeitarAuditoria(...u))},e[17]||(e[17]=[a("i",{class:"fas fa-trash"},null,-1),a("span",null,"Rejeitar",-1)]))]),ne(l)])],2)}const Q0=we(P0,[["render",X0]]),ew={},tw={class:"nav-bar"};function sw(t,e){return y(),_("div",tw,[a("i",{class:"fas fa-map-marker-alt nav-icon",onClick:e[0]||(e[0]=s=>t.$router.push("/mapa"))}),a("i",{class:"fas fa-file-alt nav-icon",onClick:e[1]||(e[1]=s=>t.$router.push("/aDecorrer"))}),a("div",{class:"nav-circle",onClick:e[2]||(e[2]=s=>t.$router.push("/home"))},e[5]||(e[5]=[a("i",{class:"fas fa-home"},null,-1)])),a("i",{class:"fas fa-plus nav-icon",onClick:e[3]||(e[3]=s=>t.$router.push("/novas"))}),a("i",{class:"fas fa-user nav-icon",onClick:e[4]||(e[4]=s=>t.$router.push("/perfil"))})])}const iw=we(ew,[["render",sw],["__scopeId","data-v-e63a912c"]]),nw={name:"Definicoes",components:{NavBar:iw},data(){return{user:{name:"",avatar:""},notificacoesAtivas:!0,modalAberto:!1,modalTitulo:"",modalTexto:""}},mounted(){const t=localStorage.getItem("user");t&&(this.user=JSON.parse(t))},methods:{terminarSessao(){localStorage.removeItem("user"),this.$router.push("/")},abrirModal(t){t==="termos"?(this.modalTitulo="Termos de Utilização e Política de Privacidade",this.modalTexto=`
        <b>Termos de Utilização</b><br>
        Esta aplicação foi desenvolvida para facilitar a gestão de auditorias e ocorrências. Ao utilizar a aplicação, assumes o compromisso de fornecer informações verdadeiras e utilizar as funcionalidades de forma responsável.<br><br>
        Não é permitido o uso da app para fins ilícitos ou para comprometer a segurança de outros utilizadores.<br>
        Reservamo-nos o direito de atualizar estes termos sem aviso prévio.<br><br>
        <b>Política de Privacidade</b><br>
        Respeitamos a tua privacidade! Todos os dados inseridos são armazenados apenas no teu dispositivo. Não partilhamos, vendemos ou transmitimos qualquer informação pessoal a terceiros. Podes apagar os teus dados a qualquer momento terminando a sessão ou removendo a app.
      `):t==="privacidade"?(this.modalTitulo="Privacidade",this.modalTexto=`
        <b>Privacidade dos teus dados</b><br>
        - Todos os dados ficam guardados apenas no teu dispositivo (localStorage).<br>
        - Não recolhemos informações pessoais nem monitorizamos a tua utilização da app.<br>
        - Para mais segurança, evita partilhar as tuas credenciais.<br>
        - Em caso de dúvida, contacta-nos pelo email indicado.
      `):t==="contacto"&&(this.modalTitulo="Contacte-nos",this.modalTexto=`
        <p>Em caso de dúvida, sugestão ou necessidade de apoio técnico, envia um email para 
        <a href="mailto:suporte@aplicacao.pt">suporte@aplicacao.pt</a> ou telefona para 212 345 678.</p>
      `),this.modalAberto=!0},fecharModal(){this.modalAberto=!1}}},ow={class:"definicoes-bg"},aw={class:"definicoes-header"},rw={class:"definicoes-avatar"},lw=["src"],cw={class:"definicoes-nome"},uw={class:"definicoes-opcoes"},dw={class:"definicoes-btn",style:{"justify-content":"space-between"}},fw={class:"definicoes-switch"},hw={class:"modal-conteudo"},pw=["innerHTML"];function mw(t,e,s,n,i,o){const l=xe("NavBar");return y(),_("div",ow,[a("div",aw,[a("button",{class:"back-btn",onClick:e[0]||(e[0]=r=>t.$router.back())},e[8]||(e[8]=[a("i",{class:"fas fa-arrow-left"},null,-1)])),e[9]||(e[9]=a("span",{class:"definicoes-title"},"Definições",-1)),e[10]||(e[10]=a("button",{class:"menu-btn"},[a("i",{class:"fas fa-ellipsis-v"})],-1))]),a("div",rw,[a("img",{src:`../assets/${i.user.avatar}`,alt:"Foto de perfil"},null,8,lw)]),a("h2",cw,b(i.user.name),1),a("div",uw,[a("button",dw,[e[12]||(e[12]=a("span",{style:{display:"flex","align-items":"center",gap:"10px"}},[a("i",{class:"fas fa-bell"}),a("span",null,"Notificações")],-1)),a("span",fw,[be(a("input",{type:"checkbox",class:"switch-checkbox","onUpdate:modelValue":e[1]||(e[1]=r=>i.notificacoesAtivas=r),id:"switchNotif"},null,512),[[hf,i.notificacoesAtivas]]),e[11]||(e[11]=a("span",{class:"switch-slider"},null,-1))])]),a("button",{class:"definicoes-btn",onClick:e[2]||(e[2]=r=>o.abrirModal("privacidade"))},e[13]||(e[13]=[a("i",{class:"fas fa-key"},null,-1),a("span",null,"Privacidade",-1)])),a("button",{class:"definicoes-btn",onClick:e[3]||(e[3]=r=>o.abrirModal("termos"))},e[14]||(e[14]=[a("i",{class:"fas fa-file-alt"},null,-1),a("span",null,"Termos de uso e política de privacidade",-1)])),a("button",{class:"definicoes-btn",onClick:e[4]||(e[4]=r=>o.abrirModal("contacto"))},e[15]||(e[15]=[a("i",{class:"fas fa-envelope"},null,-1),a("span",null,"Contacte-nos",-1)]))]),a("button",{class:"definicoes-logout",onClick:e[5]||(e[5]=(...r)=>o.terminarSessao&&o.terminarSessao(...r))},e[16]||(e[16]=[a("i",{class:"fas fa-sign-out-alt"},null,-1),H(" Terminar Sessão ")])),i.modalAberto?(y(),_("div",{key:0,class:"modal-overlay",onClick:e[7]||(e[7]=Wt((...r)=>o.fecharModal&&o.fecharModal(...r),["self"]))},[a("div",hw,[a("h3",null,b(i.modalTitulo),1),a("div",{class:"modal-texto",innerHTML:i.modalTexto},null,8,pw),a("button",{class:"modal-fechar",onClick:e[6]||(e[6]=(...r)=>o.fecharModal&&o.fecharModal(...r))},"Fechar")])])):V("",!0),ne(l)])}const gw=we(nw,[["render",mw],["__scopeId","data-v-ad7ea0ab"]]),vw={name:"HomeView",data(){return{user:{name:"",avatar:""},auditoriasNovas:[],notificacoesAbertas:!1,focusedNotifId:null}},computed:{currentDate(){return new Date().toLocaleDateString("pt-PT",{weekday:"long",day:"numeric",month:"long"})}},mounted(){const t=localStorage.getItem("user");t&&(this.user=JSON.parse(t));const e=localStorage.getItem("auditoriasNovas");e&&(this.auditoriasNovas=JSON.parse(e)),console.log("Auditorias Novas:",this.auditoriasNovas)},methods:{handleNotificationClick(t){this.notificacoesAbertas?this.focusedNotifId===t?this.irParaDetalhe(t):(this.focusedNotifId=t,setTimeout(()=>{this.focusedNotifId===t&&(this.focusedNotifId=null)},2e3)):(this.notificacoesAbertas=!0,setTimeout(()=>{this.notificacoesAbertas=!1,this.focusedNotifId=null},8e3))},irParaDetalhe(t){this.focusedNotifId=null,this.notificacoesAbertas=!1,this.$router.push(`/auditoriasnovas/${t}`)}}},bw={class:"home-container"},yw={class:"main-content"},_w={class:"profile-header"},ww={class:"user-section"},Iw={class:"greeting-container"},Sw={class:"user-greeting"},Cw={class:"current-date"},Tw={class:"avatar-container"},Aw=["src","alt"],kw={class:"notifications-section"},Ew={class:"section-header"},Pw={key:0,class:"notification-badge"},Mw={class:"notification-content"},Rw={class:"notification-title"},Dw={key:1,class:"notification-behind second"},xw={key:2,class:"notification-behind third"},Ow={key:3,class:"no-notifications"},Nw=["onClick"],Lw={class:"notification-content"},$w={class:"notification-title"},Fw={key:0,class:"no-notifications"},Uw={class:"auditorias-section"},zw={class:"auditorias-grid"},Bw={class:"card-content"},Vw={class:"icon-container"},Hw={key:0,class:"count-badge orange-badge"};function jw(t,e,s,n,i,o){return y(),_("div",bw,[e[25]||(e[25]=a("div",{class:"background-pattern"},null,-1)),a("div",yw,[a("div",_w,[a("div",ww,[a("div",Iw,[a("h1",Sw,"Olá, "+b(i.user.name),1),e[5]||(e[5]=a("div",{class:"online-indicator"},null,-1))]),a("p",Cw,b(o.currentDate),1),e[6]||(e[6]=a("div",{class:"productivity-stats"},[a("i",{class:"fas fa-chart-line"}),a("span",null,"Produtividade: +15% esta semana")],-1))]),a("div",Tw,[e[7]||(e[7]=a("div",{class:"avatar-glow"},null,-1)),a("img",{src:`../assets/${i.user.avatar}`,alt:`Avatar de ${i.user.name}`,class:"profile-pic"},null,8,Aw),e[8]||(e[8]=a("div",{class:"status-indicator"},null,-1)),e[9]||(e[9]=a("div",{class:"star-badge"},[a("i",{class:"fas fa-star"})],-1))])]),e[24]||(e[24]=zt('<div class="quick-stats" data-v-66be4a5b><div class="stat-card" data-v-66be4a5b><div class="stat-number" data-v-66be4a5b>23</div><div class="stat-label" data-v-66be4a5b>Total</div></div><div class="stat-card" data-v-66be4a5b><div class="stat-number emerald" data-v-66be4a5b>12</div><div class="stat-label" data-v-66be4a5b>Concluídas</div></div><div class="stat-card" data-v-66be4a5b><div class="stat-number amber" data-v-66be4a5b>3</div><div class="stat-label" data-v-66be4a5b>Ativas</div></div></div>',1)),a("div",kw,[a("div",Ew,[e[10]||(e[10]=a("h2",{class:"section-title"},"Notificações",-1)),i.auditoriasNovas.length>0?(y(),_("div",Pw,b(i.auditoriasNovas.length)+" novas ",1)):V("",!0)]),a("div",{class:E(["notificacoes-container",{aberta:i.notificacoesAbertas}])},[i.notificacoesAbertas?(y(),_(ie,{key:1},[ne(rf,{name:"notificacao-fade",tag:"div",class:"notifications-expanded"},{default:Qr(()=>[(y(!0),_(ie,null,Te(i.auditoriasNovas,(l,r)=>(y(),_("div",{key:l.id,class:E(["notification-card",{focused:i.focusedNotifId===l.id}]),onClick:c=>o.handleNotificationClick(l.id),tabindex:"0"},[e[15]||(e[15]=a("div",{class:"notification-icon"},[a("i",{class:"fas fa-bell"})],-1)),a("div",Lw,[a("p",$w,"Nova Auditoria: "+b(l.titulo),1),e[14]||(e[14]=a("p",{class:"notification-time"},"Há alguns minutos",-1))])],10,Nw))),128))]),_:1}),i.auditoriasNovas.length===0?(y(),_("div",Fw,e[16]||(e[16]=[a("i",{class:"fas fa-bell"},null,-1),a("p",null,"Sem notificações novas",-1)]))):V("",!0)],64)):(y(),_(ie,{key:0},[i.auditoriasNovas.length>0?(y(),_("div",{key:0,class:E(["notification-card main-notification",{focused:i.focusedNotifId===i.auditoriasNovas[0].id}]),onClick:e[0]||(e[0]=l=>o.handleNotificationClick(i.auditoriasNovas[0].id)),tabindex:"0"},[e[12]||(e[12]=a("div",{class:"notification-icon"},[a("i",{class:"fas fa-bell"})],-1)),a("div",Mw,[a("p",Rw,"Nova Auditoria: "+b(i.auditoriasNovas[0].titulo),1),e[11]||(e[11]=a("p",{class:"notification-time"},"Há alguns minutos",-1))])],2)):V("",!0),i.auditoriasNovas.length>1?(y(),_("div",Dw)):V("",!0),i.auditoriasNovas.length>2?(y(),_("div",xw)):V("",!0),i.auditoriasNovas.length===0?(y(),_("div",Ow,e[13]||(e[13]=[a("i",{class:"fas fa-bell"},null,-1),a("p",null,"Sem notificações novas",-1)]))):V("",!0)],64))],2)]),a("div",Uw,[e[23]||(e[23]=a("h2",{class:"section-title"},"Auditorias",-1)),a("div",zw,[a("div",{class:"audit-card blue-card",onClick:e[1]||(e[1]=l=>t.$router.push("/auditorias/adecorrer"))},e[17]||(e[17]=[zt('<div class="card-gradient-overlay" data-v-66be4a5b></div><div class="card-content" data-v-66be4a5b><div class="icon-container" data-v-66be4a5b><div class="icon-background blue-gradient" data-v-66be4a5b><i class="fas fa-file-alt" data-v-66be4a5b></i></div><div class="count-badge blue-badge" data-v-66be4a5b>3</div></div><div class="card-text" data-v-66be4a5b><h3 class="card-title" data-v-66be4a5b>A decorrer</h3><p class="card-subtitle" data-v-66be4a5b>Auditorias ativas</p></div></div>',2)])),a("div",{class:"audit-card green-card",onClick:e[2]||(e[2]=l=>t.$router.push("/auditorias/concluidas"))},e[18]||(e[18]=[zt('<div class="card-gradient-overlay" data-v-66be4a5b></div><div class="card-content" data-v-66be4a5b><div class="icon-container" data-v-66be4a5b><div class="icon-background green-gradient" data-v-66be4a5b><i class="fas fa-check" data-v-66be4a5b></i></div><div class="count-badge green-badge" data-v-66be4a5b>12</div></div><div class="card-text" data-v-66be4a5b><h3 class="card-title" data-v-66be4a5b>Concluídas</h3><p class="card-subtitle" data-v-66be4a5b>Finalizadas</p></div></div>',2)])),a("div",{class:"audit-card orange-card",onClick:e[3]||(e[3]=l=>t.$router.push("/auditorias/nova"))},[e[21]||(e[21]=a("div",{class:"card-gradient-overlay"},null,-1)),a("div",Bw,[a("div",Vw,[e[19]||(e[19]=a("div",{class:"icon-background orange-gradient"},[a("i",{class:"fas fa-plus"})],-1)),i.auditoriasNovas.length>0?(y(),_("div",Hw,b(i.auditoriasNovas.length),1)):V("",!0)]),e[20]||(e[20]=a("div",{class:"card-text"},[a("h3",{class:"card-title"},"Novas"),a("p",{class:"card-subtitle"},"Aguardando início")],-1))])]),a("div",{class:"audit-card dark-blue-card",onClick:e[4]||(e[4]=l=>t.$router.push("/especialistas"))},e[22]||(e[22]=[zt('<div class="card-gradient-overlay" data-v-66be4a5b></div><div class="card-content" data-v-66be4a5b><div class="icon-container" data-v-66be4a5b><div class="icon-background dark-blue-gradient" data-v-66be4a5b><i class="fas fa-user-cog" data-v-66be4a5b></i></div><div class="count-badge dark-blue-badge" data-v-66be4a5b>8</div></div><div class="card-text" data-v-66be4a5b><h3 class="card-title" data-v-66be4a5b>Especialistas</h3><p class="card-subtitle" data-v-66be4a5b>Gerir equipa</p></div></div>',2)]))])])]),e[26]||(e[26]=zt('<nav class="bottom-nav" data-v-66be4a5b><button class="nav-item active" data-v-66be4a5b><div class="nav-icon-container active" data-v-66be4a5b><i class="fas fa-home" data-v-66be4a5b></i></div><span class="nav-label" data-v-66be4a5b>Início</span></button><button class="nav-item" data-v-66be4a5b><div class="nav-icon-container" data-v-66be4a5b><i class="fas fa-search" data-v-66be4a5b></i></div><span class="nav-label" data-v-66be4a5b>Pesquisar</span></button><button class="nav-item" data-v-66be4a5b><div class="nav-icon-container" data-v-66be4a5b><i class="fas fa-cog" data-v-66be4a5b></i></div><span class="nav-label" data-v-66be4a5b>Definições</span></button><button class="nav-item" data-v-66be4a5b><div class="nav-icon-container" data-v-66be4a5b><i class="fas fa-user" data-v-66be4a5b></i></div><span class="nav-label" data-v-66be4a5b>Perfil</span></button></nav>',1))])}const Ww=we(vw,[["render",jw],["__scopeId","data-v-66be4a5b"]]),Gw={name:"EspecialistasHome",components:{BottomNav:je},data(){return{especialistas:[],pesquisa:"",filtroArea:"",filtroStatus:"",darkMode:!0}},computed:{especialistasFiltrados(){return this.especialistas.filter(t=>{const e=t.nome.toLowerCase().includes(this.pesquisa.toLowerCase()),s=!this.filtroArea||t.area===this.filtroArea,n=!this.filtroStatus||t.status===this.filtroStatus;return e&&s&&n})},totalEspecialistas(){return this.especialistas.length},especialistasDisponiveis(){return this.especialistas.filter(t=>t.status==="disponivel").length},especialistasOcupados(){return this.especialistas.filter(t=>t.status==="ocupado").length}},mounted(){this.loadTheme(),this.loadData()},methods:{loadTheme(){const t=localStorage.getItem("theme");t&&(this.darkMode=t==="dark")},toggleTheme(){this.darkMode=!this.darkMode,localStorage.setItem("theme",this.darkMode?"dark":"light")},loadData(){const t=localStorage.getItem("especialistas");t?this.especialistas=JSON.parse(t):(this.especialistas=[{id:1,nome:"Dr. João Silva",area:"Segurança Rodoviária",avatar:"/placeholder.svg?height=60&width=60&query=professional+man",status:"disponivel",rating:4.8,auditoriasCompletas:23,competencias:["Sinalização","Pavimentos","Segurança"],telefone:"+351 912 345 678",email:"joao.silva@email.com",certificacoes:["Técnico de Segurança Rodoviária","Auditor Certificado"]},{id:2,nome:"Eng. Maria Santos",area:"Infraestruturas",avatar:"/placeholder.svg?height=60&width=60&query=professional+woman",status:"ocupado",rating:4.9,auditoriasCompletas:31,competencias:["Pontes","Estruturas","Materiais"],telefone:"+351 923 456 789",email:"maria.santos@email.com",certificacoes:["Engenheira Civil","Especialista em Estruturas"]},{id:3,nome:"Dr. Carlos Oliveira",area:"Ambiente",avatar:"/placeholder.svg?height=60&width=60&query=environmental+specialist",status:"disponivel",rating:4.7,auditoriasCompletas:18,competencias:["Impacto Ambiental","Sustentabilidade","Ecologia"],telefone:"+351 934 567 890",email:"carlos.oliveira@email.com",certificacoes:["Especialista Ambiental","Auditor ISO 14001"]}],localStorage.setItem("especialistas",JSON.stringify(this.especialistas)))},getStatusText(t){return{disponivel:"Disponível",ocupado:"Ocupado",ausente:"Ausente"}[t]||"Desconhecido"},exportarLista(){const t=this.especialistas.map(e=>({nome:e.nome,area:e.area,status:this.getStatusText(e.status),rating:e.rating,auditorias:e.auditoriasCompletas,telefone:e.telefone,email:e.email}));console.log("Exportando lista de especialistas:",t),alert("Lista exportada com sucesso! (Funcionalidade simulada)")}}},qw={class:"page-container"},Kw={class:"page-header"},Jw={class:"stats-container"},Zw={class:"stat-content"},Yw={class:"stat-number"},Xw={class:"stat-content"},Qw={class:"stat-number"},eI={class:"stat-content"},tI={class:"stat-number"},sI={class:"filters-section"},iI={class:"search-container"},nI={class:"search-input-wrapper"},oI={class:"filter-row"},aI={class:"especialistas-container"},rI={key:0,class:"empty-state"},lI={key:1,class:"especialistas-list"},cI=["onClick"],uI={class:"especialista-avatar-container"},dI=["src","alt"],fI={class:"especialista-content"},hI={class:"especialista-nome"},pI={class:"especialista-area"},mI={class:"especialista-details"},gI={class:"detail-item"},vI={class:"detail-item"},bI={class:"especialista-tags"},yI={key:0,class:"tag more"},_I={class:"especialista-actions"},wI={class:"quick-actions"};function II(t,e,s,n,i,o){const l=xe("BottomNav");return y(),_("div",{class:E(["login-bg",{"light-mode":!i.darkMode}])},[a("button",{class:"theme-toggle",onClick:e[0]||(e[0]=(...r)=>o.toggleTheme&&o.toggleTheme(...r))},[a("i",{class:E(i.darkMode?"fas fa-sun":"fas fa-moon")},null,2)]),a("div",qw,[a("div",Kw,[a("button",{class:"back-btn",onClick:e[1]||(e[1]=r=>t.$router.back())},e[9]||(e[9]=[a("i",{class:"fas fa-arrow-left"},null,-1)])),e[11]||(e[11]=a("h2",{class:"page-title"},"Especialistas",-1)),a("button",{class:"add-btn",onClick:e[2]||(e[2]=r=>t.$router.push("/especialistas/adicionar"))},e[10]||(e[10]=[a("i",{class:"fas fa-plus"},null,-1)]))]),a("div",Jw,[a("div",{class:E(["stat-card",{"active-stat":o.totalEspecialistas>0}])},[e[13]||(e[13]=a("div",{class:"stat-icon"},[a("i",{class:"fas fa-users"})],-1)),a("div",Zw,[a("div",Yw,b(o.totalEspecialistas),1),e[12]||(e[12]=a("div",{class:"stat-label"},"Total",-1))])],2),a("div",{class:E(["stat-card",{"active-stat":o.especialistasDisponiveis>0}])},[e[15]||(e[15]=a("div",{class:"stat-icon available"},[a("i",{class:"fas fa-user-check"})],-1)),a("div",Xw,[a("div",Qw,b(o.especialistasDisponiveis),1),e[14]||(e[14]=a("div",{class:"stat-label"},"Disponíveis",-1))])],2),a("div",{class:E(["stat-card",{"active-stat":o.especialistasOcupados>0}])},[e[17]||(e[17]=a("div",{class:"stat-icon busy"},[a("i",{class:"fas fa-user-clock"})],-1)),a("div",eI,[a("div",tI,b(o.especialistasOcupados),1),e[16]||(e[16]=a("div",{class:"stat-label"},"Ocupados",-1))])],2)]),a("div",sI,[a("div",iI,[a("div",nI,[e[18]||(e[18]=a("i",{class:"fas fa-search search-icon"},null,-1)),be(a("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=r=>i.pesquisa=r),placeholder:"Procurar especialistas...",class:"search-input"},null,512),[[$e,i.pesquisa]])])]),a("div",oI,[be(a("select",{"onUpdate:modelValue":e[4]||(e[4]=r=>i.filtroArea=r),class:"filter-select"},e[19]||(e[19]=[zt('<option value="" data-v-faa1c3e7>Todas as áreas</option><option value="Segurança Rodoviária" data-v-faa1c3e7>Segurança Rodoviária</option><option value="Infraestruturas" data-v-faa1c3e7>Infraestruturas</option><option value="Ambiente" data-v-faa1c3e7>Ambiente</option><option value="Urbanismo" data-v-faa1c3e7>Urbanismo</option><option value="Engenharia Civil" data-v-faa1c3e7>Engenharia Civil</option>',6)]),512),[[Ps,i.filtroArea]]),be(a("select",{"onUpdate:modelValue":e[5]||(e[5]=r=>i.filtroStatus=r),class:"filter-select"},e[20]||(e[20]=[a("option",{value:""},"Todos os status",-1),a("option",{value:"disponivel"},"Disponível",-1),a("option",{value:"ocupado"},"Ocupado",-1),a("option",{value:"ausente"},"Ausente",-1)]),512),[[Ps,i.filtroStatus]])])]),a("div",aI,[o.especialistasFiltrados.length===0?(y(),_("div",rI,[e[22]||(e[22]=a("i",{class:"fas fa-user-friends"},null,-1)),e[23]||(e[23]=a("h3",null,"Nenhum especialista encontrado",-1)),e[24]||(e[24]=a("p",null,"Adicione especialistas à sua equipa",-1)),a("button",{class:"add-first-btn",onClick:e[6]||(e[6]=r=>t.$router.push("/especialistas/adicionar"))},e[21]||(e[21]=[a("i",{class:"fas fa-plus"},null,-1),a("span",null,"Adicionar Primeiro Especialista",-1)]))])):(y(),_("div",lI,[(y(!0),_(ie,null,Te(o.especialistasFiltrados,r=>{var c,u;return y(),_("div",{class:"especialista-card",key:r.id,onClick:d=>t.$router.push(`/especialistas/${r.id}`)},[a("div",uI,[a("img",{src:r.avatar,alt:r.nome,class:"especialista-avatar"},null,8,dI),a("div",{class:E(["status-indicator",r.status])},null,2)]),a("div",fI,[a("h3",hI,b(r.nome),1),a("p",pI,b(r.area),1),a("div",mI,[a("div",gI,[e[25]||(e[25]=a("i",{class:"fas fa-star"},null,-1)),a("span",null,b(r.rating||"5.0"),1)]),a("div",vI,[e[26]||(e[26]=a("i",{class:"fas fa-clipboard-check"},null,-1)),a("span",null,b(r.auditoriasCompletas||0)+" auditorias",1)])]),a("div",bI,[(y(!0),_(ie,null,Te((c=r.competencias)==null?void 0:c.slice(0,2),d=>(y(),_("span",{key:d,class:"tag"},b(d),1))),128)),((u=r.competencias)==null?void 0:u.length)>2?(y(),_("span",yI," +"+b(r.competencias.length-2),1)):V("",!0)])]),a("div",_I,[a("div",{class:E(["status-badge",r.status])},b(o.getStatusText(r.status)),3),e[27]||(e[27]=a("i",{class:"fas fa-chevron-right especialista-arrow"},null,-1))])],8,cI)}),128))]))]),a("div",wI,[a("button",{class:"quick-action-btn",onClick:e[7]||(e[7]=r=>t.$router.push("/especialistas/confirmacao"))},e[28]||(e[28]=[a("i",{class:"fas fa-map-marker-alt"},null,-1),a("span",null,"Confirmar Presença",-1)])),a("button",{class:"quick-action-btn",onClick:e[8]||(e[8]=(...r)=>o.exportarLista&&o.exportarLista(...r))},e[29]||(e[29]=[a("i",{class:"fas fa-download"},null,-1),a("span",null,"Exportar Lista",-1)]))])]),ne(l)],2)}const SI=we(Gw,[["render",II],["__scopeId","data-v-faa1c3e7"]]),CI={name:"EspecialistasHome",components:{BottomNav:je},data(){return{especialista:{nome:"",avatar:"",especialidade:""},auditoriasAtribuidas:[],filtroAtivo:"todas",darkMode:!0}},computed:{auditoriasPendentes(){return this.auditoriasAtribuidas.filter(t=>t.statusEspecialista==="atribuida")},auditoriasEmAndamento(){return this.auditoriasAtribuidas.filter(t=>["aceite","em_curso"].includes(t.statusEspecialista))},auditoriasConcluidas(){return this.auditoriasAtribuidas.filter(t=>t.statusEspecialista==="concluida")},auditoriasFiltradas(){switch(this.filtroAtivo){case"pendentes":return this.auditoriasPendentes;case"andamento":return this.auditoriasEmAndamento;case"concluidas":return this.auditoriasConcluidas;default:return this.auditoriasAtribuidas}}},mounted(){this.loadTheme(),this.loadData()},methods:{loadTheme(){const t=localStorage.getItem("theme");t&&(this.darkMode=t==="dark")},toggleTheme(){this.darkMode=!this.darkMode,localStorage.setItem("theme",this.darkMode?"dark":"light")},loadData(){const t=JSON.parse(localStorage.getItem("user")||"{}");if(t.tipo!=="especialista"){this.$router.push("/");return}this.especialista=t,this.carregarAuditoriasAtribuidas()},carregarAuditoriasAtribuidas(){const t=[{id:1,titulo:"Inspeção de Sinalização Rodoviária",tipo:"Segurança Rodoviária",data:new Date().toISOString(),local:"Rua Francisco Pereira Coutinho, Braga",descricao:"Verificar placas e marcações no cruzamento principal.",prioridade:"Alta",statusEspecialista:"atribuida",especialistaId:this.especialista.id},{id:2,titulo:"Auditoria de Infraestruturas",tipo:"Infraestruturas",data:new Date(Date.now()+864e5).toISOString(),local:"Ponte de Dom Luís I, Porto",descricao:"Inspeção estrutural da ponte.",prioridade:"Crítica",statusEspecialista:"aceite",especialistaId:this.especialista.id},{id:3,titulo:"Avaliação Ambiental",tipo:"Ambiente",data:new Date(Date.now()-864e5).toISOString(),local:"Parque da Cidade, Porto",descricao:"Análise da qualidade do ar e ruído.",prioridade:"Média",statusEspecialista:"em_curso",especialistaId:this.especialista.id}];localStorage.setItem("auditoriasEspecialista",JSON.stringify(t)),this.auditoriasAtribuidas=t},formatarData(t){const e=new Date(t),s=e.getDate().toString().padStart(2,"0"),n=e.toLocaleString("pt-PT",{month:"short"}).toUpperCase();return{dia:s,mes:n}},formatarHora(t){const e=new Date(t);return`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`},getStatusClass(t){switch(t.statusEspecialista){case"atribuida":return"pending";case"aceite":return"accepted";case"em_curso":return"active";case"concluida":return"completed";default:return"pending"}},getStatusIcon(t){switch(t.statusEspecialista){case"atribuida":return"fas fa-clock";case"aceite":return"fas fa-thumbs-up";case"em_curso":return"fas fa-play";case"concluida":return"fas fa-check";default:return"fas fa-question"}},getStatusText(t){switch(t.statusEspecialista){case"atribuida":return"Atribuída";case"aceite":return"Aceite";case"em_curso":return"Em Curso";case"concluida":return"Concluída";default:return"Desconhecido"}},getAuditoriaStatusClass(t){return this.getStatusClass(t)},getEmptyMessage(){switch(this.filtroAtivo){case"pendentes":return"Não tens auditorias pendentes";case"andamento":return"Não tens auditorias em curso";case"concluidas":return"Ainda não concluíste nenhuma auditoria";default:return"Não tens auditorias atribuídas"}},abrirDetalheAuditoria(t){this.$router.push(`/especialista/auditoria/${t.id}`)},aceitarAuditoria(t){confirm("Aceitar esta auditoria?")&&(t.statusEspecialista="aceite",this.salvarAuditorias(),this.showSuccess("Auditoria aceite com sucesso!"))},iniciarAuditoria(t){confirm("Iniciar esta auditoria?")&&(t.statusEspecialista="em_curso",t.dataInicio=new Date().toISOString(),this.salvarAuditorias(),this.showSuccess("Auditoria iniciada!"))},confirmarPresenca(t){this.$router.push(`/especialista/confirmar-presenca/${t.id}`)},finalizarAuditoria(t){this.$router.push(`/especialista/finalizar/${t.id}`)},salvarAuditorias(){localStorage.setItem("auditoriasEspecialista",JSON.stringify(this.auditoriasAtribuidas))},showSuccess(t){alert(t)}}},TI={class:"page-container"},AI={key:0,class:"profile-header"},kI={class:"profile-info"},EI={class:"profile-details"},PI={class:"profile-name"},MI={class:"profile-area"},RI={class:"profile-stats"},DI={class:"stat-item"},xI={class:"stats-container"},OI={class:"stat-card pending"},NI={class:"stat-content"},LI={class:"stat-number"},$I={class:"stat-card active"},FI={class:"stat-content"},UI={class:"stat-number"},zI={class:"stat-card completed"},BI={class:"stat-content"},VI={class:"stat-number"},HI={class:"filters-section"},jI={class:"filter-tabs"},WI={class:"auditorias-container"},GI={key:0,class:"empty-state"},qI={key:1,class:"auditorias-list"},KI=["onClick"],JI={class:"auditoria-header"},ZI={class:"auditoria-date"},YI={class:"date-day"},XI={class:"date-month"},QI={class:"auditoria-status"},eS={class:"auditoria-content"},tS={class:"auditoria-title"},sS={class:"auditoria-details"},iS={class:"detail-item"},nS={class:"detail-item"},oS={class:"detail-item"},aS={class:"detail-item"},rS={class:"auditoria-actions"},lS=["onClick"],cS=["onClick"],uS=["onClick"],dS=["onClick"];function fS(t,e,s,n,i,o){const l=xe("BottomNav");return y(),_("div",{class:E(["login-bg",{"light-mode":!i.darkMode}])},[a("button",{class:"theme-toggle",onClick:e[0]||(e[0]=(...r)=>o.toggleTheme&&o.toggleTheme(...r))},[a("i",{class:E(i.darkMode?"fas fa-sun":"fas fa-moon")},null,2)]),a("div",TI,[i.especialista.nome?(y(),_("div",AI,[a("div",kI,[a("div",EI,[a("h2",PI,b(i.especialista.nome),1),a("p",MI,b(i.especialista.especialidade||"Especialista"),1),a("div",RI,[a("span",DI,[e[6]||(e[6]=a("i",{class:"fas fa-tasks"},null,-1)),H(" "+b(i.auditoriasAtribuidas.length)+" atribuídas ",1)])])])]),a("button",{class:"settings-btn",onClick:e[1]||(e[1]=r=>t.$router.push("/perfil"))},e[7]||(e[7]=[a("i",{class:"fas fa-cog"},null,-1)]))])):V("",!0),a("div",xI,[a("div",OI,[e[9]||(e[9]=a("div",{class:"stat-icon"},[a("i",{class:"fas fa-clock"})],-1)),a("div",NI,[a("span",LI,b(o.auditoriasPendentes.length),1),e[8]||(e[8]=a("span",{class:"stat-label"},"Pendentes",-1))])]),a("div",$I,[e[11]||(e[11]=a("div",{class:"stat-icon"},[a("i",{class:"fas fa-play"})],-1)),a("div",FI,[a("span",UI,b(o.auditoriasEmAndamento.length),1),e[10]||(e[10]=a("span",{class:"stat-label"},"Em Curso",-1))])]),a("div",zI,[e[13]||(e[13]=a("div",{class:"stat-icon"},[a("i",{class:"fas fa-check"})],-1)),a("div",BI,[a("span",VI,b(o.auditoriasConcluidas.length),1),e[12]||(e[12]=a("span",{class:"stat-label"},"Concluídas",-1))])])]),a("div",HI,[a("div",jI,[a("button",{class:E(["filter-tab",{active:i.filtroAtivo==="todas"}]),onClick:e[2]||(e[2]=r=>i.filtroAtivo="todas")}," Todas ",2),a("button",{class:E(["filter-tab",{active:i.filtroAtivo==="pendentes"}]),onClick:e[3]||(e[3]=r=>i.filtroAtivo="pendentes")}," Pendentes ",2),a("button",{class:E(["filter-tab",{active:i.filtroAtivo==="andamento"}]),onClick:e[4]||(e[4]=r=>i.filtroAtivo="andamento")}," Em Curso ",2),a("button",{class:E(["filter-tab",{active:i.filtroAtivo==="concluidas"}]),onClick:e[5]||(e[5]=r=>i.filtroAtivo="concluidas")}," Concluídas ",2)])]),a("div",WI,[o.auditoriasFiltradas.length===0?(y(),_("div",GI,[e[14]||(e[14]=a("i",{class:"fas fa-clipboard-list"},null,-1)),e[15]||(e[15]=a("h3",null,"Nenhuma auditoria encontrada",-1)),a("p",null,b(o.getEmptyMessage()),1)])):(y(),_("div",qI,[(y(!0),_(ie,null,Te(o.auditoriasFiltradas,r=>(y(),_("div",{class:E(["auditoria-card",o.getAuditoriaStatusClass(r)]),key:r.id,onClick:c=>t.$router.push("/detalhe/especialista/"+r.id)},[a("div",JI,[a("div",ZI,[a("span",YI,b(o.formatarData(r.data).dia),1),a("span",XI,b(o.formatarData(r.data).mes),1)]),a("div",QI,[a("span",{class:E(["status-badge",o.getStatusClass(r)])},[a("i",{class:E(o.getStatusIcon(r))},null,2),H(" "+b(o.getStatusText(r)),1)],2)])]),a("div",eS,[a("h3",tS,b(r.titulo),1),a("div",sS,[a("div",iS,[e[16]||(e[16]=a("i",{class:"fas fa-tag"},null,-1)),a("span",null,b(r.tipo),1)]),a("div",nS,[e[17]||(e[17]=a("i",{class:"fas fa-map-marker-alt"},null,-1)),a("span",null,b(r.local||"Localização não definida"),1)]),a("div",oS,[e[18]||(e[18]=a("i",{class:"fas fa-clock"},null,-1)),a("span",null,b(o.formatarHora(r.data)),1)]),a("div",aS,[e[19]||(e[19]=a("i",{class:"fas fa-exclamation-triangle"},null,-1)),a("span",null,"Prioridade: "+b(r.prioridade),1)])]),a("div",rS,[r.statusEspecialista==="atribuida"?(y(),_("button",{key:0,class:"action-btn accept",onClick:Wt(c=>o.aceitarAuditoria(r),["stop"])},e[20]||(e[20]=[a("i",{class:"fas fa-check"},null,-1),H(" Aceitar ")]),8,lS)):V("",!0),r.statusEspecialista==="aceite"?(y(),_("button",{key:1,class:"action-btn start",onClick:Wt(c=>o.iniciarAuditoria(r),["stop"])},e[21]||(e[21]=[a("i",{class:"fas fa-play"},null,-1),H(" Iniciar ")]),8,cS)):V("",!0),r.statusEspecialista==="em_curso"?(y(),_("button",{key:2,class:"action-btn location",onClick:Wt(c=>o.confirmarPresenca(r),["stop"])},e[22]||(e[22]=[a("i",{class:"fas fa-map-marker-alt"},null,-1),H(" Confirmar Presença ")]),8,uS)):V("",!0),r.statusEspecialista==="em_curso"?(y(),_("button",{key:3,class:"action-btn complete",onClick:Wt(c=>o.finalizarAuditoria(r),["stop"])},e[23]||(e[23]=[a("i",{class:"fas fa-flag-checkered"},null,-1),H(" Finalizar ")]),8,dS)):V("",!0)])]),e[24]||(e[24]=a("i",{class:"fas fa-chevron-right auditoria-arrow"},null,-1))],10,KI))),128))]))])]),ne(l)],2)}const hS=we(CI,[["render",fS],["__scopeId","data-v-16cfd154"]]),pS={name:"EspecialistaDetalhe",components:{BottomNav:je},data(){return{auditoria:{id:null,titulo:"",tipo:"",data:"",local:"",descricao:"",prioridade:"",statusEspecialista:"atribuida",presencaConfirmada:!1},relatorioTrabalho:{descricao:"",custo:0,tempoGasto:0},darkMode:!0}},mounted(){this.loadTheme(),this.carregarAuditoria()},methods:{loadTheme(){const t=localStorage.getItem("theme");t&&(this.darkMode=t==="dark")},toggleTheme(){this.darkMode=!this.darkMode,localStorage.setItem("theme",this.darkMode?"dark":"light")},carregarAuditoria(){const t=this.$route.params.id,s=JSON.parse(localStorage.getItem("auditoriasEspecialista")||"[]").find(n=>n.id==t);s?(this.auditoria={...s},s.relatorioTrabalho&&(this.relatorioTrabalho={...s.relatorioTrabalho})):this.$router.back()},formatarDataCompleta(t){return new Date(t).toLocaleDateString("pt-PT",{weekday:"long",day:"numeric",month:"long",year:"numeric"})},formatarHora(t){const e=new Date(t);return`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`},formatarDataHora(t){return new Date(t).toLocaleDateString("pt-PT",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})},getStatusClass(t){switch(t.statusEspecialista){case"atribuida":return"pending";case"aceite":return"accepted";case"em_curso":return"active";case"concluida":return"completed";default:return"pending"}},getStatusIcon(t){switch(t.statusEspecialista){case"atribuida":return"fas fa-clock";case"aceite":return"fas fa-thumbs-up";case"em_curso":return"fas fa-play";case"concluida":return"fas fa-check";default:return"fas fa-question"}},getStatusText(t){switch(t.statusEspecialista){case"atribuida":return"Aguarda Aceitação";case"aceite":return"Aceite - Pronto para Iniciar";case"em_curso":return"Trabalho em Curso";case"concluida":return"Trabalho Concluído";default:return"Estado Desconhecido"}},aceitarAuditoria(){confirm("Aceitar esta auditoria?")&&(this.auditoria.statusEspecialista="aceite",this.auditoria.dataAceite=new Date().toISOString(),this.salvarAuditoria(),this.showSuccess("Auditoria aceite com sucesso!"))},iniciarAuditoria(){confirm("Iniciar o trabalho desta auditoria?")&&(this.auditoria.statusEspecialista="em_curso",this.auditoria.dataInicio=new Date().toISOString(),this.salvarAuditoria(),this.showSuccess("Trabalho iniciado!"))},confirmarPresenca(){this.$router.push(`/especialista/confirmar-presenca/${this.auditoria.id}`)},finalizarAuditoria(){if(!this.relatorioTrabalho.descricao.trim()){alert("Por favor, preencha a descrição do trabalho realizado.");return}if(this.relatorioTrabalho.custo<=0){alert("Por favor, indique o custo do serviço.");return}confirm("Finalizar este trabalho? Esta ação não pode ser desfeita.")&&(this.auditoria.statusEspecialista="concluida",this.auditoria.dataConclusao=new Date().toISOString(),this.auditoria.relatorioTrabalho={...this.relatorioTrabalho},this.salvarAuditoria(),this.showSuccess("Trabalho finalizado com sucesso!"))},rejeitarAuditoria(){if(confirm("Tem certeza que deseja rejeitar esta auditoria?")){let t=JSON.parse(localStorage.getItem("auditoriasEspecialista")||"[]");t=t.filter(e=>e.id!==this.auditoria.id),localStorage.setItem("auditoriasEspecialista",JSON.stringify(t)),this.$router.back()}},salvarRelatorio(){this.auditoria.relatorioTrabalho={...this.relatorioTrabalho},this.salvarAuditoria(),this.showSuccess("Relatório salvo!")},salvarAuditoria(){let t=JSON.parse(localStorage.getItem("auditoriasEspecialista")||"[]");const e=t.findIndex(s=>s.id===this.auditoria.id);e!==-1&&(t[e]={...this.auditoria},localStorage.setItem("auditoriasEspecialista",JSON.stringify(t)))},showSuccess(t){alert(t)}}},mS={class:"page-container"},gS={class:"page-header"},vS={class:"status-section"},bS={class:"info-section"},yS={class:"info-card"},_S={class:"info-header"},wS={class:"info-title"},IS={class:"info-details"},SS={class:"info-item"},CS={class:"info-item"},TS={class:"info-item"},AS={class:"info-item"},kS={class:"description-card"},ES={class:"description-text"},PS={key:0,class:"progress-card"},MS={class:"progress-timeline"},RS={class:"timeline-content"},DS={key:0,class:"timeline-date"},xS={class:"timeline-content"},OS={key:0,class:"timeline-date"},NS={class:"timeline-content"},LS={key:0,class:"timeline-date"},$S={class:"timeline-content"},FS={key:0,class:"timeline-date"},US={key:1,class:"work-report-card"},zS={class:"form-group"},BS=["disabled"],VS={class:"form-group"},HS=["disabled"],jS={class:"form-group"},WS=["disabled"],GS={key:0,class:"form-actions"},qS={class:"actions-section"};function KS(t,e,s,n,i,o){const l=xe("BottomNav");return y(),_("div",{class:E(["login-bg",{"light-mode":!i.darkMode}])},[a("button",{class:"theme-toggle",onClick:e[0]||(e[0]=(...r)=>o.toggleTheme&&o.toggleTheme(...r))},[a("i",{class:E(i.darkMode?"fas fa-sun":"fas fa-moon")},null,2)]),a("div",mS,[a("div",gS,[a("button",{class:"back-btn",onClick:e[1]||(e[1]=r=>t.$router.back())},e[11]||(e[11]=[a("i",{class:"fas fa-arrow-left"},null,-1)])),e[12]||(e[12]=a("h2",{class:"page-title"},"Detalhes da Auditoria",-1)),a("div",{class:E(["header-badge",o.getStatusClass(i.auditoria)])},[a("i",{class:E(o.getStatusIcon(i.auditoria))},null,2)],2)]),a("div",vS,[a("div",{class:E(["status-badge",o.getStatusClass(i.auditoria)])},[a("i",{class:E(o.getStatusIcon(i.auditoria))},null,2),a("span",null,b(o.getStatusText(i.auditoria)),1)],2)]),a("div",bS,[a("div",yS,[a("div",_S,[a("h3",wS,b(i.auditoria.titulo),1),a("span",{class:E(["info-type",o.getStatusClass(i.auditoria)])},b(i.auditoria.tipo),3)]),a("div",IS,[a("div",SS,[e[13]||(e[13]=a("i",{class:"fas fa-calendar"},null,-1)),a("span",null,b(o.formatarDataCompleta(i.auditoria.data)),1)]),a("div",CS,[e[14]||(e[14]=a("i",{class:"fas fa-clock"},null,-1)),a("span",null,b(o.formatarHora(i.auditoria.data)),1)]),a("div",TS,[e[15]||(e[15]=a("i",{class:"fas fa-map-marker-alt"},null,-1)),a("span",null,b(i.auditoria.local||"Localização não definida"),1)]),a("div",AS,[e[16]||(e[16]=a("i",{class:"fas fa-exclamation-triangle"},null,-1)),a("span",null,"Prioridade: "+b(i.auditoria.prioridade),1)])])]),a("div",kS,[e[17]||(e[17]=a("h4",{class:"description-title"},[a("i",{class:"fas fa-align-left"}),H(" Descrição ")],-1)),a("p",ES,b(i.auditoria.descricao||"Sem descrição disponível"),1)]),i.auditoria.statusEspecialista!=="atribuida"?(y(),_("div",PS,[e[26]||(e[26]=a("h4",{class:"progress-title"},[a("i",{class:"fas fa-tasks"}),H(" Progresso do Trabalho ")],-1)),a("div",MS,[a("div",{class:E(["timeline-item",{completed:i.auditoria.statusEspecialista!=="atribuida"}])},[e[19]||(e[19]=a("div",{class:"timeline-dot"},null,-1)),a("div",RS,[e[18]||(e[18]=a("span",{class:"timeline-label"},"Auditoria Aceite",-1)),i.auditoria.dataAceite?(y(),_("span",DS,b(o.formatarDataHora(i.auditoria.dataAceite)),1)):V("",!0)])],2),a("div",{class:E(["timeline-item",{completed:["em_curso","concluida"].includes(i.auditoria.statusEspecialista)}])},[e[21]||(e[21]=a("div",{class:"timeline-dot"},null,-1)),a("div",xS,[e[20]||(e[20]=a("span",{class:"timeline-label"},"Trabalho Iniciado",-1)),i.auditoria.dataInicio?(y(),_("span",OS,b(o.formatarDataHora(i.auditoria.dataInicio)),1)):V("",!0)])],2),a("div",{class:E(["timeline-item",{completed:i.auditoria.presencaConfirmada}])},[e[23]||(e[23]=a("div",{class:"timeline-dot"},null,-1)),a("div",NS,[e[22]||(e[22]=a("span",{class:"timeline-label"},"Presença Confirmada",-1)),i.auditoria.dataPresenca?(y(),_("span",LS,b(o.formatarDataHora(i.auditoria.dataPresenca)),1)):V("",!0)])],2),a("div",{class:E(["timeline-item",{completed:i.auditoria.statusEspecialista==="concluida"}])},[e[25]||(e[25]=a("div",{class:"timeline-dot"},null,-1)),a("div",$S,[e[24]||(e[24]=a("span",{class:"timeline-label"},"Trabalho Concluído",-1)),i.auditoria.dataConclusao?(y(),_("span",FS,b(o.formatarDataHora(i.auditoria.dataConclusao)),1)):V("",!0)])],2)])])):V("",!0),["em_curso","concluida"].includes(i.auditoria.statusEspecialista)?(y(),_("div",US,[e[31]||(e[31]=a("h4",{class:"report-title"},[a("i",{class:"fas fa-clipboard-list"}),H(" Relatório de Trabalho ")],-1)),a("div",zS,[e[27]||(e[27]=a("label",{class:"form-label"},"Descrição do Trabalho Realizado",-1)),be(a("textarea",{"onUpdate:modelValue":e[2]||(e[2]=r=>i.relatorioTrabalho.descricao=r),class:"form-textarea",rows:"4",placeholder:"Descreva o trabalho realizado, observações e conclusões...",disabled:i.auditoria.statusEspecialista==="concluida"},null,8,BS),[[$e,i.relatorioTrabalho.descricao]])]),a("div",VS,[e[28]||(e[28]=a("label",{class:"form-label"},"Custo do Serviço (€)",-1)),be(a("input",{type:"number","onUpdate:modelValue":e[3]||(e[3]=r=>i.relatorioTrabalho.custo=r),class:"form-input",placeholder:"0.00",step:"0.01",min:"0",disabled:i.auditoria.statusEspecialista==="concluida"},null,8,HS),[[$e,i.relatorioTrabalho.custo]])]),a("div",jS,[e[29]||(e[29]=a("label",{class:"form-label"},"Tempo Gasto (horas)",-1)),be(a("input",{type:"number","onUpdate:modelValue":e[4]||(e[4]=r=>i.relatorioTrabalho.tempoGasto=r),class:"form-input",placeholder:"0",step:"0.5",min:"0",disabled:i.auditoria.statusEspecialista==="concluida"},null,8,WS),[[$e,i.relatorioTrabalho.tempoGasto]])]),i.auditoria.statusEspecialista==="em_curso"?(y(),_("div",GS,[a("button",{class:"save-btn",onClick:e[5]||(e[5]=(...r)=>o.salvarRelatorio&&o.salvarRelatorio(...r))},e[30]||(e[30]=[a("i",{class:"fas fa-save"},null,-1),H(" Salvar Relatório ")]))])):V("",!0)])):V("",!0)]),a("div",qS,[i.auditoria.statusEspecialista==="atribuida"?(y(),_("button",{key:0,class:"action-btn accept",onClick:e[6]||(e[6]=(...r)=>o.aceitarAuditoria&&o.aceitarAuditoria(...r))},e[32]||(e[32]=[a("i",{class:"fas fa-check"},null,-1),a("span",null,"Aceitar Auditoria",-1)]))):V("",!0),i.auditoria.statusEspecialista==="aceite"?(y(),_("button",{key:1,class:"action-btn start",onClick:e[7]||(e[7]=(...r)=>o.iniciarAuditoria&&o.iniciarAuditoria(...r))},e[33]||(e[33]=[a("i",{class:"fas fa-play"},null,-1),a("span",null,"Iniciar Trabalho",-1)]))):V("",!0),i.auditoria.statusEspecialista==="em_curso"&&!i.auditoria.presencaConfirmada?(y(),_("button",{key:2,class:"action-btn location",onClick:e[8]||(e[8]=(...r)=>o.confirmarPresenca&&o.confirmarPresenca(...r))},e[34]||(e[34]=[a("i",{class:"fas fa-map-marker-alt"},null,-1),a("span",null,"Confirmar Presença",-1)]))):V("",!0),i.auditoria.statusEspecialista==="em_curso"&&i.auditoria.presencaConfirmada?(y(),_("button",{key:3,class:"action-btn complete",onClick:e[9]||(e[9]=(...r)=>o.finalizarAuditoria&&o.finalizarAuditoria(...r))},e[35]||(e[35]=[a("i",{class:"fas fa-flag-checkered"},null,-1),a("span",null,"Finalizar Trabalho",-1)]))):V("",!0),i.auditoria.statusEspecialista==="atribuida"?(y(),_("button",{key:4,class:"action-btn reject",onClick:e[10]||(e[10]=(...r)=>o.rejeitarAuditoria&&o.rejeitarAuditoria(...r))},e[36]||(e[36]=[a("i",{class:"fas fa-times"},null,-1),a("span",null,"Rejeitar",-1)]))):V("",!0)])]),ne(l)],2)}const JS=we(pS,[["render",KS],["__scopeId","data-v-18a373da"]]),ZS={name:"Presenca",components:{BottomNav:je},data(){return{auditoria:{},localizacaoAtual:null,localizacaoAuditoria:null,distanciaCalculada:null,obtendoLocalizacao:!1,erroLocalizacao:null,darkMode:!0,mapa:null,mapLoaded:!1,marcadorUsuario:null,marcadorAuditoria:null,historicoConfirmacoes:[],DISTANCIA_MAXIMA:1e3}},computed:{podeConfirmar(){return this.localizacaoAtual&&this.distanciaCalculada!==null&&this.distanciaCalculada<=this.DISTANCIA_MAXIMA}},mounted(){this.loadTheme(),this.carregarAuditoria(),this.carregarHistorico(),this.obterLocalizacao(),setTimeout(()=>{this.inicializarMapa()},100)},methods:{loadTheme(){const t=localStorage.getItem("theme");t&&(this.darkMode=t==="dark")},toggleTheme(){this.darkMode=!this.darkMode,localStorage.setItem("theme",this.darkMode?"dark":"light")},carregarAuditoria(){const t=this.$route.params.id,s=JSON.parse(localStorage.getItem("auditoriasEspecialista")||"[]").find(n=>n.id==t);s?(this.auditoria={...s},this.geocodificarLocalAuditoria()):this.$router.back()},carregarHistorico(){const t=localStorage.getItem(`confirmacoes_${this.auditoria.id}`);t&&(this.historicoConfirmacoes=JSON.parse(t))},async geocodificarLocalAuditoria(){if(this.auditoria.local)try{const t=encodeURIComponent(this.auditoria.local),s=await(await fetch(`https://nominatim.openstreetmap.org/search?q=${t}&format=json`)).json();s.length>0&&(this.localizacaoAuditoria={latitude:parseFloat(s[0].lat),longitude:parseFloat(s[0].lon)},this.localizacaoAtual&&this.calcularDistancia())}catch(t){console.error("Erro ao geocodificar:",t)}},obterLocalizacao(){if(!navigator.geolocation){this.erroLocalizacao="Geolocalização não suportada pelo navegador";return}this.obtendoLocalizacao=!0,this.erroLocalizacao=null;const t={enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4};navigator.geolocation.getCurrentPosition(e=>{this.localizacaoAtual={latitude:e.coords.latitude,longitude:e.coords.longitude,accuracy:e.coords.accuracy,timestamp:new Date},this.obtendoLocalizacao=!1,this.calcularDistancia(),this.atualizarMapa()},e=>{switch(this.obtendoLocalizacao=!1,e.code){case e.PERMISSION_DENIED:this.erroLocalizacao="Permissão de localização negada";break;case e.POSITION_UNAVAILABLE:this.erroLocalizacao="Localização indisponível";break;case e.TIMEOUT:this.erroLocalizacao="Timeout ao obter localização";break;default:this.erroLocalizacao="Erro desconhecido ao obter localização";break}},t)},calcularDistancia(){if(!this.localizacaoAtual||!this.localizacaoAuditoria)return;const t=6371e3,e=this.localizacaoAtual.latitude*Math.PI/180,s=this.localizacaoAuditoria.latitude*Math.PI/180,n=(this.localizacaoAuditoria.latitude-this.localizacaoAtual.latitude)*Math.PI/180,i=(this.localizacaoAuditoria.longitude-this.localizacaoAtual.longitude)*Math.PI/180,o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e)*Math.cos(s)*Math.sin(i/2)*Math.sin(i/2),l=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o));this.distanciaCalculada=t*l},async inicializarMapa(){try{await new Ze({apiKey:"AIzaSyBdbfZcG0t6f5c3MI3RVA2Aj07IIdmkL9o",version:"weekly"}).load(),await this.iniciarMapa()}catch(t){console.error("Erro ao carregar Google Maps:",t),this.showMapError()}},async iniciarMapa(){if(!window.google||!window.google.maps){console.error("Google Maps não foi carregado corretamente"),this.showMapError();return}const t=this.localizacaoAuditoria||{lat:41.5454,lng:-8.4265},e=new window.google.maps.Map(document.getElementById("presenceMap"),{center:{lat:t.latitude||t.lat,lng:t.longitude||t.lng},zoom:16,styles:this.darkMode?this.getDarkMapStyle():[],mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,zoomControl:!0,zoomControlOptions:{position:window.google.maps.ControlPosition.RIGHT_BOTTOM}});this.mapa=e,this.mapLoaded=!0,this.atualizarMapa()},atualizarMapa(){var t;if(this.mapa){if(this.marcadorUsuario&&this.marcadorUsuario.setMap(null),this.marcadorAuditoria&&this.marcadorAuditoria.setMap(null),this.localizacaoAuditoria){this.marcadorAuditoria=new window.google.maps.Marker({position:{lat:this.localizacaoAuditoria.latitude,lng:this.localizacaoAuditoria.longitude},map:this.mapa,title:this.auditoria.titulo,icon:{url:"http://maps.google.com/mapfiles/ms/icons/red-dot.png"}});const e=new window.google.maps.InfoWindow({content:`
            <div style="color: black; padding: 10px; font-family: 'Poppins', sans-serif;">
              <h3 style="margin: 0 0 8px 0; font-size: 16px;">${this.auditoria.titulo}</h3>
              <p style="margin: 0; font-size: 14px;"><strong>Local da Auditoria</strong></p>
            </div>
          `});this.marcadorAuditoria.addListener("click",()=>{e.open(this.mapa,this.marcadorAuditoria)})}if(this.localizacaoAtual){this.marcadorUsuario=new window.google.maps.Marker({position:{lat:this.localizacaoAtual.latitude,lng:this.localizacaoAtual.longitude},map:this.mapa,title:"Sua localização",icon:{url:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png"}});const e=new window.google.maps.InfoWindow({content:`
            <div style="color: black; padding: 10px; font-family: 'Poppins', sans-serif;">
              <h3 style="margin: 0 0 8px 0; font-size: 16px;">Sua Localização</h3>
              <p style="margin: 0; font-size: 14px;">Precisão: ±${((t=this.localizacaoAtual.accuracy)==null?void 0:t.toFixed(0))||"N/A"}m</p>
            </div>
          `});this.marcadorUsuario.addListener("click",()=>{e.open(this.mapa,this.marcadorUsuario)}),this.mapa.setCenter({lat:this.localizacaoAtual.latitude,lng:this.localizacaoAtual.longitude})}if(this.localizacaoAtual&&this.localizacaoAuditoria){const e=new window.google.maps.LatLngBounds;e.extend({lat:this.localizacaoAtual.latitude,lng:this.localizacaoAtual.longitude}),e.extend({lat:this.localizacaoAuditoria.latitude,lng:this.localizacaoAuditoria.longitude}),this.mapa.fitBounds(e);const s=window.google.maps.event.addListener(this.mapa,"idle",()=>{this.mapa.getZoom()>18&&this.mapa.setZoom(18),window.google.maps.event.removeListener(s)})}}},getDarkMapStyle(){return[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}]},showMapError(){const t=document.getElementById("presenceMap");t&&(t.innerHTML=`
          <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; color: #666;">
            <i class="fas fa-exclamation-triangle" style="font-size: 32px; margin-bottom: 16px;"></i>
            <p>Erro ao carregar o mapa</p>
            <small>Verifique a conexão com a internet</small>
          </div>
        `)},getLocationStatusClass(){return!this.localizacaoAtual||this.distanciaCalculada===null?"loading":this.distanciaCalculada<=this.DISTANCIA_MAXIMA?"success":"warning"},getLocationStatusIcon(){return!this.localizacaoAtual||this.distanciaCalculada===null?"fas fa-spinner fa-spin":this.distanciaCalculada<=this.DISTANCIA_MAXIMA?"fas fa-check-circle":"fas fa-exclamation-triangle"},getLocationStatusTitle(){return this.localizacaoAtual?this.distanciaCalculada===null?"Calculando distância...":this.distanciaCalculada<=this.DISTANCIA_MAXIMA?"Dentro do perímetro":"Fora do perímetro":"Obtendo localização..."},getLocationStatusDescription(){return this.localizacaoAtual?this.distanciaCalculada===null?"Calculando distância até o local da auditoria":this.distanciaCalculada<=this.DISTANCIA_MAXIMA?`Você está a ${this.distanciaCalculada.toFixed(0)}m do local. Pode confirmar presença.`:`Você está a ${this.distanciaCalculada.toFixed(0)}m do local. Aproxime-se mais para confirmar.`:"Aguarde enquanto obtemos sua localização"},confirmarPresenca(){if(!this.podeConfirmar){alert("Você precisa estar mais próximo do local da auditoria para confirmar presença.");return}const t={timestamp:new Date().toISOString(),latitude:this.localizacaoAtual.latitude,longitude:this.localizacaoAtual.longitude,distancia:this.distanciaCalculada,accuracy:this.localizacaoAtual.accuracy};this.historicoConfirmacoes.unshift(t),localStorage.setItem(`confirmacoes_${this.auditoria.id}`,JSON.stringify(this.historicoConfirmacoes)),this.auditoria.presencaConfirmada=!0,this.auditoria.dataPresenca=t.timestamp,this.auditoria.localizacaoConfirmacao={latitude:t.latitude,longitude:t.longitude,distancia:t.distancia};let e=JSON.parse(localStorage.getItem("auditoriasEspecialista")||"[]");const s=e.findIndex(n=>n.id===this.auditoria.id);s!==-1&&(e[s]={...this.auditoria},localStorage.setItem("auditoriasEspecialista",JSON.stringify(e))),alert("Presença confirmada com sucesso!"),this.$router.back()},formatarDataCompleta(t){return new Date(t).toLocaleDateString("pt-PT",{weekday:"long",day:"numeric",month:"long",year:"numeric"})},formatarHora(t){return t.toLocaleTimeString("pt-PT",{hour:"2-digit",minute:"2-digit"})},formatarDataHora(t){return new Date(t).toLocaleDateString("pt-PT",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}}},YS={class:"page-container"},XS={class:"page-header"},QS={class:"auditoria-info"},eC={class:"auditoria-title"},tC={class:"auditoria-details"},sC={class:"detail-item"},iC={class:"detail-item"},nC={class:"location-status"},oC={class:"status-icon"},aC={class:"status-content"},rC={class:"status-title"},lC={class:"status-description"},cC={class:"map-section"},uC={id:"presenceMap",class:"map-container"},dC={key:0,class:"map-loading"},fC={key:0,class:"distance-info"},hC={class:"distance-item"},pC={class:"distance-item"},mC={class:"current-location"},gC={key:0,class:"location-card"},vC={class:"location-coords"},bC={class:"coord-item"},yC={class:"coord-value"},_C={class:"coord-item"},wC={class:"coord-value"},IC={class:"location-accuracy"},SC={class:"location-timestamp"},CC={key:1,class:"location-error"},TC={class:"actions-section"},AC=["disabled"],kC=["disabled"],EC={key:0,class:"warning-message"},PC={key:0,class:"history-section"},MC={class:"history-list"},RC={class:"history-content"},DC={class:"history-time"},xC={class:"history-distance"};function OC(t,e,s,n,i,o){var r;const l=xe("BottomNav");return y(),_("div",{class:E(["login-bg",{"light-mode":!i.darkMode}])},[a("button",{class:"theme-toggle",onClick:e[0]||(e[0]=(...c)=>o.toggleTheme&&o.toggleTheme(...c))},[a("i",{class:E(i.darkMode?"fas fa-sun":"fas fa-moon")},null,2)]),a("div",YS,[a("div",XS,[a("button",{class:"back-btn",onClick:e[1]||(e[1]=c=>t.$router.back())},e[4]||(e[4]=[a("i",{class:"fas fa-arrow-left"},null,-1)])),e[5]||(e[5]=a("h2",{class:"page-title"},"Confirmar Presença",-1)),e[6]||(e[6]=a("div",{class:"header-badge location"},[a("i",{class:"fas fa-map-marker-alt"})],-1))]),a("div",QS,[a("h3",eC,b(i.auditoria.titulo),1),a("div",tC,[a("div",sC,[e[7]||(e[7]=a("i",{class:"fas fa-map-marker-alt"},null,-1)),a("span",null,b(i.auditoria.local),1)]),a("div",iC,[e[8]||(e[8]=a("i",{class:"fas fa-calendar"},null,-1)),a("span",null,b(o.formatarDataCompleta(i.auditoria.data)),1)])])]),a("div",nC,[a("div",{class:E(["status-card",o.getLocationStatusClass()])},[a("div",oC,[a("i",{class:E(o.getLocationStatusIcon())},null,2)]),a("div",aC,[a("h4",rC,b(o.getLocationStatusTitle()),1),a("p",lC,b(o.getLocationStatusDescription()),1)])],2)]),a("div",cC,[e[12]||(e[12]=a("h4",{class:"map-title"},[a("i",{class:"fas fa-map"}),H(" Localização ")],-1)),a("div",uC,[i.mapLoaded?V("",!0):(y(),_("div",dC,e[9]||(e[9]=[a("i",{class:"fas fa-spinner fa-spin"},null,-1),a("p",null,"Carregando mapa...",-1)])))]),i.distanciaCalculada?(y(),_("div",fC,[a("div",hC,[e[10]||(e[10]=a("i",{class:"fas fa-route"},null,-1)),a("span",null,"Distância: "+b(i.distanciaCalculada.toFixed(0))+"m",1)]),a("div",pC,[e[11]||(e[11]=a("i",{class:"fas fa-walking"},null,-1)),a("span",null,"~"+b(Math.ceil(i.distanciaCalculada/80))+" min a pé",1)])])):V("",!0)]),a("div",mC,[e[18]||(e[18]=a("h4",{class:"section-title"},[a("i",{class:"fas fa-crosshairs"}),H(" Sua Localização Atual ")],-1)),i.localizacaoAtual?(y(),_("div",gC,[a("div",vC,[a("div",bC,[e[13]||(e[13]=a("span",{class:"coord-label"},"Latitude:",-1)),a("span",yC,b(i.localizacaoAtual.latitude.toFixed(6)),1)]),a("div",_C,[e[14]||(e[14]=a("span",{class:"coord-label"},"Longitude:",-1)),a("span",wC,b(i.localizacaoAtual.longitude.toFixed(6)),1)])]),a("div",IC,[e[15]||(e[15]=a("i",{class:"fas fa-bullseye"},null,-1)),a("span",null,"Precisão: ±"+b(((r=i.localizacaoAtual.accuracy)==null?void 0:r.toFixed(0))||"N/A")+"m",1)]),a("div",SC,[e[16]||(e[16]=a("i",{class:"fas fa-clock"},null,-1)),a("span",null,"Atualizado: "+b(o.formatarHora(new Date)),1)])])):(y(),_("div",CC,[e[17]||(e[17]=a("i",{class:"fas fa-exclamation-triangle"},null,-1)),a("p",null,b(i.erroLocalizacao||"Obtendo localização..."),1)]))]),a("div",TC,[a("button",{class:"action-btn refresh",onClick:e[2]||(e[2]=(...c)=>o.obterLocalizacao&&o.obterLocalizacao(...c)),disabled:i.obtendoLocalizacao},[a("i",{class:E(i.obtendoLocalizacao?"fas fa-spinner fa-spin":"fas fa-sync-alt")},null,2),a("span",null,b(i.obtendoLocalizacao?"Obtendo...":"Atualizar Localização"),1)],8,AC),a("button",{class:"action-btn confirm",onClick:e[3]||(e[3]=(...c)=>o.confirmarPresenca&&o.confirmarPresenca(...c)),disabled:!o.podeConfirmar},e[19]||(e[19]=[a("i",{class:"fas fa-check"},null,-1),a("span",null,"Confirmar Presença",-1)]),8,kC),!o.podeConfirmar&&i.localizacaoAtual?(y(),_("div",EC,[e[20]||(e[20]=a("i",{class:"fas fa-exclamation-triangle"},null,-1)),a("span",null,"Você precisa estar a menos de "+b(i.DISTANCIA_MAXIMA)+"m do local da auditoria",1)])):V("",!0)]),i.historicoConfirmacoes.length>0?(y(),_("div",PC,[e[22]||(e[22]=a("h4",{class:"section-title"},[a("i",{class:"fas fa-history"}),H(" Histórico de Confirmações ")],-1)),a("div",MC,[(y(!0),_(ie,null,Te(i.historicoConfirmacoes,(c,u)=>(y(),_("div",{key:u,class:"history-item"},[e[21]||(e[21]=a("div",{class:"history-icon"},[a("i",{class:"fas fa-check-circle"})],-1)),a("div",RC,[a("span",DC,b(o.formatarDataHora(c.timestamp)),1),a("span",xC,"Distância: "+b(c.distancia.toFixed(0))+"m",1)])]))),128))])])):V("",!0)]),ne(l)],2)}const NC=we(ZS,[["render",OC],["__scopeId","data-v-7822298b"]]),LC=[{path:"/",component:Rv},{path:"/home",component:o1},{path:"/auditorias/adecorrer",component:_r},{path:"/auditorias/concluidas",component:j1},{path:"/auditorias/nova",component:wr},{path:"/mapa",component:xb},{path:"/pedidos",component:$b},{path:"/perfil",component:wy},{path:"/auditoria/:id",component:o_},{path:"/auditoriasconcluidas/:id",component:k0},{path:"/aDecorrer",component:_r},{path:"/novas",component:wr},{path:"/auditoriasnovas/:id",component:Q0},{path:"/definicoes",component:gw},{path:"/especialista/dashboard",component:Ww},{path:"/especialistas/ver",component:SI},{path:"/home/especialista",component:hS},{path:"/detalhe/especialista/:id",component:JS},{path:"/especialista/confirmar-presenca/:id",component:NC}],$C=kh({history:sh("/pwa/"),routes:LC});bf(Cf).use($C).mount("#app");
